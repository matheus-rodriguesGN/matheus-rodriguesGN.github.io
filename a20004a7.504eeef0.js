(window.webpackJsonp=window.webpackJsonp||[]).push([[83],{183:function(e,a,n){"use strict";n.r(a),n.d(a,"frontMatter",(function(){return l})),n.d(a,"metadata",(function(){return c})),n.d(a,"Highlight",(function(){return p})),n.d(a,"rightToc",(function(){return b})),n.d(a,"default",(function(){return m}));var t=n(2),r=n(6),o=(n(0),n(229)),i=n(231),s=n(236),d=n(237),l={id:"PlaygroundAssinaturas",title:"Playground Assinaturas",hide_title:!0,sidebar_label:"Playground Assinaturas"},c={id:"AmbienteTestes/PlaygroundAssinaturas",isDocsHomePage:!1,title:"Playground Assinaturas",description:"Playground: Assinaturas",source:"@site/docs\\AmbienteTestes\\PlaygroundAssinatura.md",permalink:"/docs/AmbienteTestes/PlaygroundAssinaturas",sidebar_label:"Playground Assinaturas",sidebar:"someSidebar",previous:{title:"Playground Notifica\xe7\xf5es",permalink:"/docs/AmbienteTestes/PlaygroundNotification"},next:{title:"Playground Outros",permalink:"/docs/AmbienteTestes/PlaygroundOutros"}},p=function(e){var a=e.children,n=e.color;return Object(o.b)("span",{style:{backgroundColor:n,borderRadius:"2px",color:"#fff",padding:"0.2rem"}},a)},b=[{value:'<Highlight color="#009615">POST</Highlight> /v1/plan',id:"post-v1plan",children:[]},{value:'<Highlight color="#00BBCE">GET</Highlight> /v1/plans',id:"get-v1plans",children:[]},{value:'<Highlight color="#fcaf17">PUT</Highlight> /v1/plan/:id',id:"put-v1planid",children:[]},{value:"<br/>",id:"br",children:[{value:'<Highlight color="#b50000">DELETE</Highlight> /v1/plan/:id',id:"delete-v1planid",children:[]},{value:'<Highlight color="#009615">POST</Highlight> /v1/plan/:id/subscription',id:"post-v1planidsubscription",children:[]},{value:'<Highlight color="#00BBCE">GET</Highlight> /v1/subscription/:id',id:"get-v1subscriptionid",children:[]},{value:'<Highlight color="#fcaf17">PUT</Highlight> /v1/subscription/:id/cancel',id:"put-v1subscriptionidcancel",children:[]},{value:'<Highlight color="#fcaf17">PUT</Highlight> /v1/subscription/:id/metadata',id:"put-v1subscriptionidmetadata",children:[]},{value:'<Highlight color="#009615">POST</Highlight> /v1/subscription/:id/pay',id:"post-v1subscriptionidpay",children:[]},{value:'<Highlight color="#009615">POST</Highlight> /v1/subscription/:id/history',id:"post-v1subscriptionidhistory",children:[]}]}],u={Highlight:p,rightToc:b};function m(e){var a=e.components,n=Object(r.a)(e,["components"]);return Object(o.b)("wrapper",Object(t.a)({},u,n,{components:a,mdxType:"MDXLayout"}),Object(o.b)("h1",{className:"titulo"},"Playground: Assinaturas"),Object(o.b)("div",{className:"subtitulo"},Object(o.b)("p",null,"Para acessar o ambiente de testes voc\xea precisa de uma conta Gerencianet. ",Object(o.b)("a",{href:"https://gerencianet.com.br/#abrirconta",title:"Cadastro ao nosso sistema, seja nosso cliente",target:"_blank"},"Crie sua conta"),"."),Object(o.b)("p",null,'O Playground (tamb\xe9m chamado de "sandbox") \xe9 um ambiente de desenvolvimento/testes no qual o integrador, independente da opera\xe7\xe3o a ser realizada, pode utilizar para conhecer o mecanismo e o fluxo de pagamento em um ambiente 100% de teste e descomplicado. Conhe\xe7a mais sobre o Playground oferecido pela Gerencianet.'),Object(o.b)("p",null,"Uma assinatura \xe9 um conjunto de transa\xe7\xf5es geradas de forma recorrente, podendo ser cobrada por boleto banc\xe1rio ou cart\xe3o de cr\xe9dito. Para mais detalhes sobre assinaturas, confira a se\xe7\xe3o espec\xedfica."),Object(o.b)("p",null,"Para criar uma assinatura, \xe9 bem simples e requer apenas tr\xeas passos:"),Object(o.b)("ol",null,Object(o.b)("li",{parentName:"ol"},"Primeiro, crie o plano de assinatura atrav\xe9s do endpoint ",Object(o.b)("inlineCode",{parentName:"li"},"POST /v1/plan"),";"),Object(o.b)("li",{parentName:"ol"},"Agora, crie assinaturas para vincular ao plano atrav\xe9s do endpoint ",Object(o.b)("inlineCode",{parentName:"li"},"POST /v1/plan/:id/subscription"),";"),Object(o.b)("li",{parentName:"ol"},"Por fim, defina a forma de pagamento da assinatura atrav\xe9s do endpoint",Object(o.b)("inlineCode",{parentName:"li"},"POST /v1/subscription/:id/pay"),".")),Object(o.b)("p",null,'A seguir, confira todos os endpoints presentes em nosso Playground, dentro da modalidade de "Assinaturas":'),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)(p,{color:"#009615",mdxType:"Highlight"},"POST")," ",Object(o.b)("a",{href:"../AmbienteTestes/PlaygroundAssinaturas#post-v1plan"},"/v1/plan")," (cria o plano de assinatura)    "),Object(o.b)("li",{parentName:"ul"},Object(o.b)(p,{color:"#00BBCE",mdxType:"Highlight"},"GET"),"  ",Object(o.b)("a",{href:"../AmbienteTestes/PlaygroundAssinaturas#get-v1plans"},"/v1/plans"),"(retorna informa\xe7\xf5es de um plano)"),Object(o.b)("li",{parentName:"ul"},Object(o.b)(p,{color:"#fcaf17",mdxType:"Highlight"},"PUT")," ",Object(o.b)("a",{href:"../AmbienteTestes/PlaygroundAssinaturas#put-v1planid"},"/v1/plan/:id")," (permitir a edi\xe7\xe3o do nome do plano de assinatura)"),Object(o.b)("li",{parentName:"ul"},Object(o.b)(p,{color:"#b50000",mdxType:"Highlight"},"DELETE"),"  ",Object(o.b)("a",{href:"../AmbienteTestes/PlaygroundAssinaturas#delete-v1planid"},"/v1/plan/:id ")," (cancela um plano de assinatura)"),Object(o.b)("li",{parentName:"ul"},Object(o.b)(p,{color:"#009615",mdxType:"Highlight"},"POST")," ",Object(o.b)("a",{href:"../AmbienteTestes/PlaygroundAssinaturas#post-v1planidsubscription"},"/v1/plan/:id/subscription"),"(cria assinaturas para vincular a planos)"),Object(o.b)("li",{parentName:"ul"},Object(o.b)(p,{color:"#00BBCE",mdxType:"Highlight"},"GET"),"  ",Object(o.b)("a",{href:"../AmbienteTestes/PlaygroundAssinaturas#get-v1subscriptionid"},"/v1/subscription/:id")," (retorna informa\xe7\xf5es de uma assinatura vinculada a um plano)"),Object(o.b)("li",{parentName:"ul"},Object(o.b)(p,{color:"#fcaf17",mdxType:"Highlight"},"PUT")," ",Object(o.b)("a",{href:"../AmbienteTestes/PlaygroundAssinaturas#put-v1subscriptionidcancel"},"/v1/subscription/:id/cancel")," (cancelar inscri\xe7\xf5es ativas em um plano de assinaturas)"),Object(o.b)("li",{parentName:"ul"},Object(o.b)(p,{color:"#fcaf17",mdxType:"Highlight"},"PUT")," ",Object(o.b)("a",{href:"../AmbienteTestes/PlaygroundAssinaturas#put-v1subscriptionidmetadata"},"/v1/subscription/:id/metadata"),' (incluir "notification_url" e "custom_id" em uma assinatura existente)'),Object(o.b)("li",{parentName:"ul"},Object(o.b)(p,{color:"#009615",mdxType:"Highlight"},"POST"),"  ",Object(o.b)("a",{href:"../AmbienteTestes/PlaygroundAssinaturas#post-v1subscriptionidpay"},"/v1/subscription/:id/pay")," (associa m\xe9todo de pagamento \xe0 uma assinatura j\xe1 criada)"),Object(o.b)("li",{parentName:"ul"},Object(o.b)(p,{color:"#009615",mdxType:"Highlight"},"POST")," ",Object(o.b)("a",{href:"../AmbienteTestes/PlaygroundAssinaturas#post-v1subscriptionidhistory"},"/v1/subscription/:id/history"),"(acrescentar descri\xe7\xe3o ao hist\xf3rico de uma assinatura)")),Object(o.b)("br",null),Object(o.b)("hr",null),Object(o.b)("h3",{id:"post-v1plan"},Object(o.b)(p,{color:"#009615",mdxType:"Highlight"},"POST")," /v1/plan"),Object(o.b)("p",null,"Cria o plano de assinatura, sendo definido pelo integrador o nome do plano, intervalo (em meses) em que a assinatura ser\xe1 gerada e a quantidade de repeti\xe7\xf5es que a cobran\xe7a ser\xe1 gerada."),Object(o.b)("p",null,"Na imagem a seguir, \xe9 poss\xedvel observar a tela de nosso ambiente de testes no qual constam os recursos atrelados ao m\xe9todo ",Object(o.b)("inlineCode",{parentName:"p"},"POST /v1/plan")," que est\xe3o dispon\xedveis para utiliza\xe7\xe3o:"),Object(o.b)("a",{href:Object(i.a)("img/post_plan.png"),target:"_blank"},Object(o.b)("img",{src:Object(i.a)("img/post_plan.png")})),Object(o.b)("p",null,' seguir, um JSON simples que cria plano de assinatura no Playground. Nele, est\xe1 sendo definido que a assinatura \xe9 chamada "',Object(o.b)("em",{parentName:"p"},"Plano de Internet - Velocidade 10 Mb"),'", a cobran\xe7a \xe9 "',Object(o.b)("em",{parentName:"p"},"mensal"),'" e ser\xe3o geradas "',Object(o.b)("em",{parentName:"p"},"12 cobran\xe7as"),'" (ou at\xe9 que o plano seja cancelado).'),Object(o.b)("p",null,"Al\xe9m disso, \xe9 poss\xedvel observar a sa\xedda prevista e o schema de valida\xe7\xe3o com todas as tags (obrigat\xf3rias e opcionais) dispon\xedveis para este m\xe9todo:"),Object(o.b)(s.a,{defaultValue:"entrada",values:[{label:"Dados de Entrada",value:"entrada"},{label:"Dados de Sa\xedda",value:"saida"},{label:"Schema",value:"schema"}],mdxType:"Tabs"},Object(o.b)(d.a,{value:"entrada",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "name": "Plano de Internet - Velocidade 10 Mb",\n  "interval": 1,\n  "repeats": 12\n}\n'))),Object(o.b)(d.a,{value:"saida",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "code": 200, // retorno HTTP "200" informando que o pedido foi bem sucedido\n  "data": {\n    "plan_id": numero_plan_id, // n\xfamero da ID referente ao plano de assinatura criado\n    "name": "Plano de Internet - Velocidade 10 Mb", // nome do plano de assinatura\n    "interval": 12, // intervalo que as cobran\xe7as devem ser geradas, em meses\n    "repeats": null, // n\xfamero de vezes que a cobran\xe7a deve ser gerada - neste caso, indefinidamente\n    "created_at": "2016-06-28 15:48:32" // data e hora da cria\xe7\xe3o da transa\xe7\xe3o\n  }\n}\n'))),Object(o.b)(d.a,{value:"schema",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "id": "/Plan",\n  "type": "object",\n  "properties": {\n    "name": {\n      "type": "string",\n      "minLength": 1,\n      "maxLength": 255\n    },\n    "interval": {\n      "type": "integer",\n      "minimum": 1,\n      "exclusiveMinimum": false,\n      "maximum": 24,\n      "exclusiveMaximum": false\n    },\n    "repeats": {\n      "type": [\n        "integer",\n        "null"\n      ],\n      "minimum": 2,\n      "maximum": 120,\n      "exclusiveMinimum": false,\n      "exclusiveMaximum": false\n    }\n  },\n  "required": [\n    "name",\n    "interval"\n  ]\n}\n')))),Object(o.b)("br",null),Object(o.b)("hr",null),Object(o.b)("h3",{id:"get-v1plans"},Object(o.b)(p,{color:"#00BBCE",mdxType:"Highlight"},"GET")," /v1/plans"),Object(o.b)("p",null,"Busca informa\xe7\xf5es relacionadas \xe0 uma assinatura. Existem filtros avan\xe7ados que podem ser utilizados para localizar, tais como:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"Name"),": retorna resultados a partir da procura pelo nome do plano cadastrado previamente;"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"Limit"),": limite m\xe1ximo de registros de resposta;"),Object(o.b)("li",{parentName:"ul"},Object(o.b)("inlineCode",{parentName:"li"},"Offset"),": determina a partir de qual registro a busca ser\xe1 realizada.")),Object(o.b)("p",null,"Na imagem a seguir, \xe9 poss\xedvel observar a tela de nosso ambiente de testes no qual constam os recursos atrelados ao m\xe9todo ",Object(o.b)("inlineCode",{parentName:"p"},"GET /v1/plans")," que est\xe3o dispon\xedveis para utiliza\xe7\xe3o:"),Object(o.b)("a",{href:Object(i.a)("img/get-plans.png"),target:"_blank"},Object(o.b)("img",{src:Object(i.a)("img/get-plans.png")})),Object(o.b)("p",null,"A seguir, um JSON simples que pode ser utilizado para buscar informa\xe7\xf5es relacionadas \xe0 uma assinatura criada previamente em Playground. Esse JSON retorna informa\xe7\xf5es relacionadas \xe0 uma assinatura, podendo utilizar algum dos tr\xeas par\xe2metros de entrada ",Object(o.b)("inlineCode",{parentName:"p"},"name"),", ",Object(o.b)("inlineCode",{parentName:"p"},"limit")," e ",Object(o.b)("inlineCode",{parentName:"p"},"offset")," para buscar - se nada for informado, retorna todas as assinaturas criadas em Playground."),Object(o.b)("p",null,"Al\xe9m disso, \xe9 poss\xedvel observar a sa\xedda prevista dispon\xedvel para este m\xe9todo. Lembrando que tamb\xe9m \xe9 preciso informar os par\xe2metros de entrada ",Object(o.b)("inlineCode",{parentName:"p"},"name"),", ",Object(o.b)("inlineCode",{parentName:"p"},"limit")," e ",Object(o.b)("inlineCode",{parentName:"p"},"offset")," da assinatura desejada."),Object(o.b)(s.a,{defaultValue:"entrada",values:[{label:"Dados de Entrada",value:"entrada"},{label:"Dados de Sa\xedda",value:"saida"}],mdxType:"Tabs"},Object(o.b)(d.a,{value:"entrada",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{}),'  Par\xe2metro de entrada: informe a "name", "limit" e "offset" da assinatura desejada\n'))),Object(o.b)(d.a,{value:"saida",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "code": 200, // retorno HTTP "200" informando que o pedido foi bem sucedido\n  "data": [\n    {\n      "plan_id": numero_plan_id, // n\xfamero da ID referente ao plano de assinatura criado\n      "name": "Plano de Internet - Velocidade 1 Mb", // nome do plano de assinatura\n      "interval": 1, // intervalo que as cobran\xe7as devem ser geradas, em meses\n      "repeats": null, // n\xfamero de vezes que a cobran\xe7a deve ser gerada - neste caso, indefinidamente\n      "created_at": "2016-05-02" // data e hora da cria\xe7\xe3o da transa\xe7\xe3o\n    },\n    {\n      "plan_id": numero_plan_id, // n\xfamero da ID referente ao plano de assinatura criado\n      "name": "Plano de Internet - Velocidade 10 Mb", // nome do plano de assinatura\n      "interval": 12, // intervalo que as cobran\xe7as devem ser geradas, em meses\n      "repeats": null, // n\xfamero de vezes que a cobran\xe7a deve ser gerada - neste caso, indefinidamente\n      "created_at": "2016-06-28" // data e hora da cria\xe7\xe3o da transa\xe7\xe3o\n    },\n    {\n      "plan_id": numero_plan_id, // n\xfamero da ID referente ao plano de assinatura criado\n      "name": "Plano de Internet - Velocidade 20 Mb", // nome do plano de assinatura\n      "interval": 10, // intervalo que as cobran\xe7as devem ser geradas, em meses\n      "repeats": null, // n\xfamero de vezes que a cobran\xe7a deve ser gerada - neste caso, indefinidamente\n      "created_at": "2016-06-29" // data e hora da cria\xe7\xe3o da transa\xe7\xe3o\n    },\n    {\n      "plan_id": numero_plan_id, // n\xfamero da ID referente ao plano de assinatura criado\n      "name": "Plano de Internet - Velocidade 30 Mb", // nome do plano de assinatura\n      "interval": 12, // intervalo que as cobran\xe7as devem ser geradas, em meses\n      "repeats": null, // n\xfamero de vezes que a cobran\xe7a deve ser gerada - neste caso, indefinidamente\n      "created_at": "2016-06-29" // data e hora da cria\xe7\xe3o da transa\xe7\xe3o\n    }\n  ]\n}\n')))),Object(o.b)("br",null),Object(o.b)("hr",null),Object(o.b)("h3",{id:"put-v1planid"},Object(o.b)(p,{color:"#fcaf17",mdxType:"Highlight"},"PUT")," /v1/plan/:id"),Object(o.b)("p",null,"Permite alterar (editar) o nome de um plano de assinatura pr\xe9 existente. Para tal, deve ser fornecido o identificador do ",Object(o.b)("inlineCode",{parentName:"p"},"plan_id")," desejado."),Object(o.b)("p",null,"Na imagem a seguir, \xe9 poss\xedvel observar a tela de nosso ambiente de testes no qual constam os recursos atrelados ao m\xe9todo ",Object(o.b)("inlineCode",{parentName:"p"},"PUT /v1/plan/:id")," que est\xe3o dispon\xedveis para utiliza\xe7\xe3o:"),Object(o.b)("a",{href:Object(i.a)("img/put-plan-id.png"),target:"_blank"},Object(o.b)("img",{src:Object(i.a)("img/put-plan-id.png")})),Object(o.b)("p",null,'A seguir, um JSON simples que pode ser utilizado para editar o nome de um plano de assinatura j\xe1 existente. Neste caso, este JSON ir\xe1 atualizar o nome do plano de assinatura existente para "',Object(o.b)("inlineCode",{parentName:"p"},"Meu novo nome do plano"),'".'),Object(o.b)("p",null,"Al\xe9m disso, \xe9 poss\xedvel observar a sa\xedda prevista e o schema de valida\xe7\xe3o com todas as tags (obrigat\xf3rias e opcionais) dispon\xedveis para este m\xe9todo. Lembrando que \xe9 necess\xe1rio informar o identificador do plano de assinatura, que no caso \xe9 o ",Object(o.b)("inlineCode",{parentName:"p"},"plan_id"),":"),Object(o.b)(s.a,{defaultValue:"entrada",values:[{label:"Dados de Entrada",value:"entrada"},{label:"Dados de Sa\xedda",value:"saida"},{label:"Schema",value:"schema"}],mdxType:"Tabs"},Object(o.b)(d.a,{value:"entrada",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "name": "Meu novo nome do plano"\n}\n'))),Object(o.b)(d.a,{value:"saida",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "code": 200 // retorno HTTP "200" informando que o pedido foi bem sucedido\n}\n'))),Object(o.b)(d.a,{value:"schema",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "id": "/UpdatePlan",\n  "type": "object",\n  "properties": {\n    "name": {\n      "type": "string",\n      "minLength": 1,\n      "maxLength": 255\n    }\n  },\n  "required": [\n    "name"\n  ]\n}\n')))),Object(o.b)("h2",{id:"br"},Object(o.b)("br",null)),Object(o.b)("h3",{id:"delete-v1planid"},Object(o.b)(p,{color:"#b50000",mdxType:"Highlight"},"DELETE")," /v1/plan/:id"),Object(o.b)("p",null,"Permite cancelar um plano de assinatura. Para tal, voc\xea deve informar o ",Object(o.b)("inlineCode",{parentName:"p"},"plan_id"),"."),Object(o.b)("p",null,"Na imagem a seguir, \xe9 poss\xedvel observar a tela de nosso ambiente de testes no qual constam os recursos atrelados ao m\xe9todo ",Object(o.b)("inlineCode",{parentName:"p"},"DELETE /v1/plan/:id")," que est\xe3o dispon\xedveis para utiliza\xe7\xe3o:"),Object(o.b)("a",{href:Object(i.a)("img/delete-plan-id.png"),target:"_blank"},Object(o.b)("img",{src:Object(i.a)("img/delete-plan-id.png")})),Object(o.b)("p",null,"A seguir, um JSON simples que pode ser utilizado para cancelar um plano de assinatura."),Object(o.b)("p",null,"Al\xe9m disso, \xe9 poss\xedvel observar a sa\xedda prevista dispon\xedvel para este m\xe9todo. Cabe frisar que \xe9 necess\xe1rio que seja informado o par\xe2metro de entrada ",Object(o.b)("inlineCode",{parentName:"p"},"plan_id")," do plano de assinatura desejado:"),Object(o.b)(s.a,{defaultValue:"entrada",values:[{label:"Dados de Entrada",value:"entrada"},{label:"Dados de Sa\xedda",value:"saida"}],mdxType:"Tabs"},Object(o.b)(d.a,{value:"entrada",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{}),'  Par\xe2metro de entrada: informe o "plan_id" do plano de assinatura desejado\n'))),Object(o.b)(d.a,{value:"saida",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "code": 200 // retorno HTTP "200" informando que o pedido foi bem sucedido\n}\n')))),Object(o.b)("br",null),Object(o.b)("hr",null),Object(o.b)("h3",{id:"post-v1planidsubscription"},Object(o.b)(p,{color:"#009615",mdxType:"Highlight"},"POST")," /v1/plan/:id/subscription"),Object(o.b)("p",null,"Cria uma assinatura quando voc\xea precisa cobrar de forma recorrente seus clientes. Desta forma, os custos subsequentes ser\xe3o criados automaticamente com base na configura\xe7\xe3o do plano. Para tal, voc\xea deve informar o ",Object(o.b)("code",null,"plan_id")," do plano criado previamente no qual deseja associar a uma assinatura."),Object(o.b)("p",null,"Na imagem a seguir, \xe9 poss\xedvel observar a tela de nosso ambiente de testes no qual constam os recursos atrelados ao m\xe9todo ",Object(o.b)("code",null,"POST /v1/plan/:id/subscription")," que est\xe3o dispon\xedveis para utiliza\xe7\xe3o:"),Object(o.b)("a",{href:Object(i.a)("img/post-plan-id-subscription.png"),target:"_blank"},Object(o.b)("img",{src:Object(i.a)("img/post-plan-id-subscription.png")})),Object(o.b)("p",null,"A seguir, um JSON simples que permite criar assinaturas e associ\xe1-las a planos para efetuar cobran\xe7as de forma recorrente. Esse JSON associa a assinatura intitulada ",Object(o.b)("em",{parentName:"p"},'"Internet - Mensalidade"')," ao plano de plano de assinatura (",Object(o.b)("code",null,"plan_id"),") informado no par\xe2metro de entrada, valor de ",Object(o.b)("em",{parentName:"p"},"R$ 69,90")," e quantidade igual a ",Object(o.b)("em",{parentName:"p"},"1"),"."),Object(o.b)("p",null,"Al\xe9m disso, \xe9 poss\xedvel observar a sa\xedda prevista e o schema de valida\xe7\xe3o com todas as tags (obrigat\xf3rias e opcionais) dispon\xedveis para este m\xe9todo. Lembrando que voc\xea deve informar o ",Object(o.b)("code",null,"plan_id")," do plano que deseja associar a uma assinatura:"),Object(o.b)(s.a,{defaultValue:"entrada",values:[{label:"Dados de Entrada",value:"entrada"},{label:"Dados de Sa\xedda",value:"saida"},{label:"Schema",value:"schema"}],mdxType:"Tabs"},Object(o.b)(d.a,{value:"entrada",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "items": [\n    {\n      "name": "Internet - Mensalidade",\n      "value": 6990,\n      "amount": 1\n    }\n  ]\n}\n'))),Object(o.b)(d.a,{value:"saida",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "code": 200, // retorno HTTP "200" informando que o pedido foi bem sucedido\n  "data": {\n    "subscription_id": numero_subscription_id, // n\xfamero ID referente \xe0 inscri\xe7\xe3o gerada\n    "status": "new", // cobran\xe7a gerada, aguardando defini\xe7\xe3o da forma de pagamento\n    "custom_id": null, // identificador pr\xf3prio opcional\n    "charges": [\n      {\n        "charge_id": numero_charge_id, // n\xfamero da ID referente \xe0 transa\xe7\xe3o gerada\n        "status": "new", // cobran\xe7a gerada, aguardando defini\xe7\xe3o da forma de pagamento\n        "total": 6990, // valor total da transa\xe7\xe3o (em centavos, sendo 6990 = R$69,90)\n        "parcel": 1 // n\xfamero de parcelas\n      }\n    ],\n    "created_at": "2016-06-29 10:42:59" // data e hora da cria\xe7\xe3o da transa\xe7\xe3o\n  }\n}\n'))),Object(o.b)(d.a,{value:"schema",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "id": "/Subscription",\n  "type": "object",\n  "properties": {\n    "items": {\n      "id": "/Item",\n      "type": "array",\n      "minItems": 1,\n      "items": {\n        "type": "object",\n        "properties": {\n          "name": {\n            "type": "string",\n            "minLength": 1,\n            "maxLength": 255,\n            "pattern": "^[^<>]+$"\n          },\n          "value": {\n            "type": "integer",\n            "minimum": 0\n          },\n          "amount": {\n            "type": "integer",\n            "minimum": 1,\n            "exclusiveMinimum": false\n          }\n        },\n        "required": [\n          "name",\n          "value"\n        ]\n      }\n    },\n    "shippings": {\n      "id": "/Shipping",\n      "type": "array",\n      "minItems": 1,\n      "items": {\n        "type": "object",\n        "properties": {\n          "name": {\n            "type": "string",\n            "maxLength": 255\n          },\n          "value": {\n            "type": "integer",\n            "minimum": 0\n          },\n          "payee_code": {\n            "type": "string",\n            "pattern": "^[a-fA-F0-9]{32}$"\n          }\n        },\n        "required": [\n          "name",\n          "value"\n        ]\n      }\n    },\n    "metadata": {\n      "type": "object",\n      "properties": {\n        "custom_id": {\n          "type": [\n            "string",\n            "null"\n          ]\n        },\n        "notification_url": {\n          "type": [\n            "string",\n            "null"\n          ],\n          "pattern": "^https?://.+"\n        }\n      }\n    }\n  },\n  "required": [\n    "items"\n  ]\n}\n')))),Object(o.b)("br",null),Object(o.b)("hr",null),Object(o.b)("h3",{id:"get-v1subscriptionid"},Object(o.b)(p,{color:"#00BBCE",mdxType:"Highlight"},"GET")," /v1/subscription/:id"),Object(o.b)("p",null,"Possibilita buscar informa\xe7\xf5es de uma assinatura que est\xe1 vinculada a um plano."),Object(o.b)("p",null,"Na imagem a seguir, \xe9 poss\xedvel observar a tela de nosso ambiente de testes no qual constam os recursos atrelados ao m\xe9todo ",Object(o.b)("inlineCode",{parentName:"p"},"GET /v1/subscription/:id")," que est\xe3o dispon\xedveis para utiliza\xe7\xe3o:"),Object(o.b)("a",{href:Object(i.a)("img/get-subscription-id.png"),target:"_blank"},Object(o.b)("img",{src:Object(i.a)("img/get-subscription-id.png")})),Object(o.b)("p",null,"A seguir, um JSON simples que pode ser utilizado para buscar informa\xe7\xf5es relacionadas \xe0 inscri\xe7\xe3o de uma assinatura vinculada a um plano criado no Playground. Neste caso, ser\xe3o retornadas informa\xe7\xf5es de uma assinatura que est\xe1 vinculada a um plano, de acordo com o ",Object(o.b)("inlineCode",{parentName:"p"},"subscription_id")," informado no par\xe2metro de entrada."),Object(o.b)("p",null,"Al\xe9m disso, \xe9 poss\xedvel observar a sa\xedda prevista dispon\xedvel para este m\xe9todo. Lembrando que tamb\xe9m \xe9 preciso informar o par\xe2metro de entrada ",Object(o.b)("inlineCode",{parentName:"p"},"subscription_id")," da assinatura desejada:"),Object(o.b)(s.a,{defaultValue:"entrada",values:[{label:"Dados de Entrada",value:"entrada"},{label:"Dados de Sa\xedda",value:"saida"}],mdxType:"Tabs"},Object(o.b)(d.a,{value:"entrada",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{}),'  Par\xe2metro de entrada: informe a "subscription_id" da transa\xe7\xe3o desejada\n'))),Object(o.b)(d.a,{value:"saida",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "code": 200, // retorno HTTP "200" informando que o pedido foi bem sucedido\n  "data": {\n    "subscription_id": numero_subscription_id, // n\xfamero ID referente \xe0 inscri\xe7\xe3o gerada\n    "value": 6990, // valor da inscri\xe7\xe3o (6990 equivale a R$69,90)\n    "status": "new", // cobran\xe7a gerada, aguardando defini\xe7\xe3o da forma de pagamento\n    "custom_id": null, // identificador pr\xf3prio opcional\n    "notification_url": null, // endere\xe7o da sua URL que receber\xe1 as notifica\xe7\xf5es de mudan\xe7as de status das transa\xe7\xf5es\n    "payment_method": null, // m\xe9todo de pagamento (null = ainda n\xe3o foi definido), (banking_billet = boleto banc\xe1rio) ou (credit_card = cart\xe3o de cr\xe9dito)\n    "next_execution": null, // data da pr\xf3xima execu\xe7\xe3o\n    "next_expire_at": null, // data do pr\xf3ximo vencimento no formato 2016-12-30\n    "plan": {\n      "plan_id": numero_plan_id, // n\xfamero ID referente ao plano de assinatura criado\n      "name": "Plano de Internet - Velocidade 10 Mb", // nome do plano de assinatura\n      "interval": 12, // intervalo que as cobran\xe7as devem ser geradas, em meses\n      "repeats": null // n\xfamero de vezes que a cobran\xe7a deve ser gerada - neste caso, indefinidamente\n    },\n    "occurrences": 0,\n    "created_at": "2016-06-29 10:42:59", // data e hora da cria\xe7\xe3o da transa\xe7\xe3o\n    "history": [\n      {\n        "charge_id": numero_charge_id, // n\xfamero da ID referente \xe0 transa\xe7\xe3o gerada\n        "status": "new", // cobran\xe7a gerada, aguardando defini\xe7\xe3o da forma de pagamento\n        "created_at": "2016-06-29 10:42:59" // data e hora da cria\xe7\xe3o da transa\xe7\xe3o\n      }\n    ]\n  }\n}\n')))),Object(o.b)("br",null),Object(o.b)("hr",null),Object(o.b)("h3",{id:"put-v1subscriptionidcancel"},Object(o.b)(p,{color:"#fcaf17",mdxType:"Highlight"},"PUT")," /v1/subscription/:id/cancel"),Object(o.b)("p",null,"Permite cancelar assinaturas ativas em um plano de assinaturas. Para tal, deve-se informar o ",Object(o.b)("inlineCode",{parentName:"p"},"subscription_id")," da assinatura que deseja cancelar."),Object(o.b)("p",null,"Na imagem a seguir, \xe9 poss\xedvel observar a tela de nosso ambiente de testes no qual constam os recursos atrelados ao m\xe9todo ",Object(o.b)("inlineCode",{parentName:"p"},"PUT /v1/subscription/:id/cancel")," que est\xe3o dispon\xedveis para utiliza\xe7\xe3o:"),Object(o.b)("a",{href:Object(i.a)("img/put-subscription-id-cancel.png"),target:"_blank"},Object(o.b)("img",{src:Object(i.a)("img/put-subscription-id-cancel.png")})),Object(o.b)("p",null,"A seguir, um JSON simples que permite cancelar inscri\xe7\xf5es ativas em um plano de assinaturas criado em Playground."),Object(o.b)("p",null,"Al\xe9m disso, \xe9 poss\xedvel observar a sa\xedda prevista dispon\xedvel para este m\xe9todo. Lembrando que tamb\xe9m \xe9 preciso informar o par\xe2metro de entrada ",Object(o.b)("inlineCode",{parentName:"p"},"subscription_id")," da assinatura desejada:"),Object(o.b)(s.a,{defaultValue:"entrada",values:[{label:"Dados de Entrada",value:"entrada"},{label:"Dados de Sa\xedda",value:"saida"}],mdxType:"Tabs"},Object(o.b)(d.a,{value:"entrada",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{}),'  Par\xe2metro de entrada: informe a "subscription_id" da transa\xe7\xe3o desejada\n'))),Object(o.b)(d.a,{value:"saida",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "code": 200 // retorno HTTP "200" informando que o pedido foi bem sucedido\n}\n')))),Object(o.b)("br",null),Object(o.b)("hr",null),Object(o.b)("h3",{id:"put-v1subscriptionidmetadata"},Object(o.b)(p,{color:"#fcaf17",mdxType:"Highlight"},"PUT")," /v1/subscription/:id/metadata"),Object(o.b)("p",null,"Altera as informa\xe7\xf5es enviadas na propriedade ",Object(o.b)("code",null,"metadata")," de uma assinatura a qualquer momento. Este endpoint \xe9 de ",Object(o.b)("strong",{parentName:"p"},"extrema import\xe2ncia")," para atualizar sua URL de notifica\xe7\xe3o atrelada \xe0s assinaturas ou modificar o custom_id previamente associado a assinatura."),Object(o.b)("p",null,"Nesse caso, todas as transa\xe7\xf5es pertencentes \xe0 assinatura ser\xe3o atualizadas."),Object(o.b)("p",null,Object(o.b)("strong",{parentName:"p"},"Casos de uso deste endpoint:")),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Integrador alterou o IP do servidor que estava associado na URL de notifica\xe7\xe3o das assinaturas/transa\xe7\xf5es;")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Integrador atualizou a URL de notifica\xe7\xe3o para as novas assinaturas/transa\xe7\xf5es que forem criadas, mas precisa atualizar tamb\xe9m nas assinaturas/transa\xe7\xf5es anteriores que foram geradas e que est\xe3o associadas com a URL incorreta/desatualizada;")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},'Foi instalado SSL (https) no servidor do cliente e mesmo que o cliente defina uma regra de redirecionamento 301 ou 302, ser\xe1 preciso definir a nova URL nas assinaturas/transa\xe7\xf5es que est\xe3o com a URL "antiga";')),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Integrador gerou cobran\xe7as e n\xe3o havia informado a URL de notifica\xe7\xe3o ao enviar a requisi\xe7\xe3o de cria\xe7\xe3o da assinatura/transa\xe7\xe3o;")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Modificar ou acrescentar uma informa\xe7\xe3o junto ao atributo custom_id associado \xe0s assinaturas/transa\xe7\xf5es geradas previamente;")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},"Dentre outros poss\xedveis cen\xe1rios."))),Object(o.b)("p",null,"Na imagem a seguir, \xe9 poss\xedvel observar a tela de nosso ambiente de testes no qual constam os recursos atrelados ao m\xe9todo ",Object(o.b)("code",null,"PUT /v1/subscription/:id/metadata")," que est\xe3o dispon\xedveis para utiliza\xe7\xe3o:"),Object(o.b)("a",{href:Object(i.a)("img/put-subscription-metadata.png"),target:"_blank"},Object(o.b)("img",{src:Object(i.a)("img/put-subscription-metadata.png")})),Object(o.b)("p",null,"A seguir, um JSON simples que pode ser utilizado para alterar a URL de notifica\xe7\xe3o e o custom_id de uma transa\xe7\xe3o j\xe1 existente no Playground."),Object(o.b)("p",null,"Al\xe9m disso, \xe9 poss\xedvel observar a sa\xedda prevista e o schema de valida\xe7\xe3o com todas as tags (obrigat\xf3rias e opcionais) dispon\xedveis para este m\xe9todo. Lembrando que tamb\xe9m \xe9 preciso informar o par\xe2metro de entrada ",Object(o.b)("inlineCode",{parentName:"p"},"subscription_id")," da assinatura desejada:"),Object(o.b)(s.a,{defaultValue:"entrada",values:[{label:"Dados de Entrada",value:"entrada"},{label:"Dados de Sa\xedda",value:"saida"},{label:"Schema",value:"schema"}],mdxType:"Tabs"},Object(o.b)(d.a,{value:"entrada",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "items": [\n    {\n      "name": "Internet - Mensalidade",\n      "value": 6990,\n      "amount": 1\n    }\n  ]\n}\n'))),Object(o.b)(d.a,{value:"saida",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "code": 200, // retorno HTTP "200" informando que o pedido foi bem sucedido\n  "data": {\n    "subscription_id": numero_subscription_id, // n\xfamero ID referente \xe0 inscri\xe7\xe3o gerada\n    "status": "new", // cobran\xe7a gerada, aguardando defini\xe7\xe3o da forma de pagamento\n    "custom_id": null, // identificador pr\xf3prio opcional\n    "charges": [\n      {\n        "charge_id": numero_charge_id, // n\xfamero da ID referente \xe0 transa\xe7\xe3o gerada\n        "status": "new", // cobran\xe7a gerada, aguardando defini\xe7\xe3o da forma de pagamento\n        "total": 6990, // valor total da transa\xe7\xe3o (em centavos, sendo 6990 = R$69,90)\n        "parcel": 1 // n\xfamero de parcelas\n      }\n    ],\n    "created_at": "2016-06-29 10:42:59" // data e hora da cria\xe7\xe3o da transa\xe7\xe3o\n  }\n}\n'))),Object(o.b)(d.a,{value:"schema",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "id": "/Subscription",\n  "type": "object",\n  "properties": {\n    "items": {\n      "id": "/Item",\n      "type": "array",\n      "minItems": 1,\n      "items": {\n        "type": "object",\n        "properties": {\n          "name": {\n            "type": "string",\n            "minLength": 1,\n            "maxLength": 255,\n            "pattern": "^[^<>]+$"\n          },\n          "value": {\n            "type": "integer",\n            "minimum": 0\n          },\n          "amount": {\n            "type": "integer",\n            "minimum": 1,\n            "exclusiveMinimum": false\n          }\n        },\n        "required": [\n          "name",\n          "value"\n        ]\n      }\n    },\n    "shippings": {\n      "id": "/Shipping",\n      "type": "array",\n      "minItems": 1,\n      "items": {\n        "type": "object",\n        "properties": {\n          "name": {\n            "type": "string",\n            "maxLength": 255\n          },\n          "value": {\n            "type": "integer",\n            "minimum": 0\n          },\n          "payee_code": {\n            "type": "string",\n            "pattern": "^[a-fA-F0-9]{32}$"\n          }\n        },\n        "required": [\n          "name",\n          "value"\n        ]\n      }\n    },\n    "metadata": {\n      "type": "object",\n      "properties": {\n        "custom_id": {\n          "type": [\n            "string",\n            "null"\n          ]\n        },\n        "notification_url": {\n          "type": [\n            "string",\n            "null"\n          ],\n          "pattern": "^https?://.+"\n        }\n      }\n    }\n  },\n  "required": [\n    "items"\n  ]\n}\n')))),Object(o.b)("br",null),Object(o.b)("hr",null),Object(o.b)("h3",{id:"post-v1subscriptionidpay"},Object(o.b)(p,{color:"#009615",mdxType:"Highlight"},"POST")," /v1/subscription/:id/pay"),Object(o.b)("p",null,"Define uma forma recorrente de pagamento \xe0 uma determinada assinatura. Ela poder\xe1 ser por cart\xe3o de cr\xe9dito ou boleto banc\xe1rio:"),Object(o.b)("ul",null,Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("em",{parentName:"p"},"Cart\xe3o:")," far\xe1 d\xe9bitos em seu cart\xe3o mensalmente de acordo conforme o n\xfamero de repeti\xe7\xf5es definido pelo plano;")),Object(o.b)("li",{parentName:"ul"},Object(o.b)("p",{parentName:"li"},Object(o.b)("em",{parentName:"p"},"Boleto:")," ser\xe1 gerado conforme o n\xfamero de repeti\xe7\xf5es definido pelo plano, podendo ser enviado por e-mail. O assinante ou o vendedor podem cancelar a assinatura a qualquer momento. Quando isso ocorre, os dois s\xe3o avisados via e-mail, com todos os detalhes do cancelamento."))),Object(o.b)("p",null,"Na imagem a seguir, \xe9 poss\xedvel observar a tela de nosso ambiente de testes no qual constam os recursos atrelados ao m\xe9todo ",Object(o.b)("code",null,"POST /v1/subscription/:id/pay")," que est\xe3o dispon\xedveis para utiliza\xe7\xe3o:"),Object(o.b)("a",{href:Object(i.a)("img/post_subscription_pay.png"),target:"_blank"},Object(o.b)("img",{src:Object(i.a)("img/post_subscription_pay.png")})),Object(o.b)("p",null,"A seguir, um JSON simples que pode ser utilizado para associar um m\xe9todo de pagamento \xe0 uma assinatura j\xe1 criada em Playground - o integrador pode escolher entre ",Object(o.b)("inlineCode",{parentName:"p"},"banking_billet")," ou ",Object(o.b)("inlineCode",{parentName:"p"},"credit_card")," (boleto banc\xe1rio e cart\xe3o de cr\xe9dito, respectivamente)."),Object(o.b)("p",null,"Al\xe9m disso, \xe9 poss\xedvel observar a sa\xedda prevista e o schema de valida\xe7\xe3o com todas as tags (obrigat\xf3rias e opcionais) dispon\xedveis para este m\xe9todo. Lembrando que tamb\xe9m \xe9 preciso informar o par\xe2metro de entrada ",Object(o.b)("inlineCode",{parentName:"p"},"subscription_id")," da assinatura associar \xe0 forma de pagamento:"),Object(o.b)(s.a,{defaultValue:"entradaCartao",values:[{label:"Dados de Entrada (cart\xe3o)",value:"entradaCartao"},{label:"Dados de Entrada (boleto)",value:"entradaBoleto"},{label:"Dados de Sa\xedda (cart\xe3o)",value:"saidaCartao"},{label:"Dados de Sa\xedda (boleto)",value:"saidaBoleto"},{label:"Schema",value:"schema"}],mdxType:"Tabs"},Object(o.b)(d.a,{value:"entradaCartao",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "payment": {\n    "credit_card": {\n      "customer": {\n        "name": "Gorbadoc Oldbuck",\n        "cpf": "94271564656",\n        "email": "email_do_cliente@servidor.com.br",\n        "birth": "1990-08-29",\n        "phone_number": "5144916523"\n      },\n      "payment_token": "",\n      "billing_address": {\n        "street": "Avenida Juscelino Kubitschek",\n        "number": "909",\n        "neighborhood": "Bauxita",\n        "zipcode": "35400000",\n        "city": "Ouro Preto",\n        "complement": "",\n        "state": "MG"\n      }\n    }\n  }\n}\n'))),Object(o.b)(d.a,{value:"entradaBoleto",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "payment": {\n    "banking_billet": {\n      "customer": {\n        "name": "Gorbadoc Oldbuck",\n        "cpf": "94271564656",\n        "email": "email_do_cliente@servidor.com.br",\n        "phone_number": "5144916523",\n        "address": {\n          "street": "Avenida Juscelino Kubitschek",\n          "number": "909",\n          "neighborhood": "Bauxita",\n          "zipcode": "35400000",\n          "city": "Ouro Preto",\n          "complement": "",\n          "state": "MG"\n        }\n      },\n      "expire_at": "2018-12-30",\n      "configurations": {\n        "fine": 200,\n        "interest": 33\n      },\n      "message": "Usando o atributo message, este conte\xfado \xe9 exibido no campo OBSERVA\xc7\xc3O da cobran\xe7a emitida via API \\n ... e tamb\xe9m no campo OBSERVA\xc7\xc3O DO VENDEDOR nos e-mails de cobran\xe7a enviados ao cliente \\n \xc9 poss\xedvel utilizar at\xe9 4 linhas de conte\xfado, com no m\xe1ximo 100 caracteres por linha \\n Essa mensagem poder\xe1 ser vista nos e-mails relacionados \xe0 cobran\xe7a, no boleto ou carn\xea"\n    }\n  }\n}\n'))),Object(o.b)(d.a,{value:"saidaCartao",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "code": 200, // retorno HTTP "200" informando que o pedido foi bem sucedido\n  "data": {\n    "subscription_id": 25328, // n\xfamero ID referente \xe0 inscri\xe7\xe3o gerada\n    "status": "active", // assinatura ativa - todas as cobran\xe7as est\xe3o sendo geradas\n    "plan": {\n      "id": 2758, // n\xfamero da ID referente ao plano de assinatura criado\n      "interval": 1, // periodicidade da cobran\xe7a (em meses) - informe 1 para assinatura mensal\n      "repeats": null // n\xfamero de vezes que a cobran\xe7a deve ser gerada (padr\xe3o: null, que significa que a cobran\xe7a \xe9 gerada por tempo indeterminado ou at\xe9 que o plano seja cancelado)\n    },\n    "charge": {\n      "id": 511842, // n\xfamero da ID referente \xe0 transa\xe7\xe3o gerada\n      "status": "waiting", // forma de pagamento selecionada, aguardando a confirma\xe7\xe3o do pagamento\n      "parcel": 1,\n      "total": 7900\n    },\n    "first_execution": "31/10/2018", // data da primeira execu\xe7\xe3o da assinatura\n    "total": 7900,\n    "payment": "credit_card" // forma de pagamento (credit_card equivale a cart\xe3o de cr\xe9dito)\n  }\n}\n'))),Object(o.b)(d.a,{value:"saidaBoleto",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "code": 200, // retorno HTTP "200" informando que o pedido foi bem sucedido\n  "data": {\n    "subscription_id": 25329, // n\xfamero ID referente \xe0 inscri\xe7\xe3o gerada\n    "status": "active", // assinatura ativa - todas as cobran\xe7as est\xe3o sendo geradas\n    "barcode": "00000.00000 00000.000000 00000.000000 0 00000000000000",\n    "link": "link_do_boleto_da_assinatura", // link do boleto gerado\n    "pdf": {\n      "charge": "link_pdf_boleto_assinatura" // link do PDF boleto gerado da assinatura\n    },\n    "expire_at": "2018-12-30", // data de vencimento do boleto no seguinte formato: 2018-12-30 (ou seja, equivale a 30/12/2018)\n    "plan": {\n      "id": 2758, // n\xfamero da ID referente ao plano de assinatura criado\n      "interval": 1, // periodicidade da cobran\xe7a (em meses) - informe 1 para assinatura mensal\n      "repeats": null // n\xfamero de vezes que a cobran\xe7a deve ser gerada (padr\xe3o: null, que significa que a cobran\xe7a \xe9 gerada por tempo indeterminado ou at\xe9 que o plano seja cancelado)\n    },\n    "charge": {\n      "id": 511843, // n\xfamero da ID referente \xe0 transa\xe7\xe3o gerada\n      "status": "waiting", // forma de pagamento selecionada, aguardando a confirma\xe7\xe3o do pagamento\n      "parcel": 1,\n      "total": 7900\n    },\n    "first_execution": "31/10/2018", // data da primeira execu\xe7\xe3o da assinatura\n    "total": 7900,\n    "payment": "banking_billet" // forma de pagamento (banking_billet equivale a boleto)\n  }\n}\n'))),Object(o.b)(d.a,{value:"schema",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "type": "object",\n  "id": "/SubscriptionPay",\n  "properties": {\n    "payment": {\n      "type": "object",\n      "maxProperties": 1,\n      "minProperties": 1,\n      "properties": {\n        "banking_billet": {\n          "type": "object",\n          "id": "/Billet",\n          "properties": {\n            "customer": {\n              "type": "object",\n              "id": "/BasicCustomer",\n              "properties": {\n                "name": {\n                  "type": [\n                    "string",\n                    "null"\n                  ],\n                  "minLength": 1,\n                  "maxLength": 255,\n                  "pattern": "^[ ]*(.+[ ]+)+.+[ ]*$"\n                },\n                "cpf": {\n                  "type": [\n                    "string",\n                    "null"\n                  ],\n                  "minLength": 11,\n                  "maxLength": 11\n                },\n                "email": {\n                  "type": [\n                    "string",\n                    "null"\n                  ],\n                  "maxLength": 255,\n                  "pattern": "^[A-Za-z0-9_\\\\-]+(?:[.][A-Za-z0-9_\\\\-]+)*@[A-Za-z0-9_]+(?:[-.][A-Za-z0-9_]+)*\\\\.[A-Za-z0-9_]+$"\n                },\n                "phone_number": {\n                  "type": "string",\n                  "pattern": "^[1-9]{2}9?[0-9]{8}$"\n                },\n                "birth": {\n                  "type": [\n                    "string",\n                    "null"\n                  ],\n                  "pattern": "^[12][0-9]{3}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12][0-9]|3[01])$"\n                },\n                "address": {\n                  "type": "object",\n                  "id": "/AddressOptional",\n                  "properties": {\n                    "street": {\n                      "type": [\n                        "string",\n                        "null"\n                      ],\n                      "minLength": 0,\n                      "maxLength": 200\n                    },\n                    "number": {\n                      "type": [\n                        "string",\n                        "null",\n                        "integer"\n                      ],\n                      "minLength": 0,\n                      "maxLength": 55\n                    },\n                    "neighborhood": {\n                      "type": [\n                        "string",\n                        "null"\n                      ],\n                      "minLength": 0,\n                      "maxLength": 255\n                    },\n                    "zipcode": {\n                      "type": [\n                        "string",\n                        "null"\n                      ],\n                      "pattern": "^[0-9]{8}$"\n                    },\n                    "city": {\n                      "type": [\n                        "string",\n                        "null"\n                      ],\n                      "minLength": 0,\n                      "maxLength": 50\n                    },\n                    "complement": {\n                      "type": [\n                        "string",\n                        "null"\n                      ],\n                      "minLength": 0,\n                      "maxLength": 45\n                    },\n                    "state": {\n                      "type": [\n                        "string",\n                        "null"\n                      ],\n                      "pattern": "^(?:A[CLPM]|BA|CE|DF|ES|GO|M[ATSG]|P[RBAEI]|R[JNSOR]|S[CEP]|TO)$"\n                    }\n                  }\n                },\n                "juridical_person": {\n                  "type": "object",\n                  "id": "/JuridicalPerson",\n                  "properties": {\n                    "corporate_name": {\n                      "type": [\n                        "string",\n                        "null"\n                      ],\n                      "minLength": 1,\n                      "maxLength": 255\n                    },\n                    "cnpj": {\n                      "type": [\n                        "string",\n                        "null"\n                      ],\n                      "minLength": 14,\n                      "maxLength": 14\n                    }\n                  },\n                  "required": [\n                    "corporate_name",\n                    "cnpj"\n                  ]\n                }\n              },\n              "required": [\n                "phone_number"\n              ]\n            },\n            "expire_at": {\n              "type": "string",\n              "pattern": "^[12][0-9]{3}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12][0-9]|3[01])$"\n            },\n            "discount": {\n              "type": "object",\n              "id": "/Discount",\n              "properties": {\n                "type": {\n                  "type": "string",\n                  "enum": [\n                    "percentage",\n                    "currency"\n                  ]\n                },\n                "value": {\n                  "type": "integer",\n                  "minimum": 1\n                }\n              },\n              "required": [\n                "type",\n                "value"\n              ]\n            },\n            "conditional_discount": {\n              "id": "/ConditionalDiscount",\n              "type": "object",\n              "properties": {\n                "type": {\n                  "type": "string",\n                  "enum": [\n                    "percentage",\n                    "currency"\n                  ]\n                },\n                "value": {\n                  "type": "integer",\n                  "minimum": 1\n                },\n                "until_date": {\n                  "type": "string",\n                  "pattern": "^[12][0-9]{3}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12][0-9]|3[01])$"\n                }\n              },\n              "required": [\n                "type",\n                "value",\n                "until_date"\n              ]\n            },\n            "instructions": {\n              "type": "array",\n              "minItems": 1,\n              "maxItems": 4,\n              "items": {\n                "type": "string",\n                "minLength": 1,\n                "maxLength": 90\n              }\n            },\n            "configurations": {\n              "type": "object",\n              "id": "/Configurations",\n              "minProperties": 1,\n              "properties": {\n                "fine": {\n                  "type": "integer",\n                  "minimum": 0,\n                  "maximum": 1000\n                },\n                "interest": {\n                  "type": "integer",\n                  "minimum": 0,\n                  "maximum": 330\n                }\n              }\n            },\n            "message": {\n              "type": "string",\n              "pattern": "^[^\\n]{0,100}(\\n[^\\n]{0,100}){0,3}$"\n            }\n          },\n          "required": [\n            "customer",\n            "expire_at"\n          ]\n        },\n        "credit_card": {\n          "type": "object",\n          "id": "/CreditCard",\n          "properties": {\n            "customer": {\n              "type": "object",\n              "id": "/FullCustomer",\n              "properties": {\n                "name": {\n                  "type": [\n                    "string",\n                    "null"\n                  ],\n                  "minLength": 1,\n                  "maxLength": 255,\n                  "pattern": "^[ ]*(.+[ ]+)+.+[ ]*$"\n                },\n                "cpf": {\n                  "type": [\n                    "string",\n                    "null"\n                  ],\n                  "minLength": 11,\n                  "maxLength": 11\n                },\n                "email": {\n                  "type": "string",\n                  "maxLength": 255,\n                  "pattern": "^[A-Za-z0-9_\\\\-]+(?:[.][A-Za-z0-9_\\\\-]+)*@[A-Za-z0-9_]+(?:[-.][A-Za-z0-9_]+)*\\\\.[A-Za-z0-9_]+$"\n                },\n                "phone_number": {\n                  "type": "string",\n                  "pattern": "^[1-9]{2}9?[0-9]{8}$"\n                },\n                "birth": {\n                  "type": "string",\n                  "pattern": "^[12][0-9]{3}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12][0-9]|3[01])$"\n                },\n                "address": {\n                  "type": "object",\n                  "id": "/Address",\n                  "properties": {\n                    "street": {\n                      "type": "string",\n                      "minLength": 1,\n                      "maxLength": 200\n                    },\n                    "number": {\n                      "type": [\n                        "string",\n                        "integer"\n                      ],\n                      "minLength": 1,\n                      "maxLength": 55\n                    },\n                    "neighborhood": {\n                      "type": "string",\n                      "minLength": 1,\n                      "maxLength": 255\n                    },\n                    "zipcode": {\n                      "type": "string",\n                      "pattern": "^[0-9]{8}$"\n                    },\n                    "city": {\n                      "type": "string",\n                      "minLength": 1,\n                      "maxLength": 50\n                    },\n                    "complement": {\n                      "type": [\n                        "string",\n                        "null"\n                      ],\n                      "minLength": 0,\n                      "maxLength": 45\n                    },\n                    "state": {\n                      "type": "string",\n                      "pattern": "^(?:A[CLPM]|BA|CE|DF|ES|GO|M[ATSG]|P[RBAEI]|R[JNSOR]|S[CEP]|TO)$"\n                    }\n                  },\n                  "required": [\n                    "street",\n                    "number",\n                    "neighborhood",\n                    "zipcode",\n                    "city",\n                    "state"\n                  ]\n                },\n                "juridical_person": {\n                  "type": "object",\n                  "id": "/JuridicalPerson",\n                  "properties": {\n                    "corporate_name": {\n                      "type": [\n                        "string",\n                        "null"\n                      ],\n                      "minLength": 1,\n                      "maxLength": 255\n                    },\n                    "cnpj": {\n                      "type": [\n                        "string",\n                        "null"\n                      ],\n                      "minLength": 14,\n                      "maxLength": 14\n                    }\n                  },\n                  "required": [\n                    "corporate_name",\n                    "cnpj"\n                  ]\n                }\n              },\n              "required": [\n                "email",\n                "phone_number",\n                "birth"\n              ]\n            },\n            "billing_address": {\n              "type": "object",\n              "id": "/Address",\n              "properties": {\n                "street": {\n                  "type": "string",\n                  "minLength": 1,\n                  "maxLength": 200\n                },\n                "number": {\n                  "type": [\n                    "string",\n                    "integer"\n                  ],\n                  "minLength": 1,\n                  "maxLength": 55\n                },\n                "neighborhood": {\n                  "type": "string",\n                  "minLength": 1,\n                  "maxLength": 255\n                },\n                "zipcode": {\n                  "type": "string",\n                  "pattern": "^[0-9]{8}$"\n                },\n                "city": {\n                  "type": "string",\n                  "minLength": 1,\n                  "maxLength": 50\n                },\n                "complement": {\n                  "type": [\n                    "string",\n                    "null"\n                  ],\n                  "minLength": 0,\n                  "maxLength": 45\n                },\n                "state": {\n                  "type": "string",\n                  "pattern": "^(?:A[CLPM]|BA|CE|DF|ES|GO|M[ATSG]|P[RBAEI]|R[JNSOR]|S[CEP]|TO)$"\n                }\n              },\n              "required": [\n                "street",\n                "number",\n                "neighborhood",\n                "zipcode",\n                "city",\n                "state"\n              ]\n            },\n            "payment_token": {\n              "type": "string",\n              "pattern": "^[a-fA-F0-9]{40}$"\n            },\n            "discount": {\n              "type": "object",\n              "id": "/Discount",\n              "properties": {\n                "type": {\n                  "type": "string",\n                  "enum": [\n                    "percentage",\n                    "currency"\n                  ]\n                },\n                "value": {\n                  "type": "integer",\n                  "minimum": 1\n                }\n              },\n              "required": [\n                "type",\n                "value"\n              ]\n            },\n            "message": {\n              "type": "string",\n              "pattern": "^[^\\n]{0,100}(\\n[^\\n]{0,100}){0,3}$"\n            },\n            "trial_days": {\n              "type": "integer",\n              "minimum": 1,\n              "maximum": 365\n            }\n          },\n          "required": [\n            "customer",\n            "billing_address",\n            "payment_token"\n          ]\n        }\n      }\n    }\n  },\n  "required": [\n    "payment"\n  ]\n}\n')))),Object(o.b)("p",null,'Esse JSON associa uma determinada assinatura a uma forma de pagamento, podendo ser boleto banc\xe1rio ou cart\xe3o de cr\xe9dito. No caso de pagamento por cart\xe3o, o "payment_token" \xe9 o token de pagamento, que \xe9 obtido atrav\xe9s de c\xf3digo Javascript dispon\xedvel para cada conta Gerencianet - para boleto o "payment_token" n\xe3o \xe9 necess\xe1rio.'),Object(o.b)("br",null),Object(o.b)("hr",null),Object(o.b)("h3",{id:"post-v1subscriptionidhistory"},Object(o.b)(p,{color:"#009615",mdxType:"Highlight"},"POST")," /v1/subscription/:id/history"),Object(o.b)("p",null,"O hist\xf3rico de uma assinatura representa todas as a\xe7\xf5es que ocorreram com esta assinatura at\xe9 o presente momento. \xc9 poss\xedvel adicionar mensagens personalizadas a este hist\xf3rico utilizando o endpoint ",Object(o.b)("inlineCode",{parentName:"p"},"/v1/subscription/:id/history"),"."),Object(o.b)("p",null,"As mensagens personalizadas n\xe3o influenciam na assinatura em si, apenas em seu hist\xf3rico. Para tal, voc\xea deve informar o ",Object(o.b)("inlineCode",{parentName:"p"},"subscription_id")," da transa\xe7\xe3o desejada. Essa descri\xe7\xe3o deve possuir no m\xednimo um caractere e no m\xe1ximo 255 caracteres."),Object(o.b)("p",null,"Na imagem a seguir, \xe9 poss\xedvel observar a tela de nosso ambiente de testes no qual constam os recursos atrelados ao m\xe9todo ",Object(o.b)("inlineCode",{parentName:"p"},"POST /v1/subscription/:id/history")," que est\xe3o dispon\xedveis para utiliza\xe7\xe3o:"),Object(o.b)("a",{href:Object(i.a)("img/post-subscription-history.png"),target:"_blank"},Object(o.b)("img",{src:Object(i.a)("img/post-subscription-history.png")})),Object(o.b)("p",null,"A seguir, um JSON simples que permite adicionar mensagens personalizadas ao hist\xf3rico de uma assinatura, bem como a sa\xedda prevista e o schema de valida\xe7\xe3o com todas as tags (obrigat\xf3rias e opcionais) dispon\xedveis para este m\xe9todo. Lembrando que voc\xea deve informar o par\xe2metro de entrada ",Object(o.b)("inlineCode",{parentName:"p"},"subscription_id")," da assinatura:"),Object(o.b)(s.a,{defaultValue:"entrada",values:[{label:"Dados de Entrada",value:"entrada"},{label:"Dados de Sa\xedda",value:"saida"},{label:"Schema",value:"schema"}],mdxType:"Tabs"},Object(o.b)(d.a,{value:"entrada",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n"description": "Minha mensagem do hist\xf3rico aqui"\n}\n'))),Object(o.b)(d.a,{value:"saida",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n"code": 200\n}\n'))),Object(o.b)(d.a,{value:"schema",mdxType:"TabItem"},Object(o.b)("pre",null,Object(o.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n"type": "object",\n"id": "/SubscriptionHistory",\n"properties": {\n  "description": {\n    "type": "string",\n    "maxLength": "255",\n    "minLength": "1"\n  }\n},\n"required": [\n  "description"\n]\n}\n'))))))}m.isMDXComponent=!0},229:function(e,a,n){"use strict";n.d(a,"a",(function(){return p})),n.d(a,"b",(function(){return m}));var t=n(0),r=n.n(t);function o(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function i(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function s(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?i(Object(n),!0).forEach((function(a){o(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function d(e,a){if(null==e)return{};var n,t,r=function(e,a){if(null==e)return{};var n,t,r={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||(r[n]=e[n]);return r}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var l=r.a.createContext({}),c=function(e){var a=r.a.useContext(l),n=a;return e&&(n="function"==typeof e?e(a):s(s({},a),e)),n},p=function(e){var a=c(e.components);return r.a.createElement(l.Provider,{value:a},e.children)},b={inlineCode:"code",wrapper:function(e){var a=e.children;return r.a.createElement(r.a.Fragment,{},a)}},u=r.a.forwardRef((function(e,a){var n=e.components,t=e.mdxType,o=e.originalType,i=e.parentName,l=d(e,["components","mdxType","originalType","parentName"]),p=c(n),u=t,m=p["".concat(i,".").concat(u)]||p[u]||b[u]||o;return n?r.a.createElement(m,s(s({ref:a},l),{},{components:n})):r.a.createElement(m,s({ref:a},l))}));function m(e,a){var n=arguments,t=a&&a.mdxType;if("string"==typeof e||t){var o=n.length,i=new Array(o);i[0]=u;var s={};for(var d in a)hasOwnProperty.call(a,d)&&(s[d]=a[d]);s.originalType=e,s.mdxType="string"==typeof e?e:t,i[1]=s;for(var l=2;l<o;l++)i[l]=n[l];return r.a.createElement.apply(null,i)}return r.a.createElement.apply(null,n)}u.displayName="MDXCreateElement"},230:function(e,a,n){"use strict";var t=n(0),r=n(35);a.a=function(){return Object(t.useContext)(r.a)}},231:function(e,a,n){"use strict";n.d(a,"a",(function(){return o}));var t=n(230),r=n(232);function o(e,{forcePrependBaseUrl:a=!1,absolute:n=!1}={}){const{siteConfig:{baseUrl:o="/",url:i}={}}=Object(t.a)();if(!e)return e;if(a)return o+e;if(!Object(r.a)(e))return e;const s=o+e.replace(/^\//,"");return n?i+s:s}},232:function(e,a,n){"use strict";function t(e){return!1===/^(https?:|\/\/|mailto:|tel:)/.test(e)}n.d(a,"a",(function(){return t}))},233:function(e,a,n){"use strict";function t(e){var a,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(a=0;a<e.length;a++)e[a]&&(n=t(e[a]))&&(r&&(r+=" "),r+=n);else for(a in e)e[a]&&(r&&(r+=" "),r+=a);return r}a.a=function(){for(var e,a,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(a=t(e))&&(r&&(r+=" "),r+=a);return r}},234:function(e,a,n){"use strict";var t=n(0);const r=Object(t.createContext)({tabGroupChoices:{},setTabGroupChoices:()=>{},isAnnouncementBarClosed:!1,closeAnnouncementBar:()=>{}});a.a=r},235:function(e,a,n){"use strict";var t=n(0),r=n(234);a.a=function(){return Object(t.useContext)(r.a)}},236:function(e,a,n){"use strict";var t=n(0),r=n.n(t),o=n(235),i=n(233),s=n(92),d=n.n(s);const l=37,c=39;a.a=function(e){const{block:a,children:n,defaultValue:s,values:p,groupId:b}=e,{tabGroupChoices:u,setTabGroupChoices:m}=Object(o.a)(),[g,j]=Object(t.useState)(s);if(null!=b){const e=u[b];null!=e&&e!==g&&p.some(a=>a.value===e)&&j(e)}const O=e=>{j(e),null!=b&&m(b,e)},v=[];return r.a.createElement("div",null,r.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(i.a)("tabs",{"tabs--block":a})},p.map(({value:e,label:a})=>r.a.createElement("li",{role:"tab",tabIndex:"0","aria-selected":g===e,className:Object(i.a)("tabs__item",d.a.tabItem,{"tabs__item--active":g===e}),key:e,ref:e=>v.push(e),onKeyDown:e=>((e,a,n)=>{switch(n.keyCode){case c:((e,a)=>{const n=e.indexOf(a)+1;e[n]?e[n].focus():e[0].focus()})(e,a);break;case l:((e,a)=>{const n=e.indexOf(a)-1;e[n]?e[n].focus():e[e.length-1].focus()})(e,a)}})(v,e.target,e),onFocus:()=>O(e),onClick:()=>O(e)},a))),r.a.createElement("div",{role:"tabpanel",className:"margin-vert--md"},t.Children.toArray(n).filter(e=>e.props.value===g)[0]))}},237:function(e,a,n){"use strict";var t=n(0),r=n.n(t);a.a=function(e){return r.a.createElement("div",null,e.children)}}}]);