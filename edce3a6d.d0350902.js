(window.webpackJsonp=window.webpackJsonp||[]).push([[116],{217:function(e,a,t){"use strict";t.r(a),t.d(a,"frontMatter",(function(){return c})),t.d(a,"metadata",(function(){return i})),t.d(a,"rightToc",(function(){return s})),t.d(a,"default",(function(){return p}));var o=t(2),n=t(6),r=(t(0),t(229)),c=(t(231),{id:"TopSapp",title:"TopSapp",hide_title:!0,sidebar_label:"TopSapp"}),i={id:"SistemasIntegrados/TopSapp",isDocsHomePage:!1,title:"TopSapp",description:"TopSapp",source:"@site/docs\\SistemasIntegrados\\TopSapp.md",permalink:"/docs/SistemasIntegrados/TopSapp",sidebar_label:"TopSapp",sidebar:"someSidebar",previous:{title:"Sua Venda",permalink:"/docs/SistemasIntegrados/SuaVenda"},next:{title:"UpGest\xe3o",permalink:"/docs/SistemasIntegrados/UpGest\xe3o"}},s=[{value:"Como dar baixa autom\xe1tica?",id:"como-dar-baixa-autom\xe1tica",children:[]},{value:"Veja como cadastrar as URL&#39;s:",id:"veja-como-cadastrar-as-urls",children:[]},{value:"Como verificar se a integra\xe7\xe3o est\xe1 funcionando?",id:"como-verificar-se-a-integra\xe7\xe3o-est\xe1-funcionando",children:[]},{value:"A integra\xe7\xe3o falhou. Como verificar o erro?",id:"a-integra\xe7\xe3o-falhou-como-verificar-o-erro",children:[]}],b={rightToc:s};function p(e){var a=e.components,t=Object(n.a)(e,["components"]);return Object(r.b)("wrapper",Object(o.a)({},b,t,{components:a,mdxType:"MDXLayout"}),Object(r.b)("h1",{className:"titulo"},"TopSapp"),Object(r.b)("div",{className:"subtitulo"},Object(r.b)("p",null,Object(r.b)("img",Object(o.a)({parentName:"p"},{src:"/img/topsapp_logo.png",alt:"alt text",title:"TopSapp logo"}))),Object(r.b)("p",null,"Se voc\xea utiliza o TopSapp como gerenciador e a Gerencianet como meio de pagamento, est\xe1 na hora de tirar todas as d\xfavidas sobre a integra\xe7\xe3o dos sistemas."),Object(r.b)("p",null,"A primeira etapa \xe9 realizada dentro da sua conta Gerencianet:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Acesse o menu ",Object(r.b)("inlineCode",{parentName:"p"},"API > Minhas Aplica\xe7\xf5es > Nova Aplica\xe7\xe3o"),";")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Informe o nome da integra\xe7\xe3o e ",Object(r.b)("strong",{parentName:"p"},"ATIVE")," o ",Object(r.b)("strong",{parentName:"p"},"Modo de Compatibilidade")," ",Object(r.b)("a",{href:"https://s3.amazonaws.com/gerencianet-pub-prod-1/printscreen/2020/07/27/matheus.rodrigues/ecbc18-0859a4ae-4e05-4ef0-b3ab-97f46dbe61ff.png"},"(veja onde)"))),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Clique em Criar nova aplica\xe7\xe3o e copie o token de integra\xe7\xe3o da aplica\xe7\xe3o ",Object(r.b)("a",{href:"https://content.screencast.com/users/tiagogerencianet/folders/Jing/media/dedc2d55-2304-4e3b-aaed-224e6ae0487f/2018-04-05_1605.png"},"(veja onde)")))),Object(r.b)("p",null,"Em seguida, \xe9 necess\xe1rio acessar o portal TopSapp para finalizar o processo:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Acesse o menu ",Object(r.b)("code",null,"Financeiro > Receber > Portadores")," do portal do TopSapp;")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Escolha a op\xe7\xe3o ",Object(r.b)("code",null,"Gerencianet")," como ",Object(r.b)("code",null,"Portador Fixo"),";")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Cole o token de integra\xe7\xe3o gerado anteriormente no campo dispon\xedvel."))),Object(r.b)("p",null,"Pronto. A integra\xe7\xe3o est\xe1 finalizada."),Object(r.b)("br",null),Object(r.b)("h2",{id:"como-dar-baixa-autom\xe1tica"},"Como dar baixa autom\xe1tica?"),Object(r.b)("p",null,"Para que o pagamento seja identificado diretamente em seu sistema voc\xea deve cadastrar uma URL de callback. Tamb\xe9m \xe9 poss\xedvel cadastrar uma URL de cancelamento para que o TopSapp realize a baixa autom\xe1tica de cobran\xe7as canceladas na Gerencianet."),Object(r.b)("div",{className:"admonition admonition-caution alert alert--warning"},Object(r.b)("div",Object(o.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(o.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(o.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"}),Object(r.b)("path",Object(o.a)({parentName:"svg"},{fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"})))),"ATEN\xc7\xc3O")),Object(r.b)("div",Object(o.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"Se o cancelamento for realizado no TopSapp, n\xe3o ocorrer\xe1 a baixa autom\xe1tica na conta Gerencianet."))),Object(r.b)("br",null),Object(r.b)("h2",{id:"veja-como-cadastrar-as-urls"},"Veja como cadastrar as URL's:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Acesse o menu ",Object(r.b)("inlineCode",{parentName:"p"},"API > Minhas Aplica\xe7\xf5es")," e selecione sua aplica\xe7\xe3o;")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Acesse a aba Callbacks, ative ambos os campos (",Object(r.b)("a",{href:"https://content.screencast.com/users/tiagogerencianet/folders/Jing/media/82315a32-fff3-4ce2-9202-0dfa701bd36d/2018-04-05_1340.png",target:"_blank"},"veja onde"),") e cadastre suas URLs seguindo o modelo: ",Object(r.b)("inlineCode",{parentName:"p"},"https://ipservidorlinux:1996/StatusBilling.php"),". A mesma URL funciona para confirma\xe7\xe3o e cancelamento de pagamentos;")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Utilize o bot\xe3o ",Object(r.b)("inlineCode",{parentName:"p"},"Testar")," (",Object(r.b)("a",{href:"https://content.screencast.com/users/tiagogerencianet/folders/Jing/media/125ac343-46cd-4f20-bec3-c1ebe4588c93/2018-04-05_1413.png",target:"_blank"},"veja onde"),") para verificar se a URL est\xe1 funcionando. Fa\xe7a essa opera\xe7\xe3o tanto para confirma\xe7\xe3o de pagamentos, quanto para o cancelamento de cobran\xe7as."))),Object(r.b)("div",{className:"admonition admonition-important alert alert--info"},Object(r.b)("div",Object(o.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(o.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(o.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(o.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"IMPORTANTE")),Object(r.b)("div",Object(o.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"Para que a URL de cancelamento seja cadastrada com sucesso, \xe9 preciso marcar a op\xe7\xe3o ",Object(r.b)("inlineCode",{parentName:"p"},"Cobran\xe7a Cancelada"),", na configura\xe7\xe3o de callback de sua conta Gerencianet."))),Object(r.b)("br",null),Object(r.b)("h2",{id:"como-verificar-se-a-integra\xe7\xe3o-est\xe1-funcionando"},"Como verificar se a integra\xe7\xe3o est\xe1 funcionando?"),Object(r.b)("p",null,"Voc\xea pode realizar testes para verificar se a URL est\xe1 funcionando perfeitamente. Para isto, clique no bot\xe3o ",Object(r.b)("code",null,"Testar"),", que fica ao lado da URL de notifica\xe7\xe3o cadastrada em sua conta Gerencianet (",Object(r.b)("a",{href:"https://content.screencast.com/users/tiagogerencianet/folders/Jing/media/125ac343-46cd-4f20-bec3-c1ebe4588c93/2018-04-05_1413.png",target:"_blank"},"veja onde"),"). Ao clicar no bot\xe3o, uma requisi\xe7\xe3o \xe9 enviada para o TopSapp e voc\xea recebe uma mensagem informando se o callback est\xe1 funcionando ou n\xe3o."),Object(r.b)("p",null,"\xc9 importante verificar se a porta ",Object(r.b)("code",null,"1996")," est\xe1 liberada e operante. Muitas vezes, alguns usu\xe1rios ou a pr\xf3pria operadora bloqueiam as portas e, por isso, \xe9 necess\xe1rio confirmar se est\xe1 tudo funcionando."),Object(r.b)("p",null,"Quando a sua URL est\xe1 configurada corretamente, mas por algum motivo o seu TopSapp parou de funcionar ou apresentou problema, sua URL \xe9 desativada e as notifica\xe7\xf5es n\xe3o s\xe3o enviadas. Quando isso ocorre, voc\xea deve ativar novamente a sua URL e fazer o testar para saber se est\xe1 tudo ok. Em caso de resposta com sucesso (200), voc\xea poder\xe1 reenviar as notifica\xe7\xf5es de confirma\xe7\xe3o de pagamento. Para isso, siga o procedimento abaixo:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Em sua conta Gerencianet, clique no menu ",Object(r.b)("code",null,"API > Minhas Aplica\xe7\xf5es"),", selecione sua aplica\xe7\xe3o e v\xe1 na aba Callbacks;")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Ao lado da URL de notifica\xe7\xe3o de pagamento cadastrado, clique no bot\xe3o ",Object(r.b)("code",null,"Logs")," (",Object(r.b)("a",{href:"https://content.screencast.com/users/tiagogerencianet/folders/Jing/media/0a8c0228-ef9b-44d0-abb5-51d3902c7db7/2018-04-06_0931.png",target:"_blank"},"veja onde"),");")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Selecionar as cobran\xe7as que est\xe3o com o status ",Object(r.b)("code",null,"N\xe3o"),";")),Object(r.b)("li",{parentName:"ol"},Object(r.b)("p",{parentName:"li"},"Clique em ",Object(r.b)("code",null,"Reenviar callback"),"."))),Object(r.b)("div",{className:"admonition admonition-important alert alert--info"},Object(r.b)("div",Object(o.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(o.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(o.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(r.b)("path",Object(o.a)({parentName:"svg"},{fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"})))),"IMPORTANTE")),Object(r.b)("div",Object(o.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"\xc9 importante sempre monitorar o status da sua URL de callback."))),Object(r.b)("br",null),Object(r.b)("h2",{id:"a-integra\xe7\xe3o-falhou-como-verificar-o-erro"},"A integra\xe7\xe3o falhou. Como verificar o erro?"),Object(r.b)("p",null,"Se mesmo ap\xf3s a integra\xe7\xe3o realizada acontecer algum erro na emiss\xe3o da cobran\xe7a, voc\xea pode verificar a origem do erro clicando no bot\xe3o ",Object(r.b)("code",null,"Logs"),", dispon\xedvel em frente ao token de integra\xe7\xe3o cadastrado em sua conta Gerencianet (",Object(r.b)("a",{href:"https://content.screencast.com/users/tiagogerencianet/folders/Jing/media/0a8c0228-ef9b-44d0-abb5-51d3902c7db7/2018-04-06_0931.png",target:"_blank"},"veja onde"),"). Os dados da entrada mostram as informa\xe7\xf5es no momento da emiss\xe3o e os dados de sa\xedda mostram se a cobran\xe7a foi emitida com sucesso ou, em caso de falha, o campo em que est\xe1 o erro."),Object(r.b)("p",null,"Se surgir algum erro na tentativa de emiss\xe3o e n\xe3o for gerado um log, voc\xea deve conferir as configura\xe7\xf5es do TopSapp."),Object(r.b)("p",null,"A integra\xe7\xe3o funciona para boletos e carn\xeas. Voc\xea pode gerar quantos precisar a partir de seu TopSapp."),Object(r.b)("br",null),Object(r.b)("p",null,"Ainda ficou com alguma d\xfavida? ",Object(r.b)("a",{href:"https://gerencianet.com.br/artigo/entrar-em-contato/",target:"_blank",title:"Link Externo"},"Envie um ticket")," para nossa equipe.")))}p.isMDXComponent=!0},229:function(e,a,t){"use strict";t.d(a,"a",(function(){return l})),t.d(a,"b",(function(){return u}));var o=t(0),n=t.n(o);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function c(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);a&&(o=o.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,o)}return t}function i(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?c(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):c(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function s(e,a){if(null==e)return{};var t,o,n=function(e,a){if(null==e)return{};var t,o,n={},r=Object.keys(e);for(o=0;o<r.length;o++)t=r[o],a.indexOf(t)>=0||(n[t]=e[t]);return n}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)t=r[o],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(n[t]=e[t])}return n}var b=n.a.createContext({}),p=function(e){var a=n.a.useContext(b),t=a;return e&&(t="function"==typeof e?e(a):i(i({},a),e)),t},l=function(e){var a=p(e.components);return n.a.createElement(b.Provider,{value:a},e.children)},d={inlineCode:"code",wrapper:function(e){var a=e.children;return n.a.createElement(n.a.Fragment,{},a)}},m=n.a.forwardRef((function(e,a){var t=e.components,o=e.mdxType,r=e.originalType,c=e.parentName,b=s(e,["components","mdxType","originalType","parentName"]),l=p(t),m=o,u=l["".concat(c,".").concat(m)]||l[m]||d[m]||r;return t?n.a.createElement(u,i(i({ref:a},b),{},{components:t})):n.a.createElement(u,i({ref:a},b))}));function u(e,a){var t=arguments,o=a&&a.mdxType;if("string"==typeof e||o){var r=t.length,c=new Array(r);c[0]=m;var i={};for(var s in a)hasOwnProperty.call(a,s)&&(i[s]=a[s]);i.originalType=e,i.mdxType="string"==typeof e?e:o,c[1]=i;for(var b=2;b<r;b++)c[b]=t[b];return n.a.createElement.apply(null,c)}return n.a.createElement.apply(null,t)}m.displayName="MDXCreateElement"},230:function(e,a,t){"use strict";var o=t(0),n=t(35);a.a=function(){return Object(o.useContext)(n.a)}},231:function(e,a,t){"use strict";t.d(a,"a",(function(){return r}));var o=t(230),n=t(232);function r(e,{forcePrependBaseUrl:a=!1,absolute:t=!1}={}){const{siteConfig:{baseUrl:r="/",url:c}={}}=Object(o.a)();if(!e)return e;if(a)return r+e;if(!Object(n.a)(e))return e;const i=r+e.replace(/^\//,"");return t?c+i:i}},232:function(e,a,t){"use strict";function o(e){return!1===/^(https?:|\/\/|mailto:|tel:)/.test(e)}t.d(a,"a",(function(){return o}))}}]);