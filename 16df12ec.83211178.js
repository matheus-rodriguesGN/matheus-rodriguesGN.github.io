(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{112:function(e,a,n){"use strict";n.r(a),n.d(a,"frontMatter",(function(){return l})),n.d(a,"metadata",(function(){return c})),n.d(a,"Highlight",(function(){return b})),n.d(a,"rightToc",(function(){return m})),n.d(a,"default",(function(){return u}));var t=n(2),o=n(6),r=(n(0),n(229)),i=n(231),s=n(236),d=n(237),l={id:"PlaygroundTransacoes",title:"Playground Transa\xe7\xf5es",hide_title:!0,sidebar_label:"Playground Transa\xe7\xf5es"},c={id:"AmbienteTestes/PlaygroundTransacoes",isDocsHomePage:!1,title:"Playground Transa\xe7\xf5es",description:"Playground: Transa\xe7\xf5es",source:"@site/docs\\AmbienteTestes\\PlaygroundTransacoes.md",permalink:"/docs/AmbienteTestes/PlaygroundTransacoes",sidebar_label:"Playground Transa\xe7\xf5es",sidebar:"someSidebar",previous:{title:"Introdu\xe7\xe3o ao Playground",permalink:"/docs/AmbienteTestes/IntroducaoPlayground"},next:{title:"Playground Carn\xea",permalink:"/docs/AmbienteTestes/PlaygroundCarne"}},b=function(e){var a=e.children,n=e.color;return Object(r.b)("span",{style:{backgroundColor:n,borderRadius:"2px",color:"#fff",padding:"0.2rem"}},a)},m=[{value:'<Highlight color="#009615">POST</Highlight> /v1/charge',id:"post-v1charge",children:[]},{value:'<Highlight color="#00BBCE">GET</Highlight> /v1/charge/:id',id:"get-v1chargeid",children:[]},{value:'<Highlight color="#fcaf17">PUT</Highlight> /v1/charge/:id/metadata',id:"put-v1chargeidmetadata",children:[]},{value:'<Highlight color="#fcaf17">PUT</Highlight> /v1/charge/:id/billet',id:"put-v1chargeidbillet",children:[]},{value:'<Highlight color="#fcaf17">PUT</Highlight> /v1/charge/:id/cancel',id:"put-v1chargeidcancel",children:[]},{value:'<Highlight color="#009615">POST</Highlight> /v1/charge/:id/pay',id:"post-v1chargeidpay",children:[]},{value:'<Highlight color="#009615">POST</Highlight> /v1/charge/:id/billet/resend',id:"post-v1chargeidbilletresend",children:[]},{value:'<Highlight color="#009615">POST</Highlight> /v1/charge/:id/history',id:"post-v1chargeidhistory",children:[]},{value:'<Highlight color="#009615">POST</Highlight> /v1/charge/:id/link',id:"post-v1chargeidlink",children:[]},{value:'<Highlight color="#fcaf17">PUT</Highlight> /v1/charge/:id/link',id:"put-v1chargeidlink",children:[]},{value:'<Highlight color="#009615">POST</Highlight> /v1/charge/:id/balance-sheet',id:"post-v1chargeidbalance-sheet",children:[]},{value:'<Highlight color="#fcaf17">PUT</Highlight> /v1/charge/:id/settle',id:"put-v1chargeidsettle",children:[]}],p={Highlight:b,rightToc:m};function u(e){var a=e.components,n=Object(o.a)(e,["components"]);return Object(r.b)("wrapper",Object(t.a)({},p,n,{components:a,mdxType:"MDXLayout"}),Object(r.b)("h1",{className:"titulo"},"Playground: Transa\xe7\xf5es"),Object(r.b)("div",{className:"subtitulo"},Object(r.b)("p",null,"Para acessar o ambiente de testes voc\xea precisa de uma conta Gerencianet. ",Object(r.b)("a",{href:"https://gerencianet.com.br/#abrirconta",title:"Cadastro ao nosso sistema, seja nosso cliente",target:"_blank"},"Crie sua conta"),"."),Object(r.b)("p",null,'O Playground (tamb\xe9m chamado de "sandbox") \xe9 um ambiente de desenvolvimento/testes no qual o integrador, independente da opera\xe7\xe3o a ser realizada, pode utilizar para conhecer o mecanismo e o fluxo de pagamento em um ambiente 100% de teste e descomplicado. Conhe\xe7a mais sobre o Playground oferecido pela Gerencianet.'),Object(r.b)("p",null,"A cria\xe7\xe3o de uma cobran\xe7a (transa\xe7\xe3o) via integra\xe7\xe3o com a API da Gerencianet possui duas etapas:"),Object(r.b)("ol",null,Object(r.b)("li",{parentName:"ol"},"Primeiro gera a transa\xe7\xe3o (ou cobran\xe7a) atrav\xe9s do endpoint ",Object(r.b)("inlineCode",{parentName:"li"},"POST /v1/charge"),";"),Object(r.b)("li",{parentName:"ol"},"Por fim, associa a transa\xe7\xe3o gerada \xe0 uma forma de pagamento atrav\xe9s do endpoint ",Object(r.b)("inlineCode",{parentName:"li"},"POST /v1/charge/:id/pay"),".")),Object(r.b)("p",null,"Ap\xf3s utilizar o endpoint ",Object(r.b)("inlineCode",{parentName:"p"},"POST /v1/charge"),", a transa\xe7\xe3o j\xe1 estar\xe1 criada e, a partir deste momento, ser\xe1 poss\xedvel associ\xe1-la \xe0 forma de pagamento como boleto banc\xe1rio ou cart\xe3o de cr\xe9dito."),Object(r.b)("p",null,'A seguir, confira todos os endpoints presentes em nosso Playground, dentro da modalidade de "Transa\xe7\xf5es":'),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)(b,{color:"#009615",mdxType:"Highlight"},"POST")," ",Object(r.b)("a",{href:"../AmbienteTestes/PlaygroundTransacoes#post-v1charge"},"/v1/charge")," (criar nova transa\xe7\xe3o)    "),Object(r.b)("li",{parentName:"ul"},Object(r.b)(b,{color:"#00BBCE",mdxType:"Highlight"},"GET"),"  ",Object(r.b)("a",{href:"../AmbienteTestes/PlaygroundTransacoes#get-v1chargeid"},"/v1/charge/:id "),"(retornar informa\xe7\xf5es de transa\xe7\xe3o existente)"),Object(r.b)("li",{parentName:"ul"},Object(r.b)(b,{color:"#fcaf17",mdxType:"Highlight"},"PUT")," ",Object(r.b)("a",{href:"../AmbienteTestes/PlaygroundTransacoes#put-v1chargeidmetadata"},"/v1/charge/:id/metadata "),' (incluir "notification_url" e "custom_id" em uma transa\xe7\xe3o existente)'),Object(r.b)("li",{parentName:"ul"},Object(r.b)(b,{color:"#fcaf17",mdxType:"Highlight"},"PUT"),"   ",Object(r.b)("a",{href:"../AmbienteTestes/PlaygroundTransacoes#put-v1chargeidbillet"},"/v1/charge/:id/billet"),"  (alterar data de vencimento de uma transa\xe7\xe3o existente)"),Object(r.b)("li",{parentName:"ul"},Object(r.b)(b,{color:"#fcaf17",mdxType:"Highlight"},"PUT")," ",Object(r.b)("a",{href:"../AmbienteTestes/PlaygroundTransacoes#put-v1chargeidcancel"},"/v1/charge/:id/cancel"),"  (cancelar uma transa\xe7\xe3o existente)"),Object(r.b)("li",{parentName:"ul"},Object(r.b)(b,{color:"#009615",mdxType:"Highlight"},"POST"),"  ",Object(r.b)("a",{href:"../AmbienteTestes/PlaygroundTransacoes#post-v1chargeidpay"},"/v1/charge/:id/pay"),"  (associa m\xe9todo de pagamento \xe0 uma transa\xe7\xe3o j\xe1 criada)"),Object(r.b)("li",{parentName:"ul"},Object(r.b)(b,{color:"#009615",mdxType:"Highlight"},"POST")," ",Object(r.b)("a",{href:"../AmbienteTestes/PlaygroundTransacoes#post-v1chargeidbilletresend"},"/v1/charge/:id/billet/resend"),"  (reenvio do boleto banc\xe1rio para o email desejado)"),Object(r.b)("li",{parentName:"ul"},Object(r.b)(b,{color:"#009615",mdxType:"Highlight"},"POST")," ",Object(r.b)("a",{href:"../AmbienteTestes/PlaygroundTransacoes#post-v1chargeidhistory"},"/v1/charge/:id/history"),"  (acrescentar descri\xe7\xe3o ao hist\xf3rico de uma transa\xe7\xe3o)"),Object(r.b)("li",{parentName:"ul"},Object(r.b)(b,{color:"#009615",mdxType:"Highlight"},"POST"),"  ",Object(r.b)("a",{href:"../AmbienteTestes/PlaygroundTransacoes#post-v1chargeidlink"},"/v1/charge/:id/link"),"  (retorna um link para uma tela de pagamento da Gerencianet)"),Object(r.b)("li",{parentName:"ul"},Object(r.b)(b,{color:"#fcaf17",mdxType:"Highlight"},"PUT")," ",Object(r.b)("a",{href:"../AmbienteTestes/PlaygroundTransacoes#put-v1chargeidlink"},"/v1/charge/:id/link"),"  (alterar determinados par\xe2metros/atributos de um link de pagamento existente)"),Object(r.b)("li",{parentName:"ul"},Object(r.b)(b,{color:"#009615",mdxType:"Highlight"},"POST")," ",Object(r.b)("a",{href:"../AmbienteTestes/PlaygroundTransacoes#post-v1chargeidbalance-sheet"},"/v1/charge/:id/balance-sheet"),"   (definir que a transa\xe7\xe3o ser\xe1 do tipo boleto balancete)"),Object(r.b)("li",{parentName:"ul"},Object(r.b)(b,{color:"#fcaf17",mdxType:"Highlight"},"PUT")," ",Object(r.b)("a",{href:"../AmbienteTestes/PlaygroundTransacoes#put-v1chargeidsettle"},"/v1/charge/:id/settle"),"  (marcar como pago [baixa manual] uma determinada transa\xe7\xe3o)")),Object(r.b)("br",null),Object(r.b)("hr",null),Object(r.b)("h3",{id:"post-v1charge"},Object(r.b)(b,{color:"#009615",mdxType:"Highlight"},"POST")," /v1/charge"),Object(r.b)("p",null,"Permite criar uma nova transa\xe7\xe3o; retorna um c\xf3digo identificador da transa\xe7\xe3o denominado ",Object(r.b)("inlineCode",{parentName:"p"},"charge_id"),"."),Object(r.b)("p",null,"Somente ap\xf3s gerar a transa\xe7\xe3o \xe9 que ela ser\xe1 associada a um m\xe9todo de pagamento, podendo ser boleto banc\xe1rio ou cart\xe3o de cr\xe9dito."),Object(r.b)("p",null,"Na imagem a seguir, \xe9 poss\xedvel observar a tela de nosso ambiente de testes no qual constam os recursos atrelados ao m\xe9todo ",Object(r.b)("inlineCode",{parentName:"p"},"POST /v1/charge")," que est\xe3o dispon\xedveis para utiliza\xe7\xe3o:"),Object(r.b)("a",{href:Object(i.a)("img/postcharge.png"),target:"_blank"},Object(r.b)("img",{src:Object(i.a)("img/postcharge.png")})),Object(r.b)("p",null,"A seguir, um JSON simples que pode ser utilizado para criar uma cobran\xe7a (ainda sem forma de pagamento definida) no Playground. Neste caso, este JSON define que a cobran\xe7a deve possuir um produto de nome ",Object(r.b)("code",null,"Meu Produto"),", valor ",Object(r.b)("code",null,"8900")," (o que equivale a R$ 89,00) e quantidade ",Object(r.b)("code",null,"1"),". Al\xe9m disso, \xe9 poss\xedvel observar a sa\xedda prevista e o schema de valida\xe7\xe3o com todos os atributos (obrigat\xf3rias e opcionais) dispon\xedveis para este m\xe9todo:"),Object(r.b)(s.a,{defaultValue:"entrada",values:[{label:"Dados de Entrada",value:"entrada"},{label:"Dados de Sa\xedda",value:"saida"},{label:"Schema",value:"schema"}],mdxType:"Tabs"},Object(r.b)(d.a,{value:"entrada",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "items": [\n    {\n      "name": "Meu Produto",\n      "value": 8900,\n      "amount": 1\n    }\n  ]\n}\n'))),Object(r.b)(d.a,{value:"saida",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "code": 200, // retorno HTTP "200" informando que o pedido foi bem sucedido\n  "data": {\n    "charge_id": numero_charge_id, // n\xfamero da ID referente \xe0 transa\xe7\xe3o gerada\n    "status": "new", // cobran\xe7a gerada, aguardando defini\xe7\xe3o da forma de pagamento\n    "total": 8900, // valor total da transa\xe7\xe3o (em centavos, sendo 8900 = R$89,00)\n    "custom_id": null, // identificador pr\xf3prio opcional\n    "created_at": "2016-06-24 14:58:46" // data e hora da cria\xe7\xe3o da transa\xe7\xe3o\n  }\n}\n'))),Object(r.b)(d.a,{value:"schema",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "id": "/Charge",\n  "type": "object",\n  "properties": {\n    "items": {\n      "id": "/MarketplaceItem",\n      "type": "array",\n      "minItems": 1,\n      "items": {\n        "type": "object",\n        "properties": {\n          "name": {\n            "type": "string",\n            "minLength": 1,\n            "maxLength": 255,\n            "pattern": "^[^<>]+$"\n          },\n          "value": {\n            "type": "integer",\n            "minimum": 0\n          },\n          "amount": {\n            "type": "integer",\n            "minimum": 1,\n            "exclusiveMinimum": false\n          },\n          "marketplace": {\n            "type": "object",\n            "properties": {\n              "repasses": {\n                "id": "/Repass",\n                "type": "array",\n                "minItems": 1,\n                "items": {\n                  "type": "object",\n                  "properties": {\n                    "payee_code": {\n                      "type": "string",\n                      "pattern": "^[a-fA-F0-9]{32}$"\n                    },\n                    "percentage": {\n                      "type": "integer",\n                      "minimum": 0,\n                      "maximum": 10000\n                    }\n                  },\n                  "required": [\n                    "payee_code",\n                    "percentage"\n                  ]\n                }\n              }\n            },\n            "required": [\n              "repasses"\n            ]\n          }\n        },\n        "required": [\n          "name",\n          "value"\n        ]\n      }\n    },\n    "shippings": {\n      "id": "/Shipping",\n      "type": "array",\n      "minItems": 1,\n      "items": {\n        "type": "object",\n        "properties": {\n          "name": {\n            "type": "string",\n            "maxLength": 255\n          },\n          "value": {\n            "type": "integer",\n            "minimum": 0\n          },\n          "payee_code": {\n            "type": "string",\n            "pattern": "^[a-fA-F0-9]{32}$"\n          }\n        },\n        "required": [\n          "name",\n          "value"\n        ]\n      }\n    },\n    "metadata": {\n      "type": "object",\n      "properties": {\n        "custom_id": {\n          "type": [\n            "string",\n            "null"\n          ],\n          "maxLength": "255"\n        },\n        "notification_url": {\n          "type": [\n            "string",\n            "null"\n          ],\n          "pattern": "^https?://.+",\n          "maxLength": "255"\n        }\n      }\n    }\n  },\n  "required": [\n    "items"\n  ]\n}\n')))),Object(r.b)("br",null),Object(r.b)("hr",null),Object(r.b)("h3",{id:"get-v1chargeid"},Object(r.b)(b,{color:"#00BBCE",mdxType:"Highlight"},"GET")," /v1/charge/:id"),Object(r.b)("p",null,"Permite retornar informa\xe7\xf5es de uma transa\xe7\xe3o existente."),Object(r.b)("p",null,"Na imagem a seguir, \xe9 poss\xedvel observar a tela de nosso ambiente de testes no qual constam os recursos atrelados ao m\xe9todo ",Object(r.b)("inlineCode",{parentName:"p"},"GET /v1/charge/:id")," que est\xe3o dispon\xedveis para utiliza\xe7\xe3o:"),Object(r.b)("a",{href:Object(i.a)("img/getchargeid.png"),target:"_blank"},Object(r.b)("img",{src:Object(i.a)("img/getchargeid.png")})),Object(r.b)("p",null,"A seguir, um JSON simples que pode ser utilizado para buscar informa\xe7\xf5es de alguma transa\xe7\xe3o no Playground. Ao informar o par\xe2metro de entrada ",Object(r.b)("inlineCode",{parentName:"p"},"charge_id"),", ser\xe3o retornadas informa\xe7\xf5es da transa\xe7\xe3o existente, conforme pode observar a sa\xedda prevista dispon\xedvel para este m\xe9todo:"),Object(r.b)(s.a,{defaultValue:"entrada",values:[{label:"Dados de Entrada",value:"entrada"},{label:"Dados de Sa\xedda",value:"saida"}],mdxType:"Tabs"},Object(r.b)(d.a,{value:"entrada",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{}),'  Par\xe2metro de entrada: informe a "charge_id" da transa\xe7\xe3o desejada\n'))),Object(r.b)(d.a,{value:"saida",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "code": 200, // retorno HTTP "200" informando que o pedido foi bem sucedido\n  "data": {\n    "charge_id": 1234567, // n\xfamero da ID referente \xe0 transa\xe7\xe3o gerada\n    "total": 8900, // valor total da transa\xe7\xe3o (em centavos, sendo 8900 = R$89,00)\n    "status": "waiting", // forma de pagamento selecionada, aguardando a confirma\xe7\xe3o do pagamento (o termo "waiting" equivale a "aguardando")\n    "custom_id": null, // identificador pr\xf3prio opcional\n    "created_at": "2018-10-31 10:18:21", // data e hora da cria\xe7\xe3o da transa\xe7\xe3o\n    "notification_url": null,\n    "items": [\n      {\n        "name": "Meu Produto", // nome de seu item, produto ou servi\xe7o\n        "value": 8900, // valor, em centavos. Por exemplo: 8900 (equivale a R$ 89,00)\n        "amount": 1 // quantidade do item ou produto\n      }\n    ],\n    "history": [\n      {\n        "message": "Cobran\xe7a criada",\n        "created_at": "2018-10-31 10:18:21"\n      },\n      {\n        "message": "Pagamento via boleto aguardando confirma\xe7\xe3o",\n        "created_at": "2018-10-31 10:19:05"\n      }      \n    ],\n    "customer": {\n      "name": "Gorbadoc Oldbuck",\n      "cpf": "94271564656",\n      "email": "email_do_cliente@servidor.com.br",\n      "phone_number": "5144916523",\n      "address": {\n        "street": "Avenida Juscelino Kubitschek",\n        "number": "909",\n        "complement": null,\n        "neighborhood": "Bauxita",\n        "city": "Ouro Preto",\n        "state": "MG",\n        "zipcode": "35400000"\n      }\n    },\n    "payment": {\n      "method": "banking_billet", // forma de pagamento da cobran\xe7a (banking_billet equivale a boleto banc\xe1rio)\n      "created_at": "2018-10-31 10:19:05",\n      "message": "Usando o atributo message, este conte\xfado \xe9 exibido no campo OBSERVA\xc7\xc3O da cobran\xe7a emitida via API\\n ... e tamb\xe9m no campo OBSERVA\xc7\xc3O DO VENDEDOR nos e-mails de cobran\xe7a enviados ao cliente\\n \xc9 poss\xedvel utilizar at\xe9 4 linhas de conte\xfado, com no m\xe1ximo 100 caracteres por linha\\n Essa mensagem poder\xe1 ser vista nos e-mails relacionados \xe0 cobran\xe7a, no boleto ou carn\xea",\n      "banking_billet": {\n        "barcode": "00000.00000 00000.000000 00000.000000 0 00000000000000",\n        "link": "link_https_para_acesso_ao_boleto", // link da transa\xe7\xe3o gerada\n        "pdf": {\n          "charge": "link_https_do_pdf_da_cobranca" // link do PDF da cobran\xe7a\n        },\n        "expire_at": "2018-12-30", // data de vencimento da cobran\xe7a no seguinte formato: 2018-12-30 (ou seja, equivale a 30/12/2018)\n        "configurations": {\n          "interest": 33, // valor cobrado de juros por dia ap\xf3s a data de vencimento (neste caso, 33 equivale a 0,033%)\n          "fine": 200 // valor cobrado de multa ap\xf3s o vencimento (neste caso, 200 equivale a 2%)\n        }\n      }\n    }\n  }\n}\n')))),Object(r.b)("br",null),Object(r.b)("hr",null),Object(r.b)("h3",{id:"put-v1chargeidmetadata"},Object(r.b)(b,{color:"#fcaf17",mdxType:"Highlight"},"PUT")," /v1/charge/:id/metadata"),Object(r.b)("p",null,"Permite incluir informa\xe7\xf5es como ",Object(r.b)("code",null,"notification_url")," e ",Object(r.b)("code",null,"custom_id")," \xe0 uma transa\xe7\xe3o existente. Este endpoint \xe9 de ",Object(r.b)("strong",{parentName:"p"},"extrema import\xe2ncia")," para atualizar sua URL de notifica\xe7\xe3o atrelada \xe0s transa\xe7\xf5es ou modificar o ",Object(r.b)("code",null,"custom_id")," previamente associado \xe0s suas transa\xe7\xf5es."),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("code",null,"notification_url"),": \xe9 um endere\xe7o de sua URL v\xe1lida que receber\xe1 as notifica\xe7\xf5es de mudan\xe7as de status das transa\xe7\xf5es"),Object(r.b)("li",{parentName:"ul"},Object(r.b)("code",null,"custom_id"),": permite associar uma transa\xe7\xe3o Gerencianet a uma ID espec\xedfica de seu sistema ou aplica\xe7\xe3o, permitindo identific\xe1-la caso voc\xea possua uma identifica\xe7\xe3o espec\xedfica e queira mant\xea-la.")),Object(r.b)("p",null,Object(r.b)("strong",{parentName:"p"},"Casos de uso deste endpoint:")),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Integrador alterou o IP do servidor que estava associado na URL de notifica\xe7\xe3o das transa\xe7\xf5es;")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Integrador atualizou a URL de notifica\xe7\xe3o para as novas transa\xe7\xf5es que forem criadas (",Object(r.b)("code",null,"createCharge"),"), mas precisa atualizar tamb\xe9m nas transa\xe7\xf5es anteriores (",Object(r.b)("code",null,"updateChargeMetadata"),") que foram geradas e que est\xe3o associadas com a URL incorreta/desatualizada;")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},'Foi instalado SSL (https) no servidor do cliente e mesmo que o cliente defina uma regra de redirecionamento 301 ou 302, ser\xe1 preciso definir a nova URL nas transa\xe7\xf5es que est\xe3o com a URL "antiga";')),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Integrador gerou cobran\xe7as e n\xe3o havia informado a URL de notifica\xe7\xe3o ao enviar a requisi\xe7\xe3o de cria\xe7\xe3o da transa\xe7\xe3o;")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Modificar ou acrescentar uma informa\xe7\xe3o junto ao atributo ",Object(r.b)("code",null,"custom_id")," associado \xe0s transa\xe7\xf5es geradas previamente;")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},"Dentre outros poss\xedveis cen\xe1rios."))),Object(r.b)("p",null,"Na imagem a seguir, \xe9 poss\xedvel observar a tela de nosso ambiente de testes no qual constam os recursos atrelados ao m\xe9todo ",Object(r.b)("code",null,"PUT /v1/charge/:id/metadata")," que est\xe3o dispon\xedveis para utiliza\xe7\xe3o:"),Object(r.b)("a",{href:Object(i.a)("img/putchargemetadata.png"),target:"_blank"},Object(r.b)("img",{src:Object(i.a)("img/putchargemetadata.png")})),Object(r.b)("p",null,"A seguir, um JSON simples que pode ser utilizado para alterar a URL de notifica\xe7\xe3o e/ou custom_id de uma transa\xe7\xe3o j\xe1 existente no Playground. Al\xe9m disso, \xe9 poss\xedvel observar a sa\xedda prevista e o schema de valida\xe7\xe3o com todos os atributos (obrigat\xf3rios e opcionais) dispon\xedveis para este m\xe9todo. Lembrando que \xe9 preciso informar o par\xe2metro de entrada ",Object(r.b)("inlineCode",{parentName:"p"},"charge_id")," da transa\xe7\xe3o desejada:"),Object(r.b)(s.a,{defaultValue:"entrada",values:[{label:"Dados de Entrada",value:"entrada"},{label:"Dados de Sa\xedda",value:"saida"},{label:"Schema",value:"schema"}],mdxType:"Tabs"},Object(r.b)(d.a,{value:"entrada",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "notification_url": null,\n  "custom_id": null\n}\n'))),Object(r.b)(d.a,{value:"saida",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "code": 200 // retorno HTTP "200" informando que o pedido foi bem sucedido\n}\n'))),Object(r.b)(d.a,{value:"schema",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "type": "object",\n  "minProperties": 1,\n  "id": "/ChargeMetadataUpdate",\n  "properties": {\n    "notification_url": {\n      "type": [\n        "string",\n        "null"\n      ],\n      "pattern": "^https?://.+",\n      "minLength": "1",\n      "maxLength": "255"\n    },\n    "custom_id": {\n      "type": "string",\n      "minLength": "1",\n      "maxLength": "255",\n      "pattern": "^[a-zA-Z0-9\\\\_\\\\-\\\\s]+$"\n    }\n  }\n}\n')))),Object(r.b)("br",null),Object(r.b)("hr",null),Object(r.b)("h3",{id:"put-v1chargeidbillet"},Object(r.b)(b,{color:"#fcaf17",mdxType:"Highlight"},"PUT")," /v1/charge/:id/billet"),Object(r.b)("p",null,"Permite efetuar a altera\xe7\xe3o da data de vencimento de uma transa\xe7\xe3o em que a forma de pagamento \xe9 boleto banc\xe1rio (",Object(r.b)("inlineCode",{parentName:"p"},"banking_billet"),") e que ainda n\xe3o foi paga. O formato da data de vencimento deve seguir o seguinte padr\xe3o: ",Object(r.b)("inlineCode",{parentName:"p"},"YYYY-MM-DD"),"."),Object(r.b)("p",null,"Na imagem a seguir, \xe9 poss\xedvel observar a tela de nosso ambiente de testes no qual constam os recursos atrelados ao m\xe9todo ",Object(r.b)("inlineCode",{parentName:"p"},"PUT /v1/charge/:id/billet")," que est\xe3o dispon\xedveis para utiliza\xe7\xe3o:"),Object(r.b)("a",{href:Object(i.a)("img/putchargeidbillet.png"),target:"_blank"},Object(r.b)("img",{src:Object(i.a)("img/putchargeidbillet.png")})),Object(r.b)("p",null,"A seguir, um JSON simples que pode ser utilizado para alterar a data de vencimento de um boleto no Playground - no caso, a nova de vencimento do boleto ser\xe1 dia ",Object(r.b)("inlineCode",{parentName:"p"},"2021-12-30")," (equivale a ",Object(r.b)("inlineCode",{parentName:"p"},"30/12/2021"),"). Al\xe9m disso, \xe9 poss\xedvel observar a sa\xedda prevista e o schema de valida\xe7\xe3o com todos os atributos (obrigat\xf3rios e opcionais) dispon\xedveis para este m\xe9todo. Lembrando que \xe9 preciso informar o par\xe2metro de entrada charge_id da transa\xe7\xe3o desejada:"),Object(r.b)(s.a,{defaultValue:"entrada",values:[{label:"Dados de Entrada",value:"entrada"},{label:"Dados de Sa\xedda",value:"saida"},{label:"Schema",value:"schema"}],mdxType:"Tabs"},Object(r.b)(d.a,{value:"entrada",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "expire_at": "2021-12-30"\n}\n'))),Object(r.b)(d.a,{value:"saida",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "code": 200 // retorno HTTP "200" informando que o pedido foi bem sucedido\n}\n'))),Object(r.b)(d.a,{value:"schema",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "id": "/ChargeBilletUpdate",\n  "type": "object",\n  "properties": {\n    "expire_at": {\n      "type": "string",\n      "pattern": "^[12][0-9]{3}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12][0-9]|3[01])$"\n    }\n  },\n  "required": [\n    "expire_at"\n  ]\n}\n')))),Object(r.b)("br",null),Object(r.b)("hr",null),Object(r.b)("h3",{id:"put-v1chargeidcancel"},Object(r.b)(b,{color:"#fcaf17",mdxType:"Highlight"},"PUT")," /v1/charge/:id/cancel"),Object(r.b)("p",null,"Atrav\xe9s deste ",Object(r.b)("em",{parentName:"p"},"endpoint"),"\xe9 poss\xedvel cancelar uma transa\xe7\xe3o criada."),Object(r.b)("p",null,"Somente transa\xe7\xf5es com status ",Object(r.b)("inlineCode",{parentName:"p"},"new"),", ",Object(r.b)("inlineCode",{parentName:"p"},"waiting"),", ",Object(r.b)("inlineCode",{parentName:"p"},"unpaid")," ou ",Object(r.b)("inlineCode",{parentName:"p"},"link")," podem ser canceladas. A partir do momento que uma transa\xe7\xe3o \xe9 cancelada, existe apenas uma condi\xe7\xe3o para que esse status seja alterado novamente: se o cliente imprimir o boleto antes do integrador cancelar a transa\xe7\xe3o, ele poder\xe1 realizar o pagamento normalmente em uma ag\xeancia banc\xe1ria."),Object(r.b)("p",null,"Neste caso, o integrador e o pagador recebem a confirma\xe7\xe3o do pagamento como j\xe1 acontece normalmente e o status da cobran\xe7a \xe9 alterado de ",Object(r.b)("inlineCode",{parentName:"p"},"canceled")," (cancelado) para ",Object(r.b)("inlineCode",{parentName:"p"},"paid")," (pago)."),Object(r.b)("p",null,"Na imagem a seguir, \xe9 poss\xedvel observar a tela de nosso ambiente de testes no qual constam os recursos atrelados ao m\xe9todo PUT /v1/charge/:id/cancel que est\xe3o dispon\xedveis para utiliza\xe7\xe3o:"),Object(r.b)("a",{href:Object(i.a)("img/putchargeidcancel.png"),target:"_blank"},Object(r.b)("img",{src:Object(i.a)("img/putchargeidcancel.png")})),Object(r.b)("p",null,"A seguir, um JSON simples que pode ser utilizado para cancelar uma transa\xe7\xe3o criada em Playground. Al\xe9m disso, \xe9 poss\xedvel observar a sa\xedda prevista dispon\xedvel para este m\xe9todo. Lembrando que \xe9 preciso informar o par\xe2metro de entrada ",Object(r.b)("inlineCode",{parentName:"p"},"charge_id")," da transa\xe7\xe3o desejada:"),Object(r.b)(s.a,{defaultValue:"entrada",values:[{label:"Dados de Entrada",value:"entrada"},{label:"Dados de Sa\xedda",value:"saida"}],mdxType:"Tabs"},Object(r.b)(d.a,{value:"entrada",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-j"}),'Par\xe2metro de entrada: informe a "charge_id" da transa\xe7\xe3o desejada\n'))),Object(r.b)(d.a,{value:"saida",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "code": 200 // retorno HTTP "200" informando que o pedido foi bem sucedido\n}\n')))),Object(r.b)("br",null),Object(r.b)("hr",null),Object(r.b)("h3",{id:"post-v1chargeidpay"},Object(r.b)(b,{color:"#009615",mdxType:"Highlight"},"POST")," /v1/charge/:id/pay"),Object(r.b)("p",null,"Permite associar um m\xe9todo de pagamento \xe0 uma transa\xe7\xe3o j\xe1 criada."),Object(r.b)("p",null,"Ap\xf3s gerar uma transa\xe7\xe3o atrav\xe9s do endpoint ",Object(r.b)("code",null,"POST /v1/charge"),", esta fica classificada com o status de ",Object(r.b)("code",null,"new")," (novo), ou seja, uma nova transa\xe7\xe3o foi gerada, por\xe9m, nenhum m\xe9todo de pagamento foi atribu\xeddo a ela."),Object(r.b)("p",null,"Para definir uma forma de pagamento para a transa\xe7\xe3o criada, o integrador pode escolher entre ",Object(r.b)("code",null,"banking_billet")," ou ",Object(r.b)("code",null,"credit_card")," (boleto banc\xe1rio e cart\xe3o de cr\xe9dito, respectivamente)."),Object(r.b)("ul",null,Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("em",{parentName:"p"},"Boleto Banc\xe1rio"),": a transa\xe7\xe3o passa por um ciclo de altera\xe7\xe3o de status, sendo criada inicialmente com o status de ",Object(r.b)("code",null,"new")," (novo) e, ao definir a forma de pagamento, o status passar\xe1 a ser ",Object(r.b)("code",null,"waiting")," (aguardando). Isso significa que o boleto foi gerado com sucesso, mas ainda n\xe3o foi pago. Ao escolher boleto, a resposta do consumo j\xe1 ter\xe1 a linha digit\xe1vel, c\xf3digo de barras e link para acesso ao boleto;")),Object(r.b)("li",{parentName:"ul"},Object(r.b)("p",{parentName:"li"},Object(r.b)("em",{parentName:"p"},"Cart\xe3o de Cr\xe9dito"),": a principal diferen\xe7a para o boleto est\xe1 relacionada \xe0 necessidade de utiliza\xe7\xe3o de um c\xf3digo denominado \u201cpayment_token\u201d. No Playground, voc\xea pode gerar seu token clicando no bot\xe3o ",Object(r.b)("em",{parentName:"p"},"\u201cGerar payment token\u201d")," e col\xe1-lo dentro do atributo ",Object(r.b)("code",null,"payment_token"),'. J\xe1 no ambiente de produ\xe7\xe3o, a obten\xe7\xe3o do "payment_token" se d\xe1 pelo consumo de um c\xf3digo Javascript dispon\xedvel em sua conta.'))),Object(r.b)("p",null,"Na imagem a seguir, \xe9 poss\xedvel observar a tela de nosso ambiente de testes no qual constam os recursos atrelados ao m\xe9todo ",Object(r.b)("code",null,"POST /v1/charge/:id/pay")," que est\xe3o dispon\xedveis para utiliza\xe7\xe3o:"),Object(r.b)("a",{href:Object(i.a)("img/postchargeidpay.png"),target:"_blank"},Object(r.b)("img",{src:Object(i.a)("img/postchargeidpay.png")})),Object(r.b)("p",null,"A seguir, um JSON simples que pode ser utilizado para associar um m\xe9todo de pagamento \xe0 uma transa\xe7\xe3o j\xe1 criada em Playground - o integrador pode escolher entre ",Object(r.b)("inlineCode",{parentName:"p"},"banking_billet")," ou ",Object(r.b)("inlineCode",{parentName:"p"},"credit_card"),". Al\xe9m disso, \xe9 poss\xedvel observar a sa\xedda prevista e o schema de valida\xe7\xe3o com todos os atributos (obrigat\xf3rios e opcionais) dispon\xedveis para este m\xe9todo. Lembrando que \xe9 preciso informar o par\xe2metro de entrada ",Object(r.b)("inlineCode",{parentName:"p"},"charge_id")," da transa\xe7\xe3o desejada:"),Object(r.b)(s.a,{defaultValue:"entradaCartao",values:[{label:"Dados de Entrada (cart\xe3o)",value:"entradaCartao"},{label:"Dados de Entrada (boleto)",value:"entradaBoleto"},{label:"Dados de Sa\xedda (cart\xe3o)",value:"saidaCartao"},{label:"Dados de Sa\xedda (boleto)",value:"saidaBoleto"},{label:"Schema",value:"schema"}],mdxType:"Tabs"},Object(r.b)(d.a,{value:"entradaCartao",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "payment": {\n    "credit_card": {\n      "customer": {\n        "name": "Gorbadoc Oldbuck",\n        "cpf": "94271564656",\n        "email": "email_do_cliente@servidor.com.br",\n        "birth": "1990-08-29",\n        "phone_number": "5144916523"\n      },\n      "installments": 1,\n      "payment_token": "",\n      "billing_address": {\n        "street": "Avenida Juscelino Kubitschek",\n        "number": "909",\n        "neighborhood": "Bauxita",\n        "zipcode": "35400000",\n        "city": "Ouro Preto",\n        "complement": "",\n        "state": "MG"\n      }\n    }\n  }\n}\n'))),Object(r.b)(d.a,{value:"entradaBoleto",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "payment": {\n    "banking_billet": {\n      "customer": {\n        "name": "Gorbadoc Oldbuck",\n        "cpf": "94271564656",\n        "email": "email_do_cliente@servidor.com.br",\n        "phone_number": "5144916523",\n        "address": {\n          "street": "Avenida Juscelino Kubitschek",\n          "number": "909",\n          "neighborhood": "Bauxita",\n          "zipcode": "35400000",\n          "city": "Ouro Preto",\n          "complement": "",\n          "state": "MG"\n        }\n      },\n      "expire_at": "2018-12-30",\n      "configurations": {\n        "fine": 200,\n        "interest": 33\n      },\n      "message": "Usando o atributo message, este conte\xfado \xe9 exibido no campo OBSERVA\xc7\xc3O da cobran\xe7a emitida via API \\n ... e tamb\xe9m no campo OBSERVA\xc7\xc3O DO VENDEDOR nos e-mails de cobran\xe7a enviados ao cliente \\n \xc9 poss\xedvel utilizar at\xe9 4 linhas de conte\xfado, com no m\xe1ximo 100 caracteres por linha \\n Essa mensagem poder\xe1 ser vista nos e-mails relacionados \xe0 cobran\xe7a, no boleto ou carn\xea"\n    }\n  }\n}\n'))),Object(r.b)(d.a,{value:"saidaCartao",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "code": 200, // retorno HTTP "200" informando que o pedido foi bem sucedido\n  "data": {\n    "installments": 1, // n\xfamero de parcelas em que o pagamento deve ser dividido\n    "installment_value": 8900, // valor da parcela. Por exemplo: 8900 (equivale a R$ 89,00)\n    "charge_id": numero_charge_id, // n\xfamero da ID referente \xe0 transa\xe7\xe3o gerada\n    "status": "waiting", // forma de pagamento selecionada, aguardando a confirma\xe7\xe3o do pagamento ("waiting" equivale a "aguardando")\n    "total": 8900, // valor, em centavos. Por exemplo: 8900 (equivale a R$ 89,00)\n    "payment": "credit_card" // forma de pagamento associada \xe0 esta transa\xe7\xe3o ("credit_card" equivale a "cart\xe3o de cr\xe9dito")\n  }\n}\n'))),Object(r.b)(d.a,{value:"saidaBoleto",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "code": 200, // retorno HTTP "200" informando que o pedido foi bem sucedido\n  "data": {\n    "barcode": "00000.00000 00000.000000 00000.000000 0 00000000000000", // linha digit\xe1vel do boleto\n    "link": "link_https_para_acesso_ao_boleto", // link do boleto gerado\n    "pdf": {\n      "charge": "link_https_do_pdf_da_cobranca" // link do PDF da cobran\xe7a\n    },    \n    "expire_at": "2018-12-30", // data de vencimento do boleto no seguinte formato: 2018-12-30 (ou seja, equivale a 30/12/2018)\n    "charge_id": numero_charge_id, // n\xfamero da ID referente \xe0 transa\xe7\xe3o gerada\n    "status": "waiting", // forma de pagamento selecionada, aguardando a confirma\xe7\xe3o do pagamento ("waiting" equivale a "aguardando")\n    "total": 8900, // valor, em centavos. Por exemplo: 8900 (equivale a R$ 89,00)\n    "payment": "banking_billet" // forma de pagamento associada \xe0 esta transa\xe7\xe3o ("banking_billet" equivale a "boleto banc\xe1rio")\n  }\n}\n'))),Object(r.b)(d.a,{value:"schema",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "type": "object",\n  "id": "/Pay",\n  "properties": {\n    "payment": {\n      "type": "object",\n      "maxProperties": 1,\n      "minProperties": 1,\n      "properties": {\n        "banking_billet": {\n          "type": "object",\n          "id": "/Billet",\n          "properties": {\n            "customer": {\n              "type": "object",\n              "id": "/BasicCustomer",\n              "properties": {\n                "name": {\n                  "type": [\n                    "string",\n                    "null"\n                  ],\n                  "minLength": 1,\n                  "maxLength": 255,\n                  "pattern": "^[ ]*(.+[ ]+)+.+[ ]*$"\n                },\n                "cpf": {\n                  "type": [\n                    "string",\n                    "null"\n                  ],\n                  "minLength": 11,\n                  "maxLength": 11\n                },\n                "email": {\n                  "type": [\n                    "string",\n                    "null"\n                  ],\n                  "maxLength": 255,\n                  "pattern": "^[A-Za-z0-9_\\\\-]+(?:[.][A-Za-z0-9_\\\\-]+)*@[A-Za-z0-9_]+(?:[-.][A-Za-z0-9_]+)*\\\\.[A-Za-z0-9_]+$"\n                },\n                "phone_number": {\n                  "type": "string",\n                  "pattern": "^[1-9]{2}9?[0-9]{8}$"\n                },\n                "birth": {\n                  "type": [\n                    "string",\n                    "null"\n                  ],\n                  "pattern": "^[12][0-9]{3}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12][0-9]|3[01])$"\n                },\n                "address": {\n                  "type": "object",\n                  "id": "/AddressOptional",\n                  "properties": {\n                    "street": {\n                      "type": [\n                        "string",\n                        "null"\n                      ],\n                      "minLength": 0,\n                      "maxLength": 200\n                    },\n                    "number": {\n                      "type": [\n                        "string",\n                        "null",\n                        "integer"\n                      ],\n                      "minLength": 0,\n                      "maxLength": 55\n                    },\n                    "neighborhood": {\n                      "type": [\n                        "string",\n                        "null"\n                      ],\n                      "minLength": 0,\n                      "maxLength": 255\n                    },\n                    "zipcode": {\n                      "type": [\n                        "string",\n                        "null"\n                      ],\n                      "pattern": "^[0-9]{8}$"\n                    },\n                    "city": {\n                      "type": [\n                        "string",\n                        "null"\n                      ],\n                      "minLength": 0,\n                      "maxLength": 50\n                    },\n                    "complement": {\n                      "type": [\n                        "string",\n                        "null"\n                      ],\n                      "minLength": 0,\n                      "maxLength": 45\n                    },\n                    "state": {\n                      "type": [\n                        "string",\n                        "null"\n                      ],\n                      "pattern": "^(?:A[CLPM]|BA|CE|DF|ES|GO|M[ATSG]|P[RBAEI]|R[JNSOR]|S[CEP]|TO)$"\n                    }\n                  }\n                },\n                "juridical_person": {\n                  "type": "object",\n                  "id": "/JuridicalPerson",\n                  "properties": {\n                    "corporate_name": {\n                      "type": [\n                        "string",\n                        "null"\n                      ],\n                      "minLength": 1,\n                      "maxLength": 255\n                    },\n                    "cnpj": {\n                      "type": [\n                        "string",\n                        "null"\n                      ],\n                      "minLength": 14,\n                      "maxLength": 14\n                    }\n                  },\n                  "required": [\n                    "corporate_name",\n                    "cnpj"\n                  ]\n                }\n              },\n              "required": [\n                "phone_number"\n              ]\n            },\n            "expire_at": {\n              "type": "string",\n              "pattern": "^[12][0-9]{3}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12][0-9]|3[01])$"\n            },\n            "discount": {\n              "type": "object",\n              "id": "/Discount",\n              "properties": {\n                "type": {\n                  "type": "string",\n                  "enum": [\n                    "percentage",\n                    "currency"\n                  ]\n                },\n                "value": {\n                  "type": "integer",\n                  "minimum": 1\n                }\n              },\n              "required": [\n                "type",\n                "value"\n              ]\n            },\n            "conditional_discount": {\n              "id": "/ConditionalDiscount",\n              "type": "object",\n              "properties": {\n                "type": {\n                  "type": "string",\n                  "enum": [\n                    "percentage",\n                    "currency"\n                  ]\n                },\n                "value": {\n                  "type": "integer",\n                  "minimum": 1\n                },\n                "until_date": {\n                  "type": "string",\n                  "pattern": "^[12][0-9]{3}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12][0-9]|3[01])$"\n                }\n              },\n              "required": [\n                "type",\n                "value",\n                "until_date"\n              ]\n            },\n            "instructions": {\n              "type": "array",\n              "minItems": 1,\n              "maxItems": 4,\n              "items": {\n                "type": "string",\n                "minLength": 1,\n                "maxLength": 90\n              }\n            },\n            "configurations": {\n              "type": "object",\n              "id": "/Configurations",\n              "minProperties": 1,\n              "properties": {\n                "fine": {\n                  "type": "integer",\n                  "minimum": 0,\n                  "maximum": 1000\n                },\n                "interest": {\n                  "type": "integer",\n                  "minimum": 0,\n                  "maximum": 330\n                }\n              }\n            },\n            "message": {\n              "type": "string",\n              "pattern": "^[^\\n]{0,100}(\\n[^\\n]{0,100}){0,3}$"\n            }\n          },\n          "required": [\n            "customer",\n            "expire_at"\n          ]\n        },\n        "credit_card": {\n          "type": "object",\n          "id": "/CreditCard",\n          "properties": {\n            "customer": {\n              "type": "object",\n              "id": "/FullCustomer",\n              "properties": {\n                "name": {\n                  "type": [\n                    "string",\n                    "null"\n                  ],\n                  "minLength": 1,\n                  "maxLength": 255,\n                  "pattern": "^[ ]*(.+[ ]+)+.+[ ]*$"\n                },\n                "cpf": {\n                  "type": [\n                    "string",\n                    "null"\n                  ],\n                  "minLength": 11,\n                  "maxLength": 11\n                },\n                "email": {\n                  "type": "string",\n                  "maxLength": 255,\n                  "pattern": "^[A-Za-z0-9_\\\\-]+(?:[.][A-Za-z0-9_\\\\-]+)*@[A-Za-z0-9_]+(?:[-.][A-Za-z0-9_]+)*\\\\.[A-Za-z0-9_]+$"\n                },\n                "phone_number": {\n                  "type": "string",\n                  "pattern": "^[1-9]{2}9?[0-9]{8}$"\n                },\n                "birth": {\n                  "type": "string",\n                  "pattern": "^[12][0-9]{3}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12][0-9]|3[01])$"\n                },\n                "address": {\n                  "type": "object",\n                  "id": "/Address",\n                  "properties": {\n                    "street": {\n                      "type": "string",\n                      "minLength": 1,\n                      "maxLength": 200\n                    },\n                    "number": {\n                      "type": [\n                        "string",\n                        "integer"\n                      ],\n                      "minLength": 1,\n                      "maxLength": 55\n                    },\n                    "neighborhood": {\n                      "type": "string",\n                      "minLength": 1,\n                      "maxLength": 255\n                    },\n                    "zipcode": {\n                      "type": "string",\n                      "pattern": "^[0-9]{8}$"\n                    },\n                    "city": {\n                      "type": "string",\n                      "minLength": 1,\n                      "maxLength": 50\n                    },\n                    "complement": {\n                      "type": [\n                        "string",\n                        "null"\n                      ],\n                      "minLength": 0,\n                      "maxLength": 45\n                    },\n                    "state": {\n                      "type": "string",\n                      "pattern": "^(?:A[CLPM]|BA|CE|DF|ES|GO|M[ATSG]|P[RBAEI]|R[JNSOR]|S[CEP]|TO)$"\n                    }\n                  },\n                  "required": [\n                    "street",\n                    "number",\n                    "neighborhood",\n                    "zipcode",\n                    "city",\n                    "state"\n                  ]\n                },\n                "juridical_person": {\n                  "type": "object",\n                  "id": "/JuridicalPerson",\n                  "properties": {\n                    "corporate_name": {\n                      "type": [\n                        "string",\n                        "null"\n                      ],\n                      "minLength": 1,\n                      "maxLength": 255\n                    },\n                    "cnpj": {\n                      "type": [\n                        "string",\n                        "null"\n                      ],\n                      "minLength": 14,\n                      "maxLength": 14\n                    }\n                  },\n                  "required": [\n                    "corporate_name",\n                    "cnpj"\n                  ]\n                }\n              },\n              "required": [\n                "email",\n                "phone_number",\n                "birth"\n              ]\n            },\n            "installments": {\n              "type": "integer",\n              "minimum": 1,\n              "maximum": 12,\n              "exclusiveMinimum": false,\n              "exclusiveMaximum": false\n            },\n            "discount": {\n              "type": "object",\n              "id": "/Discount",\n              "properties": {\n                "type": {\n                  "type": "string",\n                  "enum": [\n                    "percentage",\n                    "currency"\n                  ]\n                },\n                "value": {\n                  "type": "integer",\n                  "minimum": 1\n                }\n              },\n              "required": [\n                "type",\n                "value"\n              ]\n            },\n            "billing_address": {\n              "type": "object",\n              "id": "/Address",\n              "properties": {\n                "street": {\n                  "type": "string",\n                  "minLength": 1,\n                  "maxLength": 200\n                },\n                "number": {\n                  "type": [\n                    "string",\n                    "integer"\n                  ],\n                  "minLength": 1,\n                  "maxLength": 55\n                },\n                "neighborhood": {\n                  "type": "string",\n                  "minLength": 1,\n                  "maxLength": 255\n                },\n                "zipcode": {\n                  "type": "string",\n                  "pattern": "^[0-9]{8}$"\n                },\n                "city": {\n                  "type": "string",\n                  "minLength": 1,\n                  "maxLength": 50\n                },\n                "complement": {\n                  "type": [\n                    "string",\n                    "null"\n                  ],\n                  "minLength": 0,\n                  "maxLength": 45\n                },\n                "state": {\n                  "type": "string",\n                  "pattern": "^(?:A[CLPM]|BA|CE|DF|ES|GO|M[ATSG]|P[RBAEI]|R[JNSOR]|S[CEP]|TO)$"\n                }\n              },\n              "required": [\n                "street",\n                "number",\n                "neighborhood",\n                "zipcode",\n                "city",\n                "state"\n              ]\n            },\n            "payment_token": {\n              "type": "string",\n              "pattern": "^[a-fA-F0-9]{40}$"\n            },\n            "message": {\n              "type": "string",\n              "pattern": "^[^\\n]{0,100}(\\n[^\\n]{0,100}){0,3}$"\n            }\n          },\n          "required": [\n            "customer",\n            "billing_address",\n            "payment_token"\n          ]\n        }\n      }\n    }\n  },\n  "required": [\n    "payment"\n  ]\n}\n')))),Object(r.b)("p",null,"No caso da aba ",Object(r.b)("em",null,'"Dados de Entrada (boleto)"'),", est\xe1 sendo gerado um boleto com vencimento para 30/12/2018, estamos usando uma mensagem para informar algo ao cliente, e se o boleto for pago ap\xf3s o vencimento, ser\xe1 cobrado 2% de multa e 0,033% de juros por dia."),Object(r.b)("p",null,"No caso da aba ",Object(r.b)("em",null,'"Dados de Entrada (cart\xe3o)"'),", o ",Object(r.b)("code",null,"payment_token")," \xe9 o token de pagamento necess\xe1rio quando o pagamento \xe9 via cart\xe3o. No Playground, ele \xe9 obtido apenas clicando no bot\xe3o ",Object(r.b)("em",null,'"Gerar payment token"')," e colando dentro do atributo ",Object(r.b)("code",null,"payment_token"),'. Caso estivesse em ambiente de produ\xe7\xe3o, seria obtido atrav\xe9s de c\xf3digo Javascript dispon\xedvel para cada conta Gerencianet - para boleto o "payment_token" n\xe3o \xe9 necess\xe1rio.'),Object(r.b)("div",{className:"admonition admonition-tip alert alert--success"},Object(r.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-heading"}),Object(r.b)("h5",{parentName:"div"},Object(r.b)("span",Object(t.a)({parentName:"h5"},{className:"admonition-icon"}),Object(r.b)("svg",Object(t.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"}),Object(r.b)("path",Object(t.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"})))),"informa\xe7\xe3o")),Object(r.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-content"}),Object(r.b)("p",{parentName:"div"},"Ao usar o atributo ",Object(r.b)("inlineCode",{parentName:"p"},"message"),", deve-se utilizar o operador ",Object(r.b)("inlineCode",{parentName:"p"},"\\n"),' para efetuar a "quebra" da linha. No c\xf3digo que disponibilizamos j\xe1 inclu\xedmos este operador.'))),Object(r.b)("br",null),Object(r.b)("hr",null),Object(r.b)("h3",{id:"post-v1chargeidbilletresend"},Object(r.b)(b,{color:"#009615",mdxType:"Highlight"},"POST")," /v1/charge/:id/billet/resend"),Object(r.b)("p",null,"Permite o reenvio do boleto banc\xe1rio para o e-mail desejado."),Object(r.b)("p",null,"Na imagem a seguir, \xe9 poss\xedvel observar a tela de nosso ambiente de testes no qual constam os recursos atrelados ao m\xe9todo ",Object(r.b)("inlineCode",{parentName:"p"},"POST /v1/charge/:id/billet/resend")," que est\xe3o dispon\xedveis para utiliza\xe7\xe3o:"),Object(r.b)("a",{href:Object(i.a)("img/postchargebilletresend.png"),target:"_blank"},Object(r.b)("img",{src:Object(i.a)("img/postchargebilletresend.png")})),Object(r.b)("p",null,'A seguir, um JSON simples que pode ser utilizado para reenviar por e-mail um boleto banc\xe1rio criado em Playground - neste caso, ir\xe1 definir que o endere\xe7o "',Object(r.b)("a",Object(t.a)({parentName:"p"},{href:"mailto:email_do_cliente@servidor.com.br"}),"email_do_cliente@servidor.com.br"),'" receber\xe1 o boleto banc\xe1rio que foi criado em ambiente de testes. Al\xe9m disso, \xe9 poss\xedvel observar a sa\xedda prevista e o schema de valida\xe7\xe3o com todos os atributos (obrigat\xf3rios e opcionais) dispon\xedveis para este m\xe9todo. Lembrando que \xe9 preciso informar o par\xe2metro de entrada ',Object(r.b)("inlineCode",{parentName:"p"},"charge_id")," da transa\xe7\xe3o desejada:"),Object(r.b)(s.a,{defaultValue:"entrada",values:[{label:"Dados de Entrada",value:"entrada"},{label:"Dados de Sa\xedda",value:"saida"},{label:"Schema",value:"schema"}],mdxType:"Tabs"},Object(r.b)(d.a,{value:"entrada",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n"email": "email_do_cliente@servidor.com.br"\n}\n'))),Object(r.b)(d.a,{value:"saida",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n"code": 200 // retorno HTTP "200" informando que o pedido foi bem sucedido\n}\n'))),Object(r.b)(d.a,{value:"schema",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n"id": "/ChargeBilletResend",\n"type": "object",\n"properties": {\n  "email": {\n    "type": "string",\n    "maxLength": 255,\n    "pattern": "^[A-Za-z0-9_\\\\-]+(?:[.][A-Za-z0-9_\\\\-]+)*@[A-Za-z0-9_]+(?:[-.][A-Za-z0-9_]+)*\\\\.[A-Za-z0-9_]+$"\n  }\n},\n"required": [\n  "email"\n]\n}\n')))),Object(r.b)("br",null),Object(r.b)("hr",null),Object(r.b)("h3",{id:"post-v1chargeidhistory"},Object(r.b)(b,{color:"#009615",mdxType:"Highlight"},"POST")," /v1/charge/:id/history"),Object(r.b)("p",null,"O hist\xf3rico de uma transa\xe7\xe3o representa todas as a\xe7\xf5es que ocorreram com esta transa\xe7\xe3o at\xe9 o presente momento. \xc9 poss\xedvel adicionar mensagens personalizadas a este hist\xf3rico utilizando o endpoint ",Object(r.b)("inlineCode",{parentName:"p"},"/v1/charge/:id/history"),"."),Object(r.b)("p",null,"As mensagens personalizadas n\xe3o influenciam na transa\xe7\xe3o em si, apenas em seu hist\xf3rico. Para tal, voc\xea deve informar a ",Object(r.b)("inlineCode",{parentName:"p"},"charge_id")," da transa\xe7\xe3o desejada. Essa descri\xe7\xe3o deve possuir no m\xednimo um caractere e no m\xe1ximo 255 caracteres."),Object(r.b)("p",null,"Na imagem a seguir, \xe9 poss\xedvel observar a tela de nosso ambiente de testes no qual constam os recursos atrelados ao m\xe9todo ",Object(r.b)("inlineCode",{parentName:"p"},"POST /v1/charge/:id/history")," que est\xe3o dispon\xedveis para utiliza\xe7\xe3o:"),Object(r.b)("a",{href:Object(i.a)("img/postchargehistory.png"),target:"_blank"},Object(r.b)("img",{src:Object(i.a)("img/postchargehistory.png")})),Object(r.b)("p",null,'A seguir, um JSON simples que pode ser utilizado para acrescentar uma descri\xe7\xe3o a uma determinada transa\xe7\xe3o no Playground - neste caso, ir\xe1 acrescentar a descri\xe7\xe3o "Camisa Polo tamanho G cor azul". Al\xe9m disso, \xe9 poss\xedvel observar a sa\xedda prevista e o schema de valida\xe7\xe3o com todos os atributos (obrigat\xf3rios e opcionais) dispon\xedveis para este m\xe9todo. Lembrando que \xe9 preciso informar o par\xe2metro de entrada ',Object(r.b)("inlineCode",{parentName:"p"},"charge_id")," da transa\xe7\xe3o desejada:"),Object(r.b)(s.a,{defaultValue:"entrada",values:[{label:"Dados de Entrada",value:"entrada"},{label:"Dados de Sa\xedda",value:"saida"},{label:"Schema",value:"schema"}],mdxType:"Tabs"},Object(r.b)(d.a,{value:"entrada",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n"description": "Camisa Polo tamanho G cor azul"\n}\n'))),Object(r.b)(d.a,{value:"saida",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n"code": 200 // retorno HTTP "200" informando que o pedido foi bem sucedido\n}\n'))),Object(r.b)(d.a,{value:"schema",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n"type": "object",\n"id": "/ChargeHistory",\n"properties": {\n  "description": {\n    "type": "string",\n    "maxLength": "255",\n    "minLength": "1"\n  }\n},\n"required": [\n  "description"\n]\n}\n')))),Object(r.b)("br",null),Object(r.b)("hr",null),Object(r.b)("h3",{id:"post-v1chargeidlink"},Object(r.b)(b,{color:"#009615",mdxType:"Highlight"},"POST")," /v1/charge/:id/link"),Object(r.b)("p",null,"Permite retornar um link para uma tela de pagamento da Gerencianet. Em outras palavras, o integrador gera uma cobran\xe7a e, em seguida, ao inv\xe9s de definir o pagamento via boleto banc\xe1rio ou cart\xe3o de cr\xe9dito, o integrador pode solicitar um link escolhendo inclusive se a tela de pagamento deve aceitar boleto, cart\xe3o ou ambos."),Object(r.b)("p",null,"Al\xe9m disso, o integrador define um vencimento para a tela de pagamento, ou seja, ap\xf3s a data definida pelo integrador, o link da tela de pagamento n\xe3o ter\xe1 mais validade. O integrador pode definir o desconto para boleto ou cart\xe3o, e pode ainda informar se deseja coletar ou n\xe3o o endere\xe7o do cliente."),Object(r.b)("p",null,"Essa tela de pagamento n\xe3o \xe9 uma defini\xe7\xe3o de pagamento como boleto ou cart\xe3o, mas sim um intermedi\xe1rio. \xc9 \xfatil quando o integrador n\xe3o deseja implementar sua pr\xf3pria tela de pagamento, por exemplo."),Object(r.b)("p",null,"Na imagem a seguir, \xe9 poss\xedvel observar a tela de nosso ambiente de testes no qual constam os recursos atrelados ao m\xe9todo ",Object(r.b)("inlineCode",{parentName:"p"},"POST /v1/charge/:id/link")," que est\xe3o dispon\xedveis para utiliza\xe7\xe3o:"),Object(r.b)("a",{href:Object(i.a)("img/postchargelink.png"),target:"_blank"},Object(r.b)("img",{src:Object(i.a)("img/postchargelink.png")})),Object(r.b)("p",null,"A seguir, um JSON simples que pode ser utilizado para retornar um link para uma tela de pagamento da Gerencianet. Para utiliza\xe7\xe3o, voc\xea deve previamente criar uma transa\xe7\xe3o e, no campo ",Object(r.b)("inlineCode",{parentName:"p"},"id"),", fornecer o ",Object(r.b)("inlineCode",{parentName:"p"},"charge_id")," da transa\xe7\xe3o que foi criada anteriormente. Assim, ser\xe1 retornado um link que permitir\xe1 ao cliente ir para uma tela de pagamento previamente configurada pelo integrador."),Object(r.b)("p",null,"Al\xe9m disso, \xe9 poss\xedvel observar a sa\xedda prevista e o schema de valida\xe7\xe3o com todas as tags (obrigat\xf3rias e opcionais) dispon\xedveis para este m\xe9todo. Lembrando que tamb\xe9m \xe9 preciso informar o par\xe2metro de entrada ",Object(r.b)("inlineCode",{parentName:"p"},"charge_id")," da transa\xe7\xe3o desejada e criada previamente:"),Object(r.b)(s.a,{defaultValue:"entrada",values:[{label:"Dados de Entrada",value:"entrada"},{label:"Dados de Sa\xedda",value:"saida"},{label:"Schema",value:"schema"}],mdxType:"Tabs"},Object(r.b)(d.a,{value:"entrada",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n"message": "Escreva aqui, se quiser, uma mensagem ao seu cliente, limite de 80 caracteres",\n"expire_at": "2021-12-20",\n"request_delivery_address": false,\n"payment_method": "all"\n}\n'))),Object(r.b)(d.a,{value:"saida",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n"code": 200, // retorno HTTP "200" informando que o pedido foi bem sucedido\n"data": {\n  "charge_id": 1234567, // n\xfamero da ID referente \xe0 transa\xe7\xe3o gerada\n  "status": "link", // indica que trata-se de uma cobran\xe7a que est\xe1 associada a um link de pagamento\n  "total": 5900, // valor total da transa\xe7\xe3o (em centavos, sendo 5900 = R$59,00)\n  "custom_id": null, // identificador pr\xf3prio opcional\n  "payment_url": "https://pagamento.gerencianet.com.br/8fb4790a-bd16-4268-8118-9cf17ba4a4aa", // link https do link de pagamento\n  "payment_method": "all", // formas de pagamento permitidas (all = cart\xe3o e boleto)\n  "conditional_discount_date": null, // se usado, refere-se a data m\xe1xima que o desconto condicional ser\xe1 concedido\n  "request_delivery_address": false, // solicitar endere\xe7o de entrega do comprador?\n  "message": "Escreva aqui, se quiser, uma mensagem ao seu cliente, limite de 80 caracteres", // mensagem para o pagador com at\xe9 80 caracteres\n  "expire_at": "2021-12-20", // data de vencimento da tela de pagamento e do pr\xf3prio boleto\n  "created_at": "2021-10-31 11:14:11" // data e hora da cria\xe7\xe3o do link\n}\n}\n'))),Object(r.b)(d.a,{value:"schema",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n"id": "/ChargeLink",\n"type": "object",\n"properties": {\n  "billet_discount": {\n    "type": "integer",\n    "minimum": 1,\n    "maximum": 99999999\n  },\n  "card_discount": {\n    "type": "integer",\n    "minimum": 1,\n    "maximum": 99999999\n  },\n  "conditional_discount": {\n    "id": "/ConditionalDiscount",\n    "type": "object",\n    "properties": {\n      "type": {\n        "type": "string",\n        "enum": [\n          "percentage",\n          "currency"\n        ]\n      },\n      "value": {\n        "type": "integer",\n        "minimum": 1\n      },\n      "until_date": {\n        "type": "string",\n        "pattern": "^[12][0-9]{3}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12][0-9]|3[01])$"\n      }\n    },\n    "required": [\n      "type",\n      "value",\n      "until_date"\n    ]\n  },\n  "message": {\n    "type": "string",\n    "pattern": "^[^\\n]{0,100}(\\n[^\\n]{0,100}){0,3}$"\n  },\n  "expire_at": {\n    "type": "string",\n    "pattern": "^[12][0-9]{3}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12][0-9]|3[01])$"\n  },\n  "request_delivery_address": {\n    "type": "boolean"\n  },\n  "payment_method": {\n    "enum": [\n      "banking_billet",\n      "credit_card",\n      "all"\n    ]\n  }\n},\n"required": [\n  "request_delivery_address",\n  "expire_at",\n  "payment_method"\n]\n}\n')))),Object(r.b)("p",null,"Esse JSON retornar\xe1 um link que dar\xe1 acesso a uma tela de pagamento. Note que esse link da tela de pagamento ter\xe1 validade at\xe9 20/12/2018, n\xe3o estamos solicitando o endere\xe7o de entrega de nosso cliente e a forma de pagamento permitida \xe9 boleto e cart\xe3o (que tamb\xe9m poderia ter utilizado ",Object(r.b)("inlineCode",{parentName:"p"},"banking_billet")," para permitir s\xf3 pagamento via boleto ou ",Object(r.b)("inlineCode",{parentName:"p"},"credit_card")," para somente cart\xe3o)."),Object(r.b)("p",null,"Existem outras possibilidades, como por exemplo, concess\xe3o de desconto de acordo com a forma de pagamento, bastaria usar os atributos ",Object(r.b)("inlineCode",{parentName:"p"},"billet_discount"),' - veja na aba "Schema" todos os atributos poss\xedveis de serem utilizados.'),Object(r.b)("br",null),Object(r.b)("hr",null),Object(r.b)("h3",{id:"put-v1chargeidlink"},Object(r.b)(b,{color:"#fcaf17",mdxType:"Highlight"},"PUT")," /v1/charge/:id/link"),Object(r.b)("p",null,"Permite atualizar (alterar) determinados par\xe2metros/atributos de um link de pagamento criado atrav\xe9s do ",Object(r.b)("inlineCode",{parentName:"p"},"POST /v1/charge/:id/link"),", desde que n\xe3o tenha ocorrido a confirma\xe7\xe3o do pagamento. Algumas informa\xe7\xf5es que s\xe3o pass\xedveis de serem atualizadas: forma de pagamento, inser\xe7\xe3o de desconto e de mensagem ao cliente, data de vencimento do link de pagamento e mudan\xe7a de solicita\xe7\xe3o (ou n\xe3o) do endere\xe7o de entrega do comprador."),Object(r.b)("p",null,"Na imagem a seguir, \xe9 poss\xedvel observar a tela de nosso ambiente de testes no qual constam os recursos atrelados ao m\xe9todo ",Object(r.b)("inlineCode",{parentName:"p"},"PUT /v1/charge/:id/link")," que est\xe3o dispon\xedveis para utiliza\xe7\xe3o:"),Object(r.b)("a",{href:Object(i.a)("img/PUTchargeidlink.png"),target:"_blank"},Object(r.b)("img",{src:Object(i.a)("img/PUTchargeidlink.png")})),Object(r.b)("p",null,"A seguir, um JSON simples que pode ser utilizado para atualizar (alterar) determinados par\xe2metros/atributos de um link de pagamento criado atrav\xe9s do ",Object(r.b)("inlineCode",{parentName:"p"},"POST /v1/charge/:id/link"),", desde que n\xe3o tenha ocorrido a confirma\xe7\xe3o do pagamento. Al\xe9m disso, \xe9 poss\xedvel observar a sa\xedda prevista e o schema de valida\xe7\xe3o com todas as tags (obrigat\xf3rias e opcionais) dispon\xedveis para este m\xe9todo. Lembrando que tamb\xe9m \xe9 preciso informar o par\xe2metro de entrada ",Object(r.b)("inlineCode",{parentName:"p"},"charge_id")," da transa\xe7\xe3o desejada:"),Object(r.b)(s.a,{defaultValue:"entrada",values:[{label:"Dados de Entrada",value:"entrada"},{label:"Dados de Sa\xedda",value:"saida"},{label:"Schema",value:"schema"}],mdxType:"Tabs"},Object(r.b)(d.a,{value:"entrada",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n"expire_at": "2021-12-30",\n"request_delivery_address": false,\n"payment_method": "all"\n}\n'))),Object(r.b)(d.a,{value:"saida",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n"code": 200 // retorno HTTP "200" informando que o pedido foi bem sucedido\n}\n'))),Object(r.b)(d.a,{value:"schema",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n"id": "/ChargeLinkUpdate",\n"type": "object",\n"properties": {\n  "billet_discount": {\n    "type": [\n      "integer",\n      "null"\n    ],\n    "minimum": 1,\n    "maximum": 99999999\n  },\n  "card_discount": {\n    "type": [\n      "integer",\n      "null"\n    ],\n    "minimum": 1,\n    "maximum": 99999999\n  },\n  "conditional_discount": {\n    "oneOf": [\n      {\n        "type": [\n          "null"\n        ]\n      },\n      {\n        "id": "/ConditionalDiscount",\n        "type": "object",\n        "properties": {\n          "type": {\n            "type": "string",\n            "enum": [\n              "percentage",\n              "currency"\n            ]\n          },\n          "value": {\n            "type": "integer",\n            "minimum": 1\n          },\n          "until_date": {\n            "type": "string",\n            "pattern": "^[12][0-9]{3}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12][0-9]|3[01])$"\n          }\n        },\n        "required": [\n          "type",\n          "value",\n          "until_date"\n        ]\n      }\n    ]\n  },\n  "message": {\n    "type": [\n      "string",\n      "null"\n    ],\n    "pattern": "^[^\\n]{1,100}(\\n[^\\n]{0,100}){0,3}$"\n  },\n  "expire_at": {\n    "type": "string",\n    "pattern": "^[12][0-9]{3}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12][0-9]|3[01])$"\n  },\n  "request_delivery_address": {\n    "type": "boolean"\n  },\n  "payment_method": {\n    "enum": [\n      "banking_billet",\n      "credit_card",\n      "all"\n    ]\n  }\n},\n"required": [\n  "expire_at"\n]\n}\n')))),Object(r.b)("br",null),Object(r.b)("h3",{id:"post-v1chargeidbalance-sheet"},Object(r.b)(b,{color:"#009615",mdxType:"Highlight"},"POST")," /v1/charge/:id/balance-sheet"),Object(r.b)("p",null,"Voc\xea pode definir que a transa\xe7\xe3o ser\xe1 do tipo boleto balancete. Este \xe9 um modelo muito utilizado por condom\xednios e contabilidades."),Object(r.b)("p",null,"Na imagem a seguir, \xe9 poss\xedvel observar a tela de nosso ambiente de testes no qual constam os recursos atrelados ao m\xe9todo ",Object(r.b)("inlineCode",{parentName:"p"},"POST /v1/charge/:id/balance-sheet")," que est\xe3o dispon\xedveis para utiliza\xe7\xe3o:"),Object(r.b)("a",{href:Object(i.a)("img/balance.png"),target:"_blank"},Object(r.b)("img",{src:Object(i.a)("img/balance.png")})),Object(r.b)("p",null,"A seguir, um JSON simples que pode ser utilizado para definir que uma transa\xe7\xe3o ser\xe1 do tipo boleto balancete. Para utiliza\xe7\xe3o, voc\xea deve previamente criar uma transa\xe7\xe3o e, no campo ",Object(r.b)("inlineCode",{parentName:"p"},"id"),", fornecer o ",Object(r.b)("inlineCode",{parentName:"p"},"charge_id")," da transa\xe7\xe3o que foi criada anteriormente. Assim, ser\xe1 definido que tal transa\xe7\xe3o ser\xe1 do tipo boleto balancete, e o pr\xf3ximo (e \xfaltimo) passo ser\xe1 consumir o endpoint respons\xe1vel pela defini\xe7\xe3o de boleto (que \xe9 o ",Object(r.b)("a",Object(t.a)({parentName:"p"},{href:"#post-v1chargeidpay"}),"POST /v1/charge/:id/pay"),")."),Object(r.b)("p",null,"Al\xe9m disso, \xe9 poss\xedvel observar a sa\xedda prevista e o schema de valida\xe7\xe3o com todas as tags (obrigat\xf3rias e opcionais) dispon\xedveis para este m\xe9todo. Lembrando que tamb\xe9m \xe9 preciso informar o par\xe2metro de entrada ",Object(r.b)("inlineCode",{parentName:"p"},"charge_id")," da transa\xe7\xe3o desejada e criada previamente:"),Object(r.b)(s.a,{defaultValue:"entrada",values:[{label:"Dados de Entrada",value:"entrada"},{label:"Dados de Sa\xedda",value:"saida"},{label:"Schema",value:"schema"}],mdxType:"Tabs"},Object(r.b)(d.a,{value:"entrada",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n"title": "Balancete Demonstrativo",\n"body": [\n  {\n    "header": "Demonstrativo de Consumo",\n    "tables": [\n      {\n        "rows": [\n          [\n            {\n              "align": "left",\n              "color": "#000000",\n              "style": "bold",\n              "text": "Exemplo de despesa",\n              "colspan": 2\n            },\n            {\n              "align": "left",\n              "color": "#000000",\n              "style": "bold",\n              "text": "Total lan\xe7ado",\n              "colspan": 2\n            }\n          ],\n          [\n            {\n              "align": "left",\n              "color": "#000000",\n              "style": "normal",\n              "text": "Instala\xe7\xe3o",\n              "colspan": 2\n            },\n            {\n              "align": "left",\n              "color": "#000000",\n              "style": "normal",\n              "text": "R$ 100,00",\n              "colspan": 2\n            }\n          ]\n        ]\n      }\n    ]\n  },\n  {\n    "header": "Balancete Geral",\n    "tables": [\n      {\n        "rows": [\n          [\n            {\n              "align": "left",\n              "color": "#000000",\n              "style": "normal",\n              "text": "Confira na documenta\xe7\xe3o da Gerencianet todas as configura\xe7\xf5es poss\xedveis de um boleto balancete.",\n              "colspan": 4\n            }\n          ]\n        ]\n      }\n    ]\n  }\n]\n}\n'))),Object(r.b)(d.a,{value:"saida",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n"code": 200 // retorno HTTP "200" informando que o pedido foi bem sucedido\n}\n'))),Object(r.b)(d.a,{value:"schema",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n"id": "/BalanceSheet",\n"type": "object",\n"additionalProperties": false,\n"properties": {\n  "title": {\n    "type": "string",\n    "minLength": 3,\n    "maxLength": 255\n  },\n  "body": {\n    "type": "array",\n    "maxItems": 2,\n    "minItems": 1,\n    "uniqueItems": false,\n    "additionalItems": false,\n    "items": {\n      "type": "object",\n      "minProperties": 1,\n      "maxProperties": 2,\n      "additionalProperties": false,\n      "properties": {\n        "header": {\n          "type": "string",\n          "minLength": 3,\n          "maxLength": 255\n        },\n        "tables": {\n          "type": "array",\n          "minItems": 1,\n          "additionalItems": false,\n          "items": {\n            "type": "object",\n            "minProperties": 1,\n            "additionalProperties": false,\n            "properties": {\n              "rows": {\n                "type": "array",\n                "minItems": 1,\n                "uniqueItems": false,\n                "additionalItems": false,\n                "items": {\n                  "type": "array",\n                  "maxItems": 4,\n                  "minItems": 1,\n                  "additionalItems": false,\n                  "items": {\n                    "type": "object",\n                    "additionalProperties": false,\n                    "properties": {\n                      "align": {\n                        "type": "string",\n                        "enum": [\n                          "left",\n                          "center",\n                          "right"\n                        ]\n                      },\n                      "color": {\n                        "type": "string",\n                        "pattern": "^#[0-9a-fA-F]{6}$"\n                      },\n                      "style": {\n                        "type": "string",\n                        "enum": [\n                          "normal",\n                          "italic",\n                          "bold",\n                          "underline",\n                          "line-through"\n                        ]\n                      },\n                      "text": {\n                        "type": "string",\n                        "maxLength": 255\n                      },\n                      "colspan": {\n                        "type": "integer",\n                        "enum": [\n                          1,\n                          2,\n                          3,\n                          4\n                        ]\n                      }\n                    },\n                    "required": [\n                      "align",\n                      "color",\n                      "style",\n                      "text",\n                      "colspan"\n                    ]\n                  }\n                }\n              }\n            },\n            "required": [\n              "rows"\n            ]\n          }\n        }\n      },\n      "required": [\n        "header",\n        "tables"\n      ]\n    }\n  }\n},\n"required": [\n  "title",\n  "body"\n]\n}\n')))),Object(r.b)("p",null,"Esse JSON ir\xe1 definir que a transa\xe7\xe3o ser\xe1 do tipo boleto balancete. O pr\xf3ximo (e \xfaltimo) passo ser\xe1 consumir o endpoint respons\xe1vel pela defini\xe7\xe3o de boleto (que \xe9 o ",Object(r.b)("a",Object(t.a)({parentName:"p"},{href:"#post-v1chargeidpay"}),"POST /v1/charge/:id/pay"),") e este boleto sair\xe1 no padr\xe3o de boleto balancete. Veja um exemplo deste tipo de boleto nesta imagem."),Object(r.b)("br",null),Object(r.b)("hr",null),Object(r.b)("h3",{id:"put-v1chargeidsettle"},Object(r.b)(b,{color:"#fcaf17",mdxType:"Highlight"},"PUT")," /v1/charge/:id/settle"),Object(r.b)("p",null,"Permite marcar como pago (baixa manual) uma determinada transa\xe7\xe3o."),Object(r.b)("p",null,"Na imagem a seguir, \xe9 poss\xedvel observar a tela de nosso ambiente de testes no qual constam os recursos atrelados ao m\xe9todo ",Object(r.b)("inlineCode",{parentName:"p"},"PUT /v1/charge/:id/settle")," que est\xe3o dispon\xedveis para utiliza\xe7\xe3o:"),Object(r.b)("a",{href:Object(i.a)("img/settleCharge.png"),target:"_blank"},Object(r.b)("img",{src:Object(i.a)("img/settleCharge.png")})),Object(r.b)("p",null,"A seguir, um JSON simples que pode ser utilizado para marcar como pago uma transa\xe7\xe3o criada em Playground. Al\xe9m disso, \xe9 poss\xedvel observar a sa\xedda prevista dispon\xedvel para este m\xe9todo. Lembrando que tamb\xe9m \xe9 preciso informar o par\xe2metro de entrada ",Object(r.b)("inlineCode",{parentName:"p"},"charge_id")," da transa\xe7\xe3o desejada:"),Object(r.b)(s.a,{defaultValue:"entrada",values:[{label:"Dados de Entrada",value:"entrada"},{label:"Dados de Sa\xedda",value:"saida"}],mdxType:"Tabs"},Object(r.b)(d.a,{value:"entrada",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-code"}),'Par\xe2metro de entrada: informe a "charge_id" da transa\xe7\xe3o desejada\n'))),Object(r.b)(d.a,{value:"saida",mdxType:"TabItem"},Object(r.b)("pre",null,Object(r.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),'{\n  "code": 200 // retorno HTTP "200" informando que o pedido foi bem sucedido\n}\n'))))))}u.isMDXComponent=!0},229:function(e,a,n){"use strict";n.d(a,"a",(function(){return b})),n.d(a,"b",(function(){return u}));var t=n(0),o=n.n(t);function r(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function i(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function s(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?i(Object(n),!0).forEach((function(a){r(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function d(e,a){if(null==e)return{};var n,t,o=function(e,a){if(null==e)return{};var n,t,o={},r=Object.keys(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||(o[n]=e[n]);return o}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(t=0;t<r.length;t++)n=r[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var l=o.a.createContext({}),c=function(e){var a=o.a.useContext(l),n=a;return e&&(n="function"==typeof e?e(a):s(s({},a),e)),n},b=function(e){var a=c(e.components);return o.a.createElement(l.Provider,{value:a},e.children)},m={inlineCode:"code",wrapper:function(e){var a=e.children;return o.a.createElement(o.a.Fragment,{},a)}},p=o.a.forwardRef((function(e,a){var n=e.components,t=e.mdxType,r=e.originalType,i=e.parentName,l=d(e,["components","mdxType","originalType","parentName"]),b=c(n),p=t,u=b["".concat(i,".").concat(p)]||b[p]||m[p]||r;return n?o.a.createElement(u,s(s({ref:a},l),{},{components:n})):o.a.createElement(u,s({ref:a},l))}));function u(e,a){var n=arguments,t=a&&a.mdxType;if("string"==typeof e||t){var r=n.length,i=new Array(r);i[0]=p;var s={};for(var d in a)hasOwnProperty.call(a,d)&&(s[d]=a[d]);s.originalType=e,s.mdxType="string"==typeof e?e:t,i[1]=s;for(var l=2;l<r;l++)i[l]=n[l];return o.a.createElement.apply(null,i)}return o.a.createElement.apply(null,n)}p.displayName="MDXCreateElement"},230:function(e,a,n){"use strict";var t=n(0),o=n(35);a.a=function(){return Object(t.useContext)(o.a)}},231:function(e,a,n){"use strict";n.d(a,"a",(function(){return r}));var t=n(230),o=n(232);function r(e,{forcePrependBaseUrl:a=!1,absolute:n=!1}={}){const{siteConfig:{baseUrl:r="/",url:i}={}}=Object(t.a)();if(!e)return e;if(a)return r+e;if(!Object(o.a)(e))return e;const s=r+e.replace(/^\//,"");return n?i+s:s}},232:function(e,a,n){"use strict";function t(e){return!1===/^(https?:|\/\/|mailto:|tel:)/.test(e)}n.d(a,"a",(function(){return t}))},233:function(e,a,n){"use strict";function t(e){var a,n,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(a=0;a<e.length;a++)e[a]&&(n=t(e[a]))&&(o&&(o+=" "),o+=n);else for(a in e)e[a]&&(o&&(o+=" "),o+=a);return o}a.a=function(){for(var e,a,n=0,o="";n<arguments.length;)(e=arguments[n++])&&(a=t(e))&&(o&&(o+=" "),o+=a);return o}},234:function(e,a,n){"use strict";var t=n(0);const o=Object(t.createContext)({tabGroupChoices:{},setTabGroupChoices:()=>{},isAnnouncementBarClosed:!1,closeAnnouncementBar:()=>{}});a.a=o},235:function(e,a,n){"use strict";var t=n(0),o=n(234);a.a=function(){return Object(t.useContext)(o.a)}},236:function(e,a,n){"use strict";var t=n(0),o=n.n(t),r=n(235),i=n(233),s=n(92),d=n.n(s);const l=37,c=39;a.a=function(e){const{block:a,children:n,defaultValue:s,values:b,groupId:m}=e,{tabGroupChoices:p,setTabGroupChoices:u}=Object(r.a)(),[g,j]=Object(t.useState)(s);if(null!=m){const e=p[m];null!=e&&e!==g&&b.some(a=>a.value===e)&&j(e)}const O=e=>{j(e),null!=m&&u(m,e)},h=[];return o.a.createElement("div",null,o.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(i.a)("tabs",{"tabs--block":a})},b.map(({value:e,label:a})=>o.a.createElement("li",{role:"tab",tabIndex:"0","aria-selected":g===e,className:Object(i.a)("tabs__item",d.a.tabItem,{"tabs__item--active":g===e}),key:e,ref:e=>h.push(e),onKeyDown:e=>((e,a,n)=>{switch(n.keyCode){case c:((e,a)=>{const n=e.indexOf(a)+1;e[n]?e[n].focus():e[0].focus()})(e,a);break;case l:((e,a)=>{const n=e.indexOf(a)-1;e[n]?e[n].focus():e[e.length-1].focus()})(e,a)}})(h,e.target,e),onFocus:()=>O(e),onClick:()=>O(e)},a))),o.a.createElement("div",{role:"tabpanel",className:"margin-vert--md"},t.Children.toArray(n).filter(e=>e.props.value===g)[0]))}},237:function(e,a,n){"use strict";var t=n(0),o=n.n(t);a.a=function(e){return o.a.createElement("div",null,e.children)}}}]);