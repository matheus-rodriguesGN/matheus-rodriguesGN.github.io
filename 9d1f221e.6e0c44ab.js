(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{180:function(e,n,a){"use strict";a.r(n),a.d(n,"frontMatter",(function(){return c})),a.d(n,"metadata",(function(){return l})),a.d(n,"Highlight",(function(){return d})),a.d(n,"rightToc",(function(){return u})),a.d(n,"default",(function(){return p}));var t=a(2),r=a(6),i=(a(0),a(229)),o=a(236),s=a(237),c={id:"EndpointsAssinatura",title:"Outros endpoints",hide_title:!0,sidebar_label:"Outros endpoints"},l={id:"Assinaturas/EndpointsAssinatura",isDocsHomePage:!1,title:"Outros endpoints",description:"Outros endpoints",source:"@site/docs\\Assinaturas\\OutrosEndpoints.md",permalink:"/docs/Assinaturas/EndpointsAssinatura",sidebar_label:"Outros endpoints",sidebar:"someSidebar",previous:{title:"Criando assinaturas",permalink:"/docs/Assinaturas/CriandoAssinatura"},next:{title:"Introdu\xe7\xe3o",permalink:"/docs/Carnes/Introducao"}},d=function(e){var n=e.children;e.color;return Object(i.b)("span",{style:{borderRadius:"2px",color:"#009615",padding:"0.2rem"}},n)},u=[{value:"1. Listar os planos de assinatura existentes",id:"1-listar-os-planos-de-assinatura-existentes",children:[]},{value:"2. Cancelar plano de assinatura",id:"2-cancelar-plano-de-assinatura",children:[]},{value:"3. Retornar informa\xe7\xf5es de assinatura vinculada a um plano",id:"3-retornar-informa\xe7\xf5es-de-assinatura-vinculada-a-um-plano",children:[]},{value:"4. Cancelar assinaturas ativas em um plano",id:"4-cancelar-assinaturas-ativas-em-um-plano",children:[]},{value:"5. Alterar URL de notifica\xe7\xe3o (notification_url) e/ou custom_id de assinaturas",id:"5-alterar-url-de-notifica\xe7\xe3o-notification_url-eou-custom_id-de-assinaturas",children:[{value:"a) Estrutura hier\xe1rquica dos atributos do Schema que podem ser utilizados:",id:"a-estrutura-hier\xe1rquica-dos-atributos-do-schema-que-podem-ser-utilizados",children:[]},{value:"b) Atributos que podem ser utilizados para atualizar URL de notifica\xe7\xe3o e/ou custom_id:",id:"b-atributos-que-podem-ser-utilizados-para-atualizar-url-de-notifica\xe7\xe3o-eou-custom_id",children:[]}]},{value:"6. Listar parcelas, de acordo com a bandeira do cart\xe3o de cr\xe9dito",id:"6-listar-parcelas-de-acordo-com-a-bandeira-do-cart\xe3o-de-cr\xe9dito",children:[]},{value:"7. Acrescentar informa\xe7\xf5es ao hist\xf3rico da assinatura",id:"7-acrescentar-informa\xe7\xf5es-ao-hist\xf3rico-da-assinatura",children:[{value:"a) Estrutura hier\xe1rquica dos atributos do Schema que podem ser utilizados:",id:"a-estrutura-hier\xe1rquica-dos-atributos-do-schema-que-podem-ser-utilizados-1",children:[]},{value:"b) Atributos que podem ser usados para acrescentar mensagens ao hist\xf3rico da assinatura:",id:"b-atributos-que-podem-ser-usados-para-acrescentar-mensagens-ao-hist\xf3rico-da-assinatura",children:[]}]},{value:"8. Editar nome do plano de assinatura",id:"8-editar-nome-do-plano-de-assinatura",children:[{value:"a) Estrutura hier\xe1rquica dos atributos do Schema que podem ser utilizados:",id:"a-estrutura-hier\xe1rquica-dos-atributos-do-schema-que-podem-ser-utilizados-2",children:[]},{value:"b) Atributo que pode ser usado para editar o nome de um plano de assinatura pr\xe9-existente:",id:"b-atributo-que-pode-ser-usado-para-editar-o-nome-de-um-plano-de-assinatura-pr\xe9-existente",children:[]}]}],b={Highlight:d,rightToc:u};function p(e){var n=e.components,a=Object(r.a)(e,["components"]);return Object(i.b)("wrapper",Object(t.a)({},b,a,{components:n,mdxType:"MDXLayout"}),Object(i.b)("h1",{className:"titulo"},"Outros endpoints"),Object(i.b)("div",{className:"subtitulo"},Object(i.b)("p",null,"Existem outros endpoints (servi\xe7os) dispon\xedveis na API e que podem ser utilizados em assinaturas:"),Object(i.b)("ol",null,Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(t.a)({parentName:"p"},{href:"#1-listar-os-planos-de-assinatura-existentes"}),"Listar os planos de assinatura existentes"))),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(t.a)({parentName:"p"},{href:"#2-cancelar-plano-de-assinatura"}),"Cancelar plano de assinatura"))),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(t.a)({parentName:"p"},{href:"#3-retornar-informa%C3%A7%C3%B5es-de-assinatura-vinculada-a-um-plano"}),"Retornar informa\xe7\xf5es de assinatura vinculada a um plano"))),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(t.a)({parentName:"p"},{href:"#4-cancelar-assinaturas-ativas-em-um-plano"}),"Cancelar assinaturas ativas em um plano"))),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(t.a)({parentName:"p"},{href:"#5-alterar-url-de-notifica%C3%A7%C3%A3o-notification_url-eou-custom_id-de-assinaturas"}),"Alterar URL de notifica\xe7\xe3o (notification_url) e/ou custom_id de assinaturas"))),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(t.a)({parentName:"p"},{href:"#6-listar-parcelas-de-acordo-com-a-bandeira-do-cart%C3%A3o-de-cr%C3%A9dito"}),"Listar parcelas, de acordo com a bandeira do cart\xe3o de cr\xe9dito"))),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(t.a)({parentName:"p"},{href:"#7-acrescentar-informa%C3%A7%C3%B5es-ao-hist%C3%B3rico-da-assinatura"}),"Acrescentar informa\xe7\xf5es ao hist\xf3rico da assinatura"))),Object(i.b)("li",{parentName:"ol"},Object(i.b)("p",{parentName:"li"},Object(i.b)("a",Object(t.a)({parentName:"p"},{href:"#8-editar-nome-do-plano-de-assinatura"}),"Editar nome do plano de assinatura")))),Object(i.b)("div",{className:"admonition admonition-note alert alert--secondary"},Object(i.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-heading"}),Object(i.b)("h5",{parentName:"div"},Object(i.b)("span",Object(t.a)({parentName:"h5"},{className:"admonition-icon"}),Object(i.b)("svg",Object(t.a)({parentName:"span"},{xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"}),Object(i.b)("path",Object(t.a)({parentName:"svg"},{fillRule:"evenodd",d:"M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"})))),"Antes de prosseguir, certifique-se de que a SDK da Gerencianet foi instalada")),Object(i.b)("div",Object(t.a)({parentName:"div"},{className:"admonition-content"}),Object(i.b)("p",{parentName:"div"},"O restante desta p\xe1gina apresenta os procedimentos detalhados, mas voc\xea precisa ",Object(i.b)("a",Object(t.a)({parentName:"p"},{href:"/docs/Assinaturas/Introducao"}),"instalar uma de nossas bibliotecas")," em seu servidor para executar os c\xf3digos de exemplo."))),Object(i.b)("br",null),Object(i.b)("h2",{id:"1-listar-os-planos-de-assinatura-existentes"},"1. Listar os planos de assinatura existentes"),Object(i.b)("p",null,"Permite listar os planos de assinatura criados. Existem filtros avan\xe7ados que podem ser utilizados para localizar, tais como:"),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("code",null,"Name"),": retorna resultados a partir da procura pelo nome do plano cadastrado previamente;"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("code",null,"Limit"),": limite m\xe1ximo de registros de resposta;"),Object(i.b)("li",{parentName:"ul"},Object(i.b)("code",null,"Offset"),": determina a partir de qual registro a busca ser\xe1 realizada.")),Object(i.b)("p",null,"Para retornar informa\xe7\xf5es demonstrando os planos de assinaturas j\xe1 criados, voc\xea deve enviar uma requisi\xe7\xe3o ",Object(i.b)("code",null,"GET")," para a rota ",Object(i.b)("code",null,"/v1/plans"),"."),Object(i.b)("p",null,"O exemplo abaixo mostra como isto pode ser feito, utilizando as SDK's dispon\xedveis:"),Object(i.b)(o.a,{defaultValue:"php",values:[{label:"PHP",value:"php"},{label:"Python",value:"python"},{label:"NodeJS",value:"js"},{label:".NET",value:"c"},{label:"Java",value:"java"},{label:"GO",value:"go"},{label:"Ruby",value:"ruby"},{label:"Delphi",value:"delphi"}],mdxType:"Tabs"},Object(i.b)(s.a,{value:"php",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-php"}),"<?php\n \nrequire __DIR__.'/../../vendor/autoload.php'; // caminho relacionado a SDK\n \nuse Gerencianet\\Exception\\GerencianetException;\nuse Gerencianet\\Gerencianet;\n \n$clientId = 'informe_seu_client_id'; // insira seu Client_Id, conforme o ambiente (Des ou Prod)\n$clientSecret = 'informe_seu_client_secret'; // insira seu Client_Secret, conforme o ambiente (Des ou Prod)\n \n$options = [\n  'client_id' => $clientId,\n  'client_secret' => $clientSecret,\n  'sandbox' => true // altere conforme o ambiente (true = desenvolvimento e false = producao)\n];\n\n$params = ['limit' => 20, 'offset' => 0];\n\ntry {\n    $api = new Gerencianet($options);\n    $plans = $api->getPlans($params, []);\n    print_r($plans);\n} catch (GerencianetException $e) {\n    print_r($e->code);\n    print_r($e->error);\n    print_r($e->errorDescription);\n} catch (Exception $e) {\n    print_r($e->getMessage());\n}\n"))),Object(i.b)(s.a,{value:"python",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-py"}),"# encoding: utf-8\n\nfrom gerencianet import Gerencianet\nfrom credentials import CREDENTIALS\n\ngn = Gerencianet(CREDENTIALS)\n\nparams = {\n    'name': \"My Plan\",\n    'limit': 1,\n    'offset': 0\n}\n\nresponse =  gn.get_plans(params=params)\nprint(response)\n"))),Object(i.b)(s.a,{value:"js",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),"'use strict';\n\nvar Gerencianet = require('gn-api-sdk-node');\nvar credentials = require('./credentials');\n\nvar options = {\n  client_id: credentials.client_id,\n  client_secret: credentials.client_secret,\n  sandbox: true\n}\n\nvar params = {\n  name: 'My Plan',\n  limit: 20,\n  offset: 0\n}\n\nvar gerencianet = new Gerencianet(options);\n\ngerencianet\n  .getPlans(params)\n  .then(console.log)\n  .catch(console.log)\n  .done();\n"))),Object(i.b)(s.a,{value:"c",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),'using System;\n\nnamespace Gerencianet.SDK.Examples\n{\n    class GetPlans\n    {\n        public static void Execute()\n        {\n            dynamic endpoints = new Endpoints(Credentials.Default.ClientId, Credentials.Default.ClientSecret, Credentials.Default.Sandbox);\n\n            var param = new\n            {\n                // name = "My Plan",\n                limit = 20,\n                offset = 0\n            };\n\n            try\n            {\n                var response = endpoints.GetPlans(param);\n                Console.WriteLine(response);\n            }\n            catch (GnException e)\n            {\n                Console.WriteLine(e.ErrorType);\n                Console.WriteLine(e.Message);\n            }\n        }\n    }\n}\n'))),Object(i.b)(s.a,{value:"java",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-java"}),'/* Para que a SDK Java funcione corretamente, \xe9 necess\xe1rio que a instancia\xe7\xe3o do m\xf3dulo seja feita atrav\xe9s da cria\xe7\xe3o de um objeto do tipo Gerencianet.\n\nSempre que quisermos chamar uma fun\xe7\xe3o da API, basta invocar o m\xe9todo call do objeto Gerencianet, passando como par\xe2metro o nome do m\xe9todo, os par\xe2metros da requisi\xe7\xe3o (sempre ser\xe1 um HashMap<String, String>), e o "body", que consiste nas propriedades a serem passadas como argumento na chamada de um fun\xe7\xe3o da SDK. O "body" pode ser declarado de duas formas: um JSONObject ou um Map<String, Object>.\n\nEsta estrutura \xe9 necess\xe1ria para representar o corpo da requisi\xe7\xe3o http que \xe9 enviada \xe0 um determinado endpoint. Se o "body" for um JSONObject, o retorno do m\xe9todo call ser\xe1 um JSONObject, se for um Map<String, Object>, o retorno do m\xe9todo call ser\xe1 um Map<String, Object>\n\nA seguir, disponibilizamos links de nosso Github mostrando duas formas diferentes de retorno: JSONObject\ne Map<String, Object>\n\n\nJSONObject\n\nhttps://github.com/gerencianet/gn-api-sdk-java-examples/blob/master/src/main/java/br/com/gerencianet/subscriptions/json/ListPlan.java\n\n\nMap<String, Object>\n\nhttps://github.com/gerencianet/gn-api-sdk-java-examples/blob/master/src/main/java/br/com/gerencianet/subscriptions/map/ListPlan.java\n\n*/\n'))),Object(i.b)(s.a,{value:"go",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-go"}),'package main\n\nimport (\n  "fmt"\n  "github.com/gerencianet/gn-api-sdk-go/gerencianet"\n  "github.com/gerencianet/gn-api-sdk-go/_examples/configs"\n)\n\nfunc main(){\n  \n  credentials := configs.Credentials\n  gn := gerencianet.NewGerencianet(credentials)\n\n  res, err := gn.GetPlans(20, 0) // limit e offset\n\n  if err != nil {\n    fmt.Println(err)\n  } else {\n    fmt.Println(res)\n  }\n}\n'))),Object(i.b)(s.a,{value:"ruby",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),'require "gerencianet"\nrequire_relative "./credentials"\n\noptions = {\n  client_id: CREDENTIALS::CLIENT_ID,\n  client_secret: CREDENTIALS::CLIENT_SECRET,\n  sandbox: true\n}\n\nparams = {\n  name: "My Plan",\n  limit: 1,\n  offset: 0\n}\n\ngerencianet = Gerencianet.new(options)\nputs gerencianet.get_plans(params: params)\n'))),Object(i.b)(s.a,{value:"delphi",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),"interface\nfunction GetPlans: String;\n\nimplementation\nuses uGerenciaClient, uGerenciaNetClientUtilities;\n{... your code ... }\n\nfunction GetPlans: String;\nvar\n  Params: String;\nbegin\n  EnableService( 'GerenciaNet.dll' ); \n    ConfigureService( ToPAnsiChar( 'client_id' ),ToPAnsiChar( 'client_secret' ),'sandbox','config.json',''); \n    GerenciaNetAuthorize();\n\n    Params := CreateRequestParams( [ 'name=my plan', 'limit=20', 'offset=0' ] ).Text;\n    Result := ExecuteGerenciaNetRequest( 'getPlans','', Params, '' );\nend;\n")))),Object(i.b)("br",null),Object(i.b)("hr",null),Object(i.b)("h2",{id:"2-cancelar-plano-de-assinatura"},"2. Cancelar plano de assinatura"),Object(i.b)("p",null,"Permite cancelar um plano de assinatura. Para tal, voc\xea deve informar o ",Object(i.b)("code",null,"plan_id")," do plano de assinatura que deseja cancelar."),Object(i.b)("p",null,"Para cancelar um plano de assinatura, voc\xea deve enviar uma requisi\xe7\xe3o ",Object(i.b)("code",null,"DELETE")," para a rota ",Object(i.b)("code",null,"/v1/plan/:id"),", onde ",Object(i.b)("code",null,":id")," \xe9 o ",Object(i.b)("code",null,"plan_id")," do plano que deseja cancelar."),Object(i.b)("p",null,"O exemplo abaixo mostra como isto pode ser feito, utilizando as SDK's dispon\xedveis:"),Object(i.b)(o.a,{defaultValue:"php",values:[{label:"PHP",value:"php"},{label:"Python",value:"python"},{label:"NodeJS",value:"js"},{label:".NET",value:"c"},{label:"Java",value:"java"},{label:"GO",value:"go"},{label:"Ruby",value:"ruby"},{label:"Delphi",value:"delphi"}],mdxType:"Tabs"},Object(i.b)(s.a,{value:"php",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-php"}),"<?php\n \nrequire __DIR__.'/../../vendor/autoload.php'; // caminho relacionado a SDK\n \nuse Gerencianet\\Exception\\GerencianetException;\nuse Gerencianet\\Gerencianet;\n \n$clientId = 'informe_seu_client_id'; // insira seu Client_Id, conforme o ambiente (Des ou Prod)\n$clientSecret = 'informe_seu_client_secret'; // insira seu Client_Secret, conforme o ambiente (Des ou Prod)\n \n$options = [\n  'client_id' => $clientId,\n  'client_secret' => $clientSecret,\n  'sandbox' => true // altere conforme o ambiente (true = desenvolvimento e false = producao)\n];\n\n// $plan_id refere-se ao \"plan_id\" do plano\n$params = [\n  'id' => $plan_id\n];\n\ntry {\n    $api = new Gerencianet($options);\n    $plan = $api->deletePlan($params, []);\n    print_r($plan);\n} catch (GerencianetException $e) {\n    print_r($e->code);\n    print_r($e->error);\n    print_r($e->errorDescription);\n} catch (Exception $e) {\n    print_r($e->getMessage());\n}\n"))),Object(i.b)(s.a,{value:"python",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-py"}),"# encoding: utf-8\n\nfrom gerencianet import Gerencianet\nfrom credentials import CREDENTIALS\n\ngn = Gerencianet(CREDENTIALS)\n\nparams = {\n    'id': 1\n}\n\nresponse =  gn.delete_plan(params=params)\nprint(response)\n"))),Object(i.b)(s.a,{value:"js",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),"'use strict';\n\nvar Gerencianet = require('gn-api-sdk-node');\nvar credentials = require('./credentials');\n\nvar options = {\n  client_id: credentials.client_id,\n  client_secret: credentials.client_secret,\n  sandbox: true\n}\n\nvar params = {\n  id: 0\n}\n\nvar gerencianet = new Gerencianet(options);\n\ngerencianet\n  .deletePlan(params)\n  .then(console.log)\n  .catch(console.log)\n  .done();\n"))),Object(i.b)(s.a,{value:"c",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),"using System;\n\nnamespace Gerencianet.SDK.Examples\n{\n    class DeletePlan\n    {\n        public static void Execute()\n        {\n            dynamic endpoints = new Endpoints(Credentials.Default.ClientId, Credentials.Default.ClientSecret, Credentials.Default.Sandbox);\n\n            var param = new\n            {\n                id = 1000\n            };\n\n            try\n            {\n                var response = endpoints.DeletePlan(param);\n                Console.WriteLine(response);\n            }\n            catch (GnException e)\n            {\n                Console.WriteLine(e.ErrorType);\n                Console.WriteLine(e.Message);\n            }\n        }\n    }\n}\n"))),Object(i.b)(s.a,{value:"java",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-java"}),'/* Para que a SDK Java funcione corretamente, \xe9 necess\xe1rio que a instancia\xe7\xe3o do m\xf3dulo seja feita atrav\xe9s da cria\xe7\xe3o de um objeto do tipo Gerencianet.\n\nSempre que quisermos chamar uma fun\xe7\xe3o da API, basta invocar o m\xe9todo call do objeto Gerencianet, passando como par\xe2metro o nome do m\xe9todo, os par\xe2metros da requisi\xe7\xe3o (sempre ser\xe1 um HashMap<String, String>), e o "body", que consiste nas propriedades a serem passadas como argumento na chamada de um fun\xe7\xe3o da SDK. O "body" pode ser declarado de duas formas: um JSONObject ou um Map<String, Object>.\n\nEsta estrutura \xe9 necess\xe1ria para representar o corpo da requisi\xe7\xe3o http que \xe9 enviada \xe0 um determinado endpoint. Se o "body" for um JSONObject, o retorno do m\xe9todo call ser\xe1 um JSONObject, se for um Map<String, Object>, o retorno do m\xe9todo call ser\xe1 um Map<String, Object>\n\nA seguir, disponibilizamos links de nosso Github mostrando duas formas diferentes de retorno: JSONObject\ne Map<String, Object>\n\n\nJSONObject\n\nhttps://github.com/gerencianet/gn-api-sdk-java-examples/blob/master/src/main/java/br/com/gerencianet/subscriptions/json/DeletePlan.java\n\n\nMap<String, Object>\n\nhttps://github.com/gerencianet/gn-api-sdk-java-examples/blob/master/src/main/java/br/com/gerencianet/subscriptions/map/DeletePlan.java\n\n*/\n'))),Object(i.b)(s.a,{value:"go",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-go"}),'package main\n\nimport (\n  "fmt"\n  "github.com/gerencianet/gn-api-sdk-go/gerencianet"\n  "github.com/gerencianet/gn-api-sdk-go/_examples/configs"\n)\n\nfunc main(){\n  \n  credentials := configs.Credentials\n  gn := gerencianet.NewGerencianet(credentials)\n\n  res, err := gn.DeletePlan(1) // no lugar do 1 coloque o plan_id correto\n\n  if err != nil {\n    fmt.Println(err)\n  } else {\n    fmt.Println(res)\n  }\n}\n'))),Object(i.b)(s.a,{value:"ruby",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),'require "gerencianet"\nrequire_relative "./credentials"\n\noptions = {\n  client_id: CREDENTIALS::CLIENT_ID,\n  client_secret: CREDENTIALS::CLIENT_SECRET,\n  sandbox: true\n}\n\nparams = {\n  id: 1\n}\n\ngerencianet = Gerencianet.new(options)\nputs gerencianet.delete_plan(params: params)\n'))),Object(i.b)(s.a,{value:"delphi",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),"interface\nfunction DeletePlan(Id: String): String;\n\nimplementation\nuses uGerenciaClient, uGerenciaNetClientUtilities;\n{... your code ... }\n\nfunction DeletePlan(Id: String): String;\nvar\n  Params: String;\nbegin\n  EnableService( 'GerenciaNet.dll' ); \n    ConfigureService( ToPAnsiChar( 'client_id' ),ToPAnsiChar( 'client_secret' ),'sandbox','config.json',''); \n    GerenciaNetAuthorize();\n\n    Params := CreateRequestParams( [ 'id='+Id ] ).Text;\n    Result := ExecuteGerenciaNetRequest( 'deletePlan',Params,'','' );\nend;\n")))),Object(i.b)("br",null),Object(i.b)("hr",null),Object(i.b)("h2",{id:"3-retornar-informa\xe7\xf5es-de-assinatura-vinculada-a-um-plano"},"3. Retornar informa\xe7\xf5es de assinatura vinculada a um plano"),Object(i.b)("p",null,"Possibilita buscar informa\xe7\xf5es de uma assinatura que est\xe1 vinculada a um plano. Para tal, voc\xea deve informar o ",Object(i.b)("code",null,"subscription_id")," da assinatura que deseja buscar informa\xe7\xf5es."),Object(i.b)("p",null,"Para retornar informa\xe7\xf5es de uma assinatura vinculada a um plano, voc\xea deve enviar uma requisi\xe7\xe3o ",Object(i.b)("code",null,"GET")," para a rota ",Object(i.b)("code",null,"/v1/subscription/:id"),", onde ",Object(i.b)("code",null,":id")," \xe9 o ",Object(i.b)("code",null,"subscription_id")," da assinatura desejada."),Object(i.b)("p",null,"O exemplo abaixo mostra como isto pode ser feito, utilizando as SDK's dispon\xedveis:"),Object(i.b)(o.a,{defaultValue:"php",values:[{label:"PHP",value:"php"},{label:"Python",value:"python"},{label:"NodeJS",value:"js"},{label:".NET",value:"c"},{label:"Java",value:"java"},{label:"GO",value:"go"},{label:"Ruby",value:"ruby"},{label:"Delphi",value:"delphi"}],mdxType:"Tabs"},Object(i.b)(s.a,{value:"php",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-php"}),"<?php\n \nrequire __DIR__.'/../../vendor/autoload.php'; // caminho relacionado a SDK\n \nuse Gerencianet\\Exception\\GerencianetException;\nuse Gerencianet\\Gerencianet;\n \n$clientId = 'informe_seu_client_id'; // insira seu Client_Id, conforme o ambiente (Des ou Prod)\n$clientSecret = 'informe_seu_client_secret'; // insira seu Client_Secret, conforme o ambiente (Des ou Prod)\n \n$options = [\n  'client_id' => $clientId,\n  'client_secret' => $clientSecret,\n  'sandbox' => true // altere conforme o ambiente (true = desenvolvimento e false = producao)\n];\n\n// $subscription_id refere-se ao \"subscription_id\" da assinatura\n$params = [\n  'id' => $subscription_id\n];\n\ntry {\n    $api = new Gerencianet($options);\n    $subscription = $api->detailSubscription($params, []);\n    print_r($subscription);\n} catch (GerencianetException $e) {\n    print_r($e->code);\n    print_r($e->error);\n    print_r($e->errorDescription);\n} catch (Exception $e) {\n    print_r($e->getMessage());\n}\n"))),Object(i.b)(s.a,{value:"python",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-py"}),"# encoding: utf-8\n\nfrom gerencianet import Gerencianet\nfrom credentials import CREDENTIALS\n\ngn = Gerencianet(CREDENTIALS)\n\nparams = {\n    'id': 1\n}\n\nresponse =  gn.detail_subscription(params=params)\nprint(response)\n"))),Object(i.b)(s.a,{value:"js",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),"'use strict';\n\nvar Gerencianet = require('gn-api-sdk-node');\nvar credentials = require('./credentials');\n\nvar options = {\n  client_id: credentials.client_id,\n  client_secret: credentials.client_secret,\n  sandbox: true\n}\n\nvar params = {\n  id: 0\n}\n\nvar gerencianet = new Gerencianet(options);\n\ngerencianet\n  .detailSubscription(params)\n  .then(console.log)\n  .catch(console.log)\n  .done();\n"))),Object(i.b)(s.a,{value:"c",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),"using System;\n\nnamespace Gerencianet.SDK.Examples\n{\n    class DetailSubscription\n    {\n        public static void Execute()\n        {\n            dynamic endpoints = new Endpoints(Credentials.Default.ClientId, Credentials.Default.ClientSecret, Credentials.Default.Sandbox);\n\n            var param = new\n            {\n                id = 1002\n            };\n\n            try\n            {\n                var response = endpoints.DetailSubscription(param);\n                Console.WriteLine(response);\n            }\n            catch (GnException e)\n            {\n                Console.WriteLine(e.ErrorType);\n                Console.WriteLine(e.Message);\n            }\n        }\n    }\n}\n"))),Object(i.b)(s.a,{value:"java",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-java"}),'/* Para que a SDK Java funcione corretamente, \xe9 necess\xe1rio que a instancia\xe7\xe3o do m\xf3dulo seja feita atrav\xe9s da cria\xe7\xe3o de um objeto do tipo Gerencianet.\n\nSempre que quisermos chamar uma fun\xe7\xe3o da API, basta invocar o m\xe9todo call do objeto Gerencianet, passando como par\xe2metro o nome do m\xe9todo, os par\xe2metros da requisi\xe7\xe3o (sempre ser\xe1 um HashMap<String, String>), e o "body", que consiste nas propriedades a serem passadas como argumento na chamada de um fun\xe7\xe3o da SDK. O "body" pode ser declarado de duas formas: um JSONObject ou um Map<String, Object>.\n\nEsta estrutura \xe9 necess\xe1ria para representar o corpo da requisi\xe7\xe3o http que \xe9 enviada \xe0 um determinado endpoint. Se o "body" for um JSONObject, o retorno do m\xe9todo call ser\xe1 um JSONObject, se for um Map<String, Object>, o retorno do m\xe9todo call ser\xe1 um Map<String, Object>\n\nA seguir, disponibilizamos links de nosso Github mostrando duas formas diferentes de retorno: JSONObject\ne Map<String, Object>\n\n\nJSONObject\n\nhttps://github.com/gerencianet/gn-api-sdk-java-examples/blob/master/src/main/java/br/com/gerencianet/subscriptions/json/DetailSubscription.java\n\n\nMap<String, Object>\n\nhttps://github.com/gerencianet/gn-api-sdk-java-examples/blob/master/src/main/java/br/com/gerencianet/subscriptions/map/DetailSubscription.java\n\n*/\n'))),Object(i.b)(s.a,{value:"go",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-go"}),'package main\n\nimport (\n  "fmt"\n  "github.com/gerencianet/gn-api-sdk-go/gerencianet"\n  "github.com/gerencianet/gn-api-sdk-go/_examples/configs"\n)\n\nfunc main(){\n  \n  credentials := configs.Credentials\n  gn := gerencianet.NewGerencianet(credentials)\n\n  res, err := gn.DetailSubscription(1) // no lugar do 1 coloque o subscription_id correto\n\n  if err != nil {\n    fmt.Println(err)\n  } else {\n    fmt.Println(res)\n  }\n}\n'))),Object(i.b)(s.a,{value:"ruby",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),'require "gerencianet"\nrequire_relative "./credentials"\n\noptions = {\n  client_id: CREDENTIALS::CLIENT_ID,\n  client_secret: CREDENTIALS::CLIENT_SECRET,\n  sandbox: true\n}\n\nparams = {\n  id: 1120\n}\n\ngerencianet = Gerencianet.new(options)\nputs gerencianet.detail_subscription(params: params)\n\n'))),Object(i.b)(s.a,{value:"delphi",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),"interface\nfunction DetailSubscription(Id: String): String;\n\nimplementation\nuses uGerenciaClient, uGerenciaNetClientUtilities;\n{... your code ... }\n\nfunction DetailSubscription(Id: String): String;\nvar\n  Params: String;\nbegin\n  EnableService( 'GerenciaNet.dll' ); \n    ConfigureService( ToPAnsiChar( 'client_id' ),ToPAnsiChar( 'client_secret' ),'sandbox','config.json',''); \n    GerenciaNetAuthorize();\n\n    Params := CreateRequestParams( [ 'id='+Id ] ).Text;\n    Result := ExecuteGerenciaNetRequest( 'detailSubscription',Params,'', '' );\nend;\n")))),Object(i.b)("br",null),Object(i.b)("hr",null),Object(i.b)("h2",{id:"4-cancelar-assinaturas-ativas-em-um-plano"},"4. Cancelar assinaturas ativas em um plano"),Object(i.b)("p",null,"Permite cancelar assinaturas ativas em um plano. Para tal, deve-se informar o ",Object(i.b)("code",null,"subscription_id")," da assinatura que deseja cancelar."),Object(i.b)("p",null,"Para cancelar assinaturas ativas em um plano de assinaturas, voc\xea deve enviar uma requisi\xe7\xe3o ",Object(i.b)("code",null,"PUT")," para a rota ",Object(i.b)("code",null,"/v1/subscription/:id/cancel"),", onde ",Object(i.b)("code",null,":id")," \xe9 o ",Object(i.b)("code",null,"subscription_id")," da assinatura desejada."),Object(i.b)("p",null,"O exemplo abaixo mostra como isto pode ser feito, utilizando as SDK's dispon\xedveis:"),Object(i.b)(o.a,{defaultValue:"php",values:[{label:"PHP",value:"php"},{label:"Python",value:"python"},{label:"NodeJS",value:"js"},{label:".NET",value:"c"},{label:"Java",value:"java"},{label:"GO",value:"go"},{label:"Ruby",value:"ruby"},{label:"Delphi",value:"delphi"}],mdxType:"Tabs"},Object(i.b)(s.a,{value:"php",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-php"}),"<?php\n \nrequire __DIR__.'/../../vendor/autoload.php'; // caminho relacionado a SDK\n \nuse Gerencianet\\Exception\\GerencianetException;\nuse Gerencianet\\Gerencianet;\n \n$clientId = 'informe_seu_client_id'; // insira seu Client_Id, conforme o ambiente (Des ou Prod)\n$clientSecret = 'informe_seu_client_secret'; // insira seu Client_Secret, conforme o ambiente (Des ou Prod)\n \n$options = [\n  'client_id' => $clientId,\n  'client_secret' => $clientSecret,\n  'sandbox' => true // altere conforme o ambiente (true = desenvolvimento e false = producao)\n];\n\n// $subscription_id refere-se ao \"subscription_id\" da assinatura\n$params = [\n  'id' => $subscription_id\n];\n\ntry {\n    $api = new Gerencianet($options);\n    $subscription = $api->cancelSubscription($params, []);\n    print_r($subscription);\n} catch (GerencianetException $e) {\n    print_r($e->code);\n    print_r($e->error);\n    print_r($e->errorDescription);\n} catch (Exception $e) {\n    print_r($e->getMessage());\n}\n"))),Object(i.b)(s.a,{value:"python",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-py"}),"# encoding: utf-8\n\nfrom gerencianet import Gerencianet\nfrom credentials import CREDENTIALS\n\ngn = Gerencianet(CREDENTIALS)\n\nparams = {\n    'id': 1\n}\n\nresponse =  gn.cancel_subscription(params=params)\nprint(response)\n"))),Object(i.b)(s.a,{value:"js",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),"'use strict';\n\nvar Gerencianet = require('gn-api-sdk-node');\nvar credentials = require('./credentials');\n\nvar options = {\n  client_id: credentials.client_id,\n  client_secret: credentials.client_secret,\n  sandbox: true\n}\n\nvar params = {\n  id: 0\n}\n\nvar gerencianet = new Gerencianet(options);\n\ngerencianet\n  .cancelSubscription(params)\n  .then(console.log)\n  .catch(console.log)\n  .done();\n"))),Object(i.b)(s.a,{value:"c",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),"using System;\n\nnamespace Gerencianet.SDK.Examples\n{\n    class CancelSubscription\n    {\n        public static void Execute()\n        {\n            dynamic endpoints = new Endpoints(Credentials.Default.ClientId, Credentials.Default.ClientSecret, Credentials.Default.Sandbox);\n\n            var param = new\n            {\n                id = 0\n            };\n\n            try\n            {\n                var response = endpoints.CancelSubscription(param);\n                Console.WriteLine(response);\n            }\n            catch (GnException e)\n            {\n                Console.WriteLine(e.ErrorType);\n                Console.WriteLine(e.Message);\n            }\n        }\n    }\n}\n"))),Object(i.b)(s.a,{value:"java",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-java"}),'/* Para que a SDK Java funcione corretamente, \xe9 necess\xe1rio que a instancia\xe7\xe3o do m\xf3dulo seja feita atrav\xe9s da cria\xe7\xe3o de um objeto do tipo Gerencianet.\n\nSempre que quisermos chamar uma fun\xe7\xe3o da API, basta invocar o m\xe9todo call do objeto Gerencianet, passando como par\xe2metro o nome do m\xe9todo, os par\xe2metros da requisi\xe7\xe3o (sempre ser\xe1 um HashMap<String, String>), e o "body", que consiste nas propriedades a serem passadas como argumento na chamada de um fun\xe7\xe3o da SDK. O "body" pode ser declarado de duas formas: um JSONObject ou um Map<String, Object>.\n\nEsta estrutura \xe9 necess\xe1ria para representar o corpo da requisi\xe7\xe3o http que \xe9 enviada \xe0 um determinado endpoint. Se o "body" for um JSONObject, o retorno do m\xe9todo call ser\xe1 um JSONObject, se for um Map<String, Object>, o retorno do m\xe9todo call ser\xe1 um Map<String, Object>\n\nA seguir, disponibilizamos links de nosso Github mostrando duas formas diferentes de retorno: JSONObject\ne Map<String, Object>\n\n\nJSONObject\n\nhttps://github.com/gerencianet/gn-api-sdk-java-examples/blob/master/src/main/java/br/com/gerencianet/subscriptions/json/CancelSubscription.java\n\n\nMap<String, Object>\n\nhttps://github.com/gerencianet/gn-api-sdk-java-examples/blob/master/src/main/java/br/com/gerencianet/subscriptions/map/CancelSubscription.java\n\n*/\n'))),Object(i.b)(s.a,{value:"go",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-go"}),'package main\n\nimport (\n  "fmt"\n  "github.com/gerencianet/gn-api-sdk-go/gerencianet"\n  "github.com/gerencianet/gn-api-sdk-go/_examples/configs"\n)\n\nfunc main(){\n  \n  credentials := configs.Credentials\n  gn := gerencianet.NewGerencianet(credentials)\n\n  res, err := gn.CancelSubscription(1) // no lugar do 1 coloque o subscription_id correto\n\n  if err != nil {\n    fmt.Println(err)\n  } else {\n    fmt.Println(res)\n  }\n}\n'))),Object(i.b)(s.a,{value:"ruby",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),'require "gerencianet"\nrequire_relative "./credentials"\n\noptions = {\n  client_id: CREDENTIALS::CLIENT_ID,\n  client_secret: CREDENTIALS::CLIENT_SECRET,\n  sandbox: true\n}\n\nparams = {\n  id: 1111\n}\n\ngerencianet = Gerencianet.new(options)\nputs gerencianet.cancel_subscription(params: params)\n'))),Object(i.b)(s.a,{value:"delphi",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),"interface\nfunction CancelSubscription(Id: String): String;\n\nimplementation\nuses uGerenciaClient, uGerenciaNetClientUtilities;\n{... your code ... }\n\nfunction CancelSubscription(Id: String): String;\nvar\n  Params: String;\nbegin\n  EnableService( 'GerenciaNet.dll' ); \n    ConfigureService( ToPAnsiChar( 'client_id' ),ToPAnsiChar( 'client_secret' ),'sandbox','config.json',''); \n    GerenciaNetAuthorize();\n\n    Params := CreateRequestParams( [ 'id='+Id ] ).Text;\n    Result := ExecuteGerenciaNetRequest( 'cancelSubscription',Params,'', '' );\nend;\n")))),Object(i.b)("br",null),Object(i.b)("hr",null),Object(i.b)("h2",{id:"5-alterar-url-de-notifica\xe7\xe3o-notification_url-eou-custom_id-de-assinaturas"},"5. Alterar URL de notifica\xe7\xe3o (notification_url) e/ou custom_id de assinaturas"),Object(i.b)("p",null,"\xc9 poss\xedvel definir ou alterar as informa\xe7\xf5es enviadas na propriedade ",Object(i.b)("code",null,"metadata")," de uma assinatura a qualquer momento. Este endpoint \xe9 de ",Object(i.b)("strong",{parentName:"p"},"extrema import\xe2ncia")," para atualizar sua URL de notifica\xe7\xe3o atrelada \xe0s assinaturas ou modificar o ",Object(i.b)("code",null,"custom_id")," previamente associado a assinatura."),Object(i.b)("p",null,"Nesse caso, todas as transa\xe7\xf5es pertencentes \xe0 assinatura ser\xe3o atualizadas."),Object(i.b)("p",null,"Para alterar a ",Object(i.b)("code",null,"notification_url")," e/ou ",Object(i.b)("code",null,"custom_id")," de uma assinatura, voc\xea deve enviar uma requisi\xe7\xe3o ",Object(i.b)("code",null,"PUT")," para a rota ",Object(i.b)("code",null,"/v1/subscription/:id/metadata"),", onde ",Object(i.b)("code",null,":id")," \xe9 o ",Object(i.b)("code",null,"subscription_id")," da transa\xe7\xe3o desejada."),Object(i.b)("p",null,Object(i.b)("strong",{parentName:"p"},"Casos de uso deste endpoint:")),Object(i.b)("ul",null,Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"Integrador alterou o IP do servidor que estava associado na URL de notifica\xe7\xe3o das assinaturas/transa\xe7\xf5es;")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"Integrador atualizou a URL de notifica\xe7\xe3o para as novas assinaturas/transa\xe7\xf5es que forem criadas, mas precisa atualizar tamb\xe9m nas assinaturas/transa\xe7\xf5es anteriores que foram geradas e que est\xe3o associadas com a URL incorreta/desatualizada;")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},'Foi instalado SSL (https) no servidor do cliente e mesmo que o cliente defina uma regra de redirecionamento 301 ou 302, ser\xe1 preciso definir a nova URL nas assinaturas/transa\xe7\xf5es que est\xe3o com a URL "antiga";')),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"Integrador gerou cobran\xe7as e n\xe3o havia informado a URL de notifica\xe7\xe3o ao enviar a requisi\xe7\xe3o de cria\xe7\xe3o da assinatura/transa\xe7\xe3o;")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"Modificar ou acrescentar uma informa\xe7\xe3o junto ao atributo ",Object(i.b)("code",null,"custom_id")," associado \xe0s assinaturas/transa\xe7\xf5es geradas previamente;")),Object(i.b)("li",{parentName:"ul"},Object(i.b)("p",{parentName:"li"},"Dentre outros poss\xedveis cen\xe1rios."))),Object(i.b)("p",null,"Caso queira, pode explorar e conhecer mais sobre este recurso ",Object(i.b)("a",Object(t.a)({parentName:"p"},{href:"../AmbienteTestes/PlaygroundAssinaturas"}),"usando nosso Playground")),Object(i.b)("p",null,"O exemplo abaixo mostra como isto pode ser feito, utilizando as SDK's dispon\xedveis:"),Object(i.b)(o.a,{defaultValue:"php",values:[{label:"PHP",value:"php"},{label:"Python",value:"python"},{label:"NodeJS",value:"js"},{label:".NET",value:"c"},{label:"Java",value:"java"},{label:"GO",value:"go"},{label:"Ruby",value:"ruby"},{label:"Delphi",value:"delphi"}],mdxType:"Tabs"},Object(i.b)(s.a,{value:"php",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-php"}),"<?php\n\nrequire __DIR__.'/../../vendor/autoload.php'; // caminho relacionado a SDK\n\nuse Gerencianet\\Exception\\GerencianetException;\nuse Gerencianet\\Gerencianet;\n\n$file = file_get_contents(__DIR__.'/../config.json');\n$options = json_decode($file, true);\n\n// $subscription_id refere-se ao \"subscription_id\" da assinatura\n$params = [\n  'id' => $subscription_id\n];\n\n$body = [\n  'notification_url' => 'http://localhost.com',\n  'custom_id' => 'Custom Subscription 0001'\n];\n\ntry {\n    $api = new Gerencianet($options);\n    $subscription = $api->updateSubscriptionMetadata($params, $body);\n    print_r($subscription);\n} catch (GerencianetException $e) {\n    print_r($e->code);\n    print_r($e->error);\n    print_r($e->errorDescription);\n} catch (Exception $e) {\n    print_r($e->getMessage());\n}\n"))),Object(i.b)(s.a,{value:"python",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-py"}),"# encoding: utf-8\n\nfrom gerencianet import Gerencianet\nfrom credentials import CREDENTIALS\n\ngn = Gerencianet(CREDENTIALS)\n\nparams = {\n    'id': 1\n}\n\nbody = {\n    'notification_url': 'http://yourdomain.com',\n    'custom_id': 'my_new_id'\n}\n\nresponse =  gn.update_subscription_metadata(params=params, body=body)\nprint(response)\n"))),Object(i.b)(s.a,{value:"js",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),"'use strict';\n\nvar Gerencianet = require('gn-api-sdk-node');\nvar credentials = require('./credentials');\n\nvar options = {\n  client_id: credentials.client_id,\n  client_secret: credentials.client_secret,\n  sandbox: true\n}\n\nvar params = {\n  id: 1009\n}\n\nvar body = {\n  notification_url: 'http://yourdomain.com',\n  custom_id: 'my_new_id'\n}\n\nvar gerencianet = new Gerencianet(options);\n\ngerencianet\n  .updateSubscriptionMetadata(params, body)\n  .then(console.log)\n  .catch(console.log)\n  .done();\n"))),Object(i.b)(s.a,{value:"c",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),'using System;\n\nnamespace Gerencianet.SDK.Examples\n{\n    class UpdateSubscriptionMetadata\n    {\n        public static void Execute()\n        {\n            dynamic endpoints = new Endpoints(Credentials.Default.ClientId, Credentials.Default.ClientSecret, Credentials.Default.Sandbox);\n\n            var param = new\n            {\n                id = 1002,\n            };\n\n            var body = new\n            {\n                notification_url = "http://yourdomain.com",\n                custom_id = "my_new_id"\n            };\n\n            try\n            {\n                var response = endpoints.UpdateSubscriptionMetadata(param, body);\n                Console.WriteLine(response);\n            }\n            catch (GnException e)\n            {\n                Console.WriteLine(e.ErrorType);\n                Console.WriteLine(e.Message);\n            }\n        }\n    }\n}\n'))),Object(i.b)(s.a,{value:"java",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-java"}),'/* Para que a SDK Java funcione corretamente, \xe9 necess\xe1rio que a instancia\xe7\xe3o do m\xf3dulo seja feita atrav\xe9s da cria\xe7\xe3o de um objeto do tipo Gerencianet.\n\nSempre que quisermos chamar uma fun\xe7\xe3o da API, basta invocar o m\xe9todo call do objeto Gerencianet, passando como par\xe2metro o nome do m\xe9todo, os par\xe2metros da requisi\xe7\xe3o (sempre ser\xe1 um HashMap<String, String>), e o "body", que consiste nas propriedades a serem passadas como argumento na chamada de um fun\xe7\xe3o da SDK. O "body" pode ser declarado de duas formas: um JSONObject ou um Map<String, Object>.\n\nEsta estrutura \xe9 necess\xe1ria para representar o corpo da requisi\xe7\xe3o http que \xe9 enviada \xe0 um determinado endpoint. Se o "body" for um JSONObject, o retorno do m\xe9todo call ser\xe1 um JSONObject, se for um Map<String, Object>, o retorno do m\xe9todo call ser\xe1 um Map<String, Object>\n\nA seguir, disponibilizamos links de nosso Github mostrando duas formas diferentes de retorno: JSONObject\ne Map<String, Object>\n\n\nJSONObject\n\nhttps://github.com/gerencianet/gn-api-sdk-java-examples/blob/master/src/main/java/br/com/gerencianet/subscriptions/json/UpdateSubscription.java\n\n\nMap<String, Object>\n\nhttps://github.com/gerencianet/gn-api-sdk-java-examples/blob/master/src/main/java/br/com/gerencianet/subscriptions/map/UpdateSubscription.java\n\n*/\n'))),Object(i.b)(s.a,{value:"go",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-go"}),'package main\n\nimport (\n  "fmt"\n  "github.com/gerencianet/gn-api-sdk-go/gerencianet"\n  "github.com/gerencianet/gn-api-sdk-go/_examples/configs"\n)\n\nfunc main(){\n  \n  credentials := configs.Credentials\n  gn := gerencianet.NewGerencianet(credentials)\n\n  body := map[string]interface{} {\n    "custom_id": "Product 0001",\n    "notification_url": "http://domain.com/notification",\n  }\n\n  res, err := gn.UpdateSubscriptionMetadata(1, body) // no lugar do 1 coloque o subscription_id correto\n\n  if err != nil {\n    fmt.Println(err)\n  } else {\n    fmt.Println(res)\n  }\n}\n'))),Object(i.b)(s.a,{value:"ruby",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),'require "gerencianet"\nrequire_relative "./credentials"\n\noptions = {\n  client_id: CREDENTIALS::CLIENT_ID,\n  client_secret: CREDENTIALS::CLIENT_SECRET,\n  sandbox: true\n}\n\nparams = {\n  id: 1009\n}\n\nbody = {\n  notification_url: "http://yourdomain.com",\n  custom_id: "my_new_id"\n}\n\ngerencianet = Gerencianet.new(options)\nputs gerencianet.update_subscription_metadata(params: params, body: body)\n'))),Object(i.b)(s.a,{value:"delphi",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),"interface\nfunction UpdateSubscription(Id: String): String;\n\nimplementation\nuses uGerenciaClient, uGerenciaNetClientUtilities;\n{... your code ... }\n\nfunction UpdateSubscription(Id: String): String;\nvar\n  Body: String;\n  Params : String;\nbegin\n    Params := CreateRequestParams( [ 'id='+Id ] ).Text;\n    Body :=\n    '{\"custom_id\": \"Subscription10\",'+\n     '\"notification_url\": \"http://domain.com/notification\" }';\n\n    EnableService( 'GerenciaNet.dll' ); \n    ConfigureService( ToPAnsiChar( 'client_id' ),ToPAnsiChar( 'client_secret' ),'sandbox','config.json',''); \n    GerenciaNetAuthorize();\n\n    Result := ExecuteGerenciaNetRequest( 'updateSubscriptionMetadata', Params,'', Body );\nend;\n")))),Object(i.b)("br",null),Object(i.b)("h3",{id:"a-estrutura-hier\xe1rquica-dos-atributos-do-schema-que-podem-ser-utilizados"},"a) Estrutura hier\xe1rquica dos atributos do Schema que podem ser utilizados:"),Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{}),'"id": "/SubscriptionMetadataUpdate"\n    "notification_url"\n    "custom_id"\n')),Object(i.b)("p",null,"Para verificar mais detalhes, ",Object(i.b)("a",Object(t.a)({parentName:"p"},{href:"../AmbienteTestes/PlaygroundAssinaturas"}),"acesse aqui")," e explore em nosso Playground."),Object(i.b)("br",null),Object(i.b)("h3",{id:"b-atributos-que-podem-ser-utilizados-para-atualizar-url-de-notifica\xe7\xe3o-eou-custom_id"},"b) Atributos que podem ser utilizados para atualizar URL de notifica\xe7\xe3o e/ou custom_id:"),Object(i.b)("table",null,Object(i.b)("tbody",null,Object(i.b)("tr",null,Object(i.b)("th",null,"Atributo"),Object(i.b)("th",{align:"center"},"Descri\xe7\xe3o"),Object(i.b)("th",{align:"center"},"Obrigat\xf3rio"),Object(i.b)("th",{align:"center"},"Tipo")),Object(i.b)("tr",null,Object(i.b)("td",null,Object(i.b)("code",null,"notification_url")),Object(i.b)("td",{align:"left"},"Endere\xe7o de sua URL v\xe1lida que receber\xe1 as notifica\xe7\xf5es de mudan\xe7as de status das transa\xe7\xf5es.",Object(i.b)("br",null),Object(i.b)(d,{color:"#009615",mdxType:"Highlight"},"M\xe1ximo de 255 caracteres")),Object(i.b)("td",{align:"center"},"N\xe3o"),Object(i.b)("td",{align:"center"},"String/null")),Object(i.b)("tr",null,Object(i.b)("td",null,Object(i.b)("code",null,"custom_id")),Object(i.b)("td",{align:"left"},"Permite associar uma transa\xe7\xe3o Gerencianet a uma ID espec\xedfica de seu sistema ou aplica\xe7\xe3o, permitindo identific\xe1-la caso voc\xea possua uma identifica\xe7\xe3o espec\xedfica e queira mant\xea-la.",Object(i.b)("br",null),Object(i.b)(d,{color:"#009615",mdxType:"Highlight"},"M\xe1ximo de 255 caracteres")),Object(i.b)("td",{align:"center"},"N\xe3o"),Object(i.b)("td",{align:"center"},"String")))),Object(i.b)("br",null),Object(i.b)("hr",null),Object(i.b)("h2",{id:"6-listar-parcelas-de-acordo-com-a-bandeira-do-cart\xe3o-de-cr\xe9dito"},"6. Listar parcelas, de acordo com a bandeira do cart\xe3o de cr\xe9dito"),Object(i.b)("p",null,"O endpoint ",Object(i.b)("inlineCode",{parentName:"p"},"installments")," \xe9 utilizado para listar as parcelas de cada bandeira de cart\xe3o de cr\xe9dito, j\xe1 com os valores de juros e n\xfamero de parcelas calculados de acordo com a conta integradora. Ou seja, se sua conta possui uma configura\xe7\xe3o de juros de cart\xe3o (op\xe7\xe3o dispon\xedvel para clientes que optaram por receber valores de cart\xe3o de forma parcelada), n\xe3o \xe9 necess\xe1rio fazer nenhum c\xe1lculo, esse endpoint j\xe1 informa os valores calculados."),Object(i.b)("p",null,"Bandeiras dispon\xedveis: ",Object(i.b)("inlineCode",{parentName:"p"},"visa"),", ",Object(i.b)("inlineCode",{parentName:"p"},"mastercard"),", ",Object(i.b)("inlineCode",{parentName:"p"},"amex"),", ",Object(i.b)("inlineCode",{parentName:"p"},"elo")," e ",Object(i.b)("inlineCode",{parentName:"p"},"hipercard"),"."),Object(i.b)("p",null,"O exemplo abaixo mostra como isto pode ser feito, utilizando as SDK's dispon\xedveis:"),Object(i.b)(o.a,{defaultValue:"php",values:[{label:"PHP",value:"php"},{label:"Python",value:"python"},{label:"NodeJS",value:"js"},{label:".NET",value:"c"},{label:"Java",value:"java"},{label:"GO",value:"go"},{label:"Ruby",value:"ruby"},{label:"Delphi",value:"delphi"}],mdxType:"Tabs"},Object(i.b)(s.a,{value:"php",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-php"}),"<?php\n \nrequire __DIR__.'/../../vendor/autoload.php'; // caminho relacionado a SDK\n \nuse Gerencianet\\Exception\\GerencianetException;\nuse Gerencianet\\Gerencianet;\n \n$clientId = 'informe_seu_client_id'; // insira seu Client_Id, conforme o ambiente (Des ou Prod)\n$clientSecret = 'informe_seu_client_secret'; // insira seu Client_Secret, conforme o ambiente (Des ou Prod)\n \n$options = [\n  'client_id' => $clientId,\n  'client_secret' => $clientSecret,\n  'sandbox' => true // altere conforme o ambiente (true = desenvolvimento e false = producao)\n];\n\n$params = [\n  'total' => '20000',\n  'brand' => 'visa'\n];\n\ntry {\n    $api = new Gerencianet($options);\n    $installments = $api->getInstallments($params, []);\n    print_r($installments);\n} catch (GerencianetException $e) {\n    print_r($e->code);\n    print_r($e->error);\n    print_r($e->errorDescription);\n} catch (Exception $e) {\n    print_r($e->getMessage());\n}\n"))),Object(i.b)(s.a,{value:"python",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-py"}),"# encoding: utf-8\n\nfrom gerencianet import Gerencianet\nfrom credentials import CREDENTIALS\n\ngn = Gerencianet(CREDENTIALS)\n\nparams = {\n    'brand': 'visa',\n    'total': 5000\n}\n\nresponse =  gn.get_installments(params=params)\nprint(response)\n"))),Object(i.b)(s.a,{value:"js",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),"'use strict';\n\nvar Gerencianet = require('gn-api-sdk-node');\nvar credentials = require('./credentials');\n\nvar options = {\n  client_id: credentials.client_id,\n  client_secret: credentials.client_secret,\n  sandbox: true\n}\n\nvar params = {\n  type: 'visa',\n  total: 5000\n}\n\nvar gerencianet = new Gerencianet(options);\n\ngerencianet\n  .getInstallments(params)\n  .then(console.log)\n  .catch(console.log)\n  .done();\n"))),Object(i.b)(s.a,{value:"c",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),'using System;\n\nnamespace Gerencianet.SDK.Examples\n{\n    class GetInstallments\n    {\n        public static void Execute()\n        {\n            dynamic endpoints = new Endpoints(Credentials.Default.ClientId, Credentials.Default.ClientSecret, Credentials.Default.Sandbox);\n\n            var param = new\n            {\n                brand = "visa",\n                total = 2500\n            };\n\n            try\n            {\n                var response = endpoints.GetInstallments(param);\n                Console.WriteLine(response);\n            }\n            catch (GnException e)\n            {\n                Console.WriteLine(e.ErrorType);\n                Console.WriteLine(e.Message);\n            }\n        }\n    }\n}\n'))),Object(i.b)(s.a,{value:"java",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-java"}),'/* Para que a SDK Java funcione corretamente, \xe9 necess\xe1rio que a instancia\xe7\xe3o do m\xf3dulo seja feita atrav\xe9s da cria\xe7\xe3o de um objeto do tipo Gerencianet.\n\nSempre que quisermos chamar uma fun\xe7\xe3o da API, basta invocar o m\xe9todo call do objeto Gerencianet, passando como par\xe2metro o nome do m\xe9todo, os par\xe2metros da requisi\xe7\xe3o (sempre ser\xe1 um HashMap<String, String>), e o "body", que consiste nas propriedades a serem passadas como argumento na chamada de um fun\xe7\xe3o da SDK. O "body" pode ser declarado de duas formas: um JSONObject ou um Map<String, Object>.\n\nEsta estrutura \xe9 necess\xe1ria para representar o corpo da requisi\xe7\xe3o http que \xe9 enviada \xe0 um determinado endpoint. Se o "body" for um JSONObject, o retorno do m\xe9todo call ser\xe1 um JSONObject, se for um Map<String, Object>, o retorno do m\xe9todo call ser\xe1 um Map<String, Object>\n\nA seguir, disponibilizamos links de nosso Github mostrando duas formas diferentes de retorno: JSONObject\ne Map<String, Object>\n\n\nJSONObject\n\nhttps://github.com/gerencianet/gn-api-sdk-java-examples/blob/master/src/main/java/br/com/gerencianet/extra/json/GetInstallments.java\n\n\nMap<String, Object>\n\nhttps://github.com/gerencianet/gn-api-sdk-java-examples/blob/master/src/main/java/br/com/gerencianet/extra/map/GetInstallments.java\n\n*/\n'))),Object(i.b)(s.a,{value:"go",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-go"}),'// No c\xf3digo de exemplo de uso da SDK de Go, definimos as credenciais de acesso \xe0 API (Client_Id e Client_Secret) e o ambiente a ser usado (sandbox como \'true\' ou \'false\') dentro de um arquivo espec\xedfico (configs.go), que est\xe1 localizado no diret\xf3rio "_examples/configs". Essas credenciais s\xe3o exportadas atrav\xe9s da vari\xe1vel \'Credentials\'.\n\npackage main\n\nimport (\n  "fmt"\n  "github.com/gerencianet/gn-api-sdk-go/gerencianet"\n  "github.com/gerencianet/gn-api-sdk-go/_examples/configs"\n)\n\nfunc main(){\n  \n  credentials := configs.Credentials\n  gn := gerencianet.NewGerencianet(credentials)\n\n  res, err := gn.GetInstallments(20000, "visa") // total e bandeira\n\n  if err != nil {\n    fmt.Println(err)\n  } else {\n    fmt.Println(res)\n  }\n}\n'))),Object(i.b)(s.a,{value:"ruby",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),'require "gerencianet"\nrequire_relative "./credentials"\n\noptions = {\n  client_id: CREDENTIALS::CLIENT_ID,\n  client_secret: CREDENTIALS::CLIENT_SECRET,\n  sandbox: true\n}\n\nparams = {\n  brand: "visa",\n  total: 5000\n}\n\ngerencianet = Gerencianet.new(options)\nputs gerencianet.get_installments(params: params)\n'))),Object(i.b)(s.a,{value:"delphi",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-java"}),"interface\nfunction GetInstallments: String;\n\nimplementation\nuses\n  uGerenciaNetClientUtilities, uGerenciaClient;\n\nfunction GetInstallments: String;\nvar\n  Params: String;\nbegin\n    Params := CreateRequestParams( [ 'total=20000', 'brand=visa' ] ).Text;\n    Result := ExecuteGerenciaNetRequest( 'getInstallments','',Params,'' );\nend;\n")))),Object(i.b)("br",null),Object(i.b)("hr",null),Object(i.b)("h2",{id:"7-acrescentar-informa\xe7\xf5es-ao-hist\xf3rico-da-assinatura"},"7. Acrescentar informa\xe7\xf5es ao hist\xf3rico da assinatura"),Object(i.b)("p",null,"O hist\xf3rico de uma assinatura \xe9 semelhante ao hist\xf3rico de uma transa\xe7\xe3o. Por\xe9m, ela reflete as a\xe7\xf5es que a assinatura em si sofreu. E, da mesma forma, \xe9 poss\xedvel adicionar mensagens personalizadas ao hist\xf3rico de uma assinatura, sem que estas, contudo, influenciem no fluxo do mesmo."),Object(i.b)("p",null,"Para adicionar mensagens personalizadas no hist\xf3rico de uma assinatura, voc\xea deve enviar uma requisi\xe7\xe3o ",Object(i.b)("code",null,"POST")," para a rota ",Object(i.b)("code",null,"/v1/subscription/:id/history"),", onde ",Object(i.b)("code",null,":id")," \xe9 o ",Object(i.b)("code",null,"subscription_id")," da assinatura desejada."),Object(i.b)("p",null,"Caso queira, pode explorar e conhecer mais sobre este recurso ",Object(i.b)("a",Object(t.a)({parentName:"p"},{href:"../AmbienteTestes/PlaygroundAssinaturas"}),"usando nosso Playground"),"."),Object(i.b)("p",null,"O exemplo abaixo mostra como isto pode ser feito, utilizando as SDK's dispon\xedveis:"),Object(i.b)(o.a,{defaultValue:"php",values:[{label:"PHP",value:"php"},{label:"Python",value:"python"},{label:"NodeJS",value:"js"},{label:".NET",value:"c"},{label:"Java",value:"java"},{label:"GO",value:"go"},{label:"Ruby",value:"ruby"},{label:"Delphi",value:"delphi"}],mdxType:"Tabs"},Object(i.b)(s.a,{value:"php",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-php"}),"<?php\n \nrequire __DIR__.'/../../vendor/autoload.php'; // caminho relacionado a SDK\n \nuse Gerencianet\\Exception\\GerencianetException;\nuse Gerencianet\\Gerencianet;\n \n$clientId = 'informe_seu_client_id'; // insira seu Client_Id, conforme o ambiente (Des ou Prod)\n$clientSecret = 'informe_seu_client_secret'; // insira seu Client_Secret, conforme o ambiente (Des ou Prod)\n \n$options = [\n  'client_id' => $clientId,\n  'client_secret' => $clientSecret,\n  'sandbox' => true // altere conforme o ambiente (true = desenvolvimento e false = producao)\n];\n \n// $subscription_id refere-se ao ID da assinatura desejada\n$params = [\n  'id' => $subscription_id\n];\n\n$body = [\n  'description' => 'Esta assinatura \xe9 sobre um servi\xe7o'\n];\ntry {\n    $api = new Gerencianet($options);\n    $response = $api->createSubscriptionHistory($params, $body);\n    print_r($response);\n} catch (GerencianetException $e) {\n    print_r($e->code);\n    print_r($e->error);\n    print_r($e->errorDescription);\n} catch (Exception $e) {\n    print_r($e->getMessage());\n}\n"))),Object(i.b)(s.a,{value:"python",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-py"}),"# encoding: utf-8\n\nfrom gerencianet import Gerencianet\nfrom credentials import CREDENTIALS\n\ngn = Gerencianet(CREDENTIALS)\n\n\nparams = {\n    'id': 1000\n}\n\nbody = {\n    'description': \"Esta assinatura \xe9 sobre um servi\xe7o\"\n}\n\nresponse =  gn.create_subscription_history(params=params, body=body)\nprint(response)\n"))),Object(i.b)(s.a,{value:"js",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),"'use strict';\n\nvar Gerencianet = require('gn-api-sdk-node');\nvar credentials = require('./credentials');\n\nvar options = {\n    client_id: credentials.client_id,\n    client_secret: credentials.client_secret,\n    sandbox: true\n}\n\nvar params = {\n    id: 1001\n}\n\nvar body = {\n    description: 'Esta assinatura \xe9 sobre um servi\xe7o'\n}\n\nvar gerencianet = new Gerencianet(options);\n\ngerencianet\n    .createSubscriptionHistory(params, body)\n    .then(console.log)\n    .catch(console.log)\n    .done();\n"))),Object(i.b)(s.a,{value:"c",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),'using System;\n\nnamespace Gerencianet.SDK.Examples\n{\n    class CreateChargeHistory\n    {\n        public static void Execute()\n        {\n            dynamic endpoints = new Endpoints(Credentials.Default.ClientId, Credentials.Default.ClientSecret, Credentials.Default.Sandbox);\n\n            var param = new {\n                id = 1000\n            };\n\n            var body = new\n            {\n                description = "Esta assinatura \xe9 sobre um servi\xe7o"\n            };\n\n\n            try\n            {\n                var response = endpoints.CreateSubscriptionHistory(param, body);\n                Console.WriteLine(response);\n            }\n            catch (GnException e)\n            {\n                Console.WriteLine(e.ErrorType);\n                Console.WriteLine(e.Message);\n            }\n        }\n    }\n}\n'))),Object(i.b)(s.a,{value:"java",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-java"}),'/* Para que a SDK Java funcione corretamente, \xe9 necess\xe1rio que a instancia\xe7\xe3o do m\xf3dulo seja feita atrav\xe9s da cria\xe7\xe3o de um objeto do tipo Gerencianet.\n\nSempre que quisermos chamar uma fun\xe7\xe3o da API, basta invocar o m\xe9todo call do objeto Gerencianet, passando como par\xe2metro o nome do m\xe9todo, os par\xe2metros da requisi\xe7\xe3o (sempre ser\xe1 um HashMap<String, String>), e o "body", que consiste nas propriedades a serem passadas como argumento na chamada de um fun\xe7\xe3o da SDK. O "body" pode ser declarado de duas formas: um JSONObject ou um Map<String, Object>.\n\nEsta estrutura \xe9 necess\xe1ria para representar o corpo da requisi\xe7\xe3o http que \xe9 enviada \xe0 um determinado endpoint. Se o "body" for um JSONObject, o retorno do m\xe9todo call ser\xe1 um JSONObject, se for um Map<String, Object>, o retorno do m\xe9todo call ser\xe1 um Map<String, Object>\n\nA seguir, disponibilizamos links de nosso Github mostrando duas formas diferentes de retorno: JSONObject\ne Map<String, Object>\n\n\nJSONObject\n\nhttps://github.com/gerencianet/gn-api-sdk-java-examples/blob/master/src/main/java/br/com/gerencianet/subscriptions/json/CreateSubscriptionHistory.java\n\n\nMap<String, Object>\n\nhttps://github.com/gerencianet/gn-api-sdk-java-examples/blob/master/src/main/java/br/com/gerencianet/subscriptions/map/CreateSubscriptionHistory.java\n\n*/\n'))),Object(i.b)(s.a,{value:"go",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-go"}),'package main\n\nimport (\n  "fmt"\n  "github.com/gerencianet/gn-api-sdk-go/gerencianet"\n  "github.com/gerencianet/gn-api-sdk-go/_examples/configs"\n)\n\nfunc main(){\n  \n  credentials := configs.Credentials\n  gn := gerencianet.NewGerencianet(credentials)\n\n  body := map[string]interface{} {\n    "description": "Esta assinatura \xe9 sobre um servi\xe7o",\n  }\n\n  res, err := gn.CreateSubscriptionHistory(13100, body) // no lugar do 1 coloque o subscription_id certo\n\n  if err != nil {\n    fmt.Println(err)\n  } else {\n    fmt.Println(res)\n  }\n}\n'))),Object(i.b)(s.a,{value:"ruby",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),'require "gerencianet"\nrequire_relative "./credentials"\n\noptions = {\n  client_id: CREDENTIALS::CLIENT_ID,\n  client_secret: CREDENTIALS::CLIENT_SECRET,\n  sandbox: true\n}\n\nparams = {\n  id: 1000\n}\n\nbody = {\n  description: "Esta assinatura \xe9 sobre um servi\xe7o"\n}\n\ngerencianet = Gerencianet.new(options)\nputs gerencianet.create_subscription_history(params: params, body: body)\n'))),Object(i.b)(s.a,{value:"delphi",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),"function CreateSubscriptionHistory(Id: String): String;\nvar\n  Body : String;\n  UpdateParams : String;\nbegin\n    UpdateParams := CreateRequestParams( [ 'id='+Id ] ).Text;\n    Body := '{\"description\": \"Esta assinatura \xe9 sobre um servi\xe7o\"}';\n    Result := ExecuteGerenciaNetRequest( 'createSubscriptionHistory', UpdateParams, '', Body );\nend;\n")))),Object(i.b)("br",null),Object(i.b)("br",null),Object(i.b)("h3",{id:"a-estrutura-hier\xe1rquica-dos-atributos-do-schema-que-podem-ser-utilizados-1"},"a) Estrutura hier\xe1rquica dos atributos do Schema que podem ser utilizados:"),Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{}),'"id": "/SubscriptionHistory"\n    "description"\n')),Object(i.b)("p",null,"Para verificar mais detalhes, ",Object(i.b)("a",Object(t.a)({parentName:"p"},{href:"../AmbienteTestes/PlaygroundAssinaturas"}),"acesse aqui")," e explore em nosso Playground."),Object(i.b)("h3",{id:"b-atributos-que-podem-ser-usados-para-acrescentar-mensagens-ao-hist\xf3rico-da-assinatura"},"b) Atributos que podem ser usados para acrescentar mensagens ao hist\xf3rico da assinatura:"),Object(i.b)("table",null,Object(i.b)("tbody",null,Object(i.b)("tr",null,Object(i.b)("th",null,"Atributo"),Object(i.b)("th",{align:"center"},"Descri\xe7\xe3o"),Object(i.b)("th",{align:"center"},"Obrigat\xf3rio"),Object(i.b)("th",{align:"center"},"Tipo")),Object(i.b)("tr",null,Object(i.b)("td",null,Object(i.b)("code",null,"description")),Object(i.b)("td",{align:"left"},"Permite acrescentar informa\xe7\xf5es ao hist\xf3rico da assinatura sem influenciar no fluxo da mesmo.",Object(i.b)("br",null),Object(i.b)(d,{color:"#009615",mdxType:"Highlight"},"M\xednimo de 1 caractere e m\xe1ximo de 255 caracteres (String).")),Object(i.b)("td",{align:"center"},"Sim"),Object(i.b)("td",{align:"center"},"String")))),Object(i.b)("br",null),Object(i.b)("hr",null),Object(i.b)("h2",{id:"8-editar-nome-do-plano-de-assinatura"},"8. Editar nome do plano de assinatura"),Object(i.b)("p",null,"Permite alterar (editar) o nome de um plano de assinatura pr\xe9 existente. Para tal, deve ser fornecido o identificador do ",Object(i.b)("code",null,"plan_id")," desejado."),Object(i.b)("p",null,"Para tal, voc\xea deve enviar uma requisi\xe7\xe3o ",Object(i.b)("code",null,"PUT")," para a rota ",Object(i.b)("code",null,"/v1/plan/:id"),", onde ",Object(i.b)("code",null,":id")," \xe9 o ",Object(i.b)("code",null,"plan_id")," do plano desejado."),Object(i.b)("p",null,"O exemplo abaixo mostra como isto pode ser feito, utilizando as SDK's dispon\xedveis:"),Object(i.b)(o.a,{defaultValue:"php",values:[{label:"PHP",value:"php"},{label:"Python",value:"python"},{label:"NodeJS",value:"js"},{label:".NET",value:"c"},{label:"Java",value:"java"},{label:"GO",value:"go"},{label:"Ruby",value:"ruby"},{label:"Delphi",value:"delphi"}],mdxType:"Tabs"},Object(i.b)(s.a,{value:"php",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-php"}),"<?php\n \nrequire __DIR__.'/../../vendor/autoload.php'; // caminho relacionado a SDK\n \nuse Gerencianet\\Exception\\GerencianetException;\nuse Gerencianet\\Gerencianet;\n \n$clientId = 'informe_seu_client_id'; // insira seu Client_Id, conforme o ambiente (Des ou Prod)\n$clientSecret = 'informe_seu_client_secret'; // insira seu Client_Secret, conforme o ambiente (Des ou Prod)\n \n$options = [\n  'client_id' => $clientId,\n  'client_secret' => $clientSecret,\n  'sandbox' => true // altere conforme o ambiente (true = desenvolvimento e false = producao)\n];\n \n// $charge_id refere-se ao ID da transa\xe7\xe3o gerada anteriormente\n$params = [\n  'id' => $charge_id\n];\n\n$body = [ 'name' => 'Meu novo plano' ];\n\ntry {\n    $api = new Gerencianet($options);\n    $subscription = $api->updatePlan($params, $body);\n    print_r($subscription);\n} catch (GerencianetException $e) {\n    print_r($e->code);\n    print_r($e->error);\n    print_r($e->errorDescription);\n} catch (Exception $e) {\n    print_r($e->getMessage());\n}\n"))),Object(i.b)(s.a,{value:"python",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-py"}),"# encoding: utf-8\n\nfrom gerencianet import Gerencianet\nfrom credentials import CREDENTIALS\n\ngn = Gerencianet(CREDENTIALS)\n\nparams = {\n    'id': 1\n}\n\nbody = {\n    'name': 'My new plan'\n}\n\nresponse =  gn.update_plan(params=params, body=body)\nprint(response)\n"))),Object(i.b)(s.a,{value:"js",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),"'use strict';\n\nvar Gerencianet = require('gn-api-sdk-node');\nvar credentials = require('./credentials');\n\nvar options = {\n    client_id: credentials.client_id,\n    client_secret: credentials.client_secret,\n    sandbox: true\n}\n\nvar params = {\n    id: 1008\n}\n\nvar body = {\n    name: 'My new plan'\n}\n\nvar gerencianet = new Gerencianet(options);\n\ngerencianet\n    .updatePlan(params, body)\n    .then(console.log)\n    .catch(console.log)\n    .done();\n"))),Object(i.b)(s.a,{value:"c",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),'using System;\n\nnamespace Gerencianet.SDK.Examples\n{\n    class UpdateParcel\n    {\n        public static void Execute()\n        {\n            dynamic endpoints = new Endpoints(Credentials.Default.ClientId, Credentials.Default.ClientSecret, Credentials.Default.Sandbox);\n\n            var param = new {\n                id = 1001\n            };\n\n            var body = new {\n                name = "My new plan"\n            };\n\n            try\n            {\n                var response = endpoints.UpdatePlan(param, body);\n                Console.WriteLine(response);\n            }\n            catch (GnException e)\n            {\n                Console.WriteLine(e.ErrorType);\n                Console.WriteLine(e.Message);\n            }\n        }\n    }\n}\n'))),Object(i.b)(s.a,{value:"java",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-java"}),'/* Para que a SDK Java funcione corretamente, \xe9 necess\xe1rio que a instancia\xe7\xe3o do m\xf3dulo seja feita atrav\xe9s da cria\xe7\xe3o de um objeto do tipo Gerencianet.\n\nSempre que quisermos chamar uma fun\xe7\xe3o da API, basta invocar o m\xe9todo call do objeto Gerencianet, passando como par\xe2metro o nome do m\xe9todo, os par\xe2metros da requisi\xe7\xe3o (sempre ser\xe1 um HashMap<String, String>), e o "body", que consiste nas propriedades a serem passadas como argumento na chamada de um fun\xe7\xe3o da SDK. O "body" pode ser declarado de duas formas: um JSONObject ou um Map<String, Object>.\n\nEsta estrutura \xe9 necess\xe1ria para representar o corpo da requisi\xe7\xe3o http que \xe9 enviada \xe0 um determinado endpoint. Se o "body" for um JSONObject, o retorno do m\xe9todo call ser\xe1 um JSONObject, se for um Map<String, Object>, o retorno do m\xe9todo call ser\xe1 um Map<String, Object>\n\nA seguir, disponibilizamos links de nosso Github mostrando duas formas diferentes de retorno: JSONObject\ne Map<String, Object>\n\n\nJSONObject\n\nhttps://github.com/gerencianet/gn-api-sdk-java-examples/blob/master/src/main/java/br/com/gerencianet/subscriptions/json/UpdatePlan.java\n\n\nMap<String, Object>\n\nhttps://github.com/gerencianet/gn-api-sdk-java-examples/blob/master/src/main/java/br/com/gerencianet/subscriptions/map/UpdatePlan.java\n\n*/\n'))),Object(i.b)(s.a,{value:"go",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-go"}),'package main\n\nimport (\n  "fmt"\n  "github.com/gerencianet/gn-api-sdk-go/gerencianet"\n  "github.com/gerencianet/gn-api-sdk-go/_examples/configs"\n)\n\nfunc main(){\n  \n  credentials := configs.Credentials\n  gn := gerencianet.NewGerencianet(credentials)\n\n  body := map[string]interface{} {\n    "name": "My new plan",\n  }\n\n  res, err := gn.UpdatePlan(1, body) // no lugar do 1 coloque o plan_id certo\n\n  if err != nil {\n    fmt.Println(err)\n  } else {\n    fmt.Println(res)\n  }\n}\n'))),Object(i.b)(s.a,{value:"ruby",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-js"}),'require "gerencianet"\nrequire_relative "./credentials"\n\noptions = {\n  client_id: CREDENTIALS::CLIENT_ID,\n  client_secret: CREDENTIALS::CLIENT_SECRET,\n  sandbox: true\n}\n\nparams = {\n  id: 1008\n}\n\nbody = {\n  name: "My new plan"\n}\n\ngerencianet = Gerencianet.new(options)\nputs gerencianet.update_plan(params: params, body: body)\n'))),Object(i.b)(s.a,{value:"delphi",mdxType:"TabItem"},Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{className:"language-json"}),"interface\nfunction UpdatePlan(Id: String): String;\nvar\n  Body: String;\n  Params : String;\nbegin\n    Params := CreateRequestParams( [ 'id='+Id ] ).Text;\n    Body :=\n    '{\"name\": \"My new plan\" }';\n    Result := ExecuteGerenciaNetRequest( 'updatePlan', Params,'', Body );\nend;\n")))),Object(i.b)("br",null),Object(i.b)("h3",{id:"a-estrutura-hier\xe1rquica-dos-atributos-do-schema-que-podem-ser-utilizados-2"},"a) Estrutura hier\xe1rquica dos atributos do Schema que podem ser utilizados:"),Object(i.b)("pre",null,Object(i.b)("code",Object(t.a)({parentName:"pre"},{}),'"id": "/UpdatePlan"\n    "name"\n')),Object(i.b)("p",null,"Para verificar mais detalhes, ",Object(i.b)("a",Object(t.a)({parentName:"p"},{href:"../AmbienteTestes/PlaygroundAssinaturas"}),"acesse aqui")," e explore em nosso Playground."),Object(i.b)("br",null),Object(i.b)("h3",{id:"b-atributo-que-pode-ser-usado-para-editar-o-nome-de-um-plano-de-assinatura-pr\xe9-existente"},"b) Atributo que pode ser usado para editar o nome de um plano de assinatura pr\xe9-existente:"),Object(i.b)("br",null),Object(i.b)("table",null,Object(i.b)("tbody",null,Object(i.b)("tr",null,Object(i.b)("th",null,"Atributo"),Object(i.b)("th",{align:"center"},"Descri\xe7\xe3o"),Object(i.b)("th",{align:"center"},"Obrigat\xf3rio"),Object(i.b)("th",{align:"center"},"Tipo")),Object(i.b)("tr",null,Object(i.b)("td",null,Object(i.b)("code",null,"name")),Object(i.b)("td",{align:"left"},"Permite alterar (editar) o nome de um plano de assinatura pr\xe9 existente.",Object(i.b)("br",null),Object(i.b)(d,{color:"#009615",mdxType:"Highlight"},"M\xednimo de 1 caractere e m\xe1ximo de 255 caracteres (String).")),Object(i.b)("td",{align:"center"},"Sim"),Object(i.b)("td",{align:"center"},"String"))))))}p.isMDXComponent=!0},229:function(e,n,a){"use strict";a.d(n,"a",(function(){return u})),a.d(n,"b",(function(){return m}));var t=a(0),r=a.n(t);function i(e,n,a){return n in e?Object.defineProperty(e,n,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[n]=a,e}function o(e,n){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);n&&(t=t.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),a.push.apply(a,t)}return a}function s(e){for(var n=1;n<arguments.length;n++){var a=null!=arguments[n]?arguments[n]:{};n%2?o(Object(a),!0).forEach((function(n){i(e,n,a[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(a,n))}))}return e}function c(e,n){if(null==e)return{};var a,t,r=function(e,n){if(null==e)return{};var a,t,r={},i=Object.keys(e);for(t=0;t<i.length;t++)a=i[t],n.indexOf(a)>=0||(r[a]=e[a]);return r}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)a=i[t],n.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=r.a.createContext({}),d=function(e){var n=r.a.useContext(l),a=n;return e&&(a="function"==typeof e?e(n):s(s({},n),e)),a},u=function(e){var n=d(e.components);return r.a.createElement(l.Provider,{value:n},e.children)},b={inlineCode:"code",wrapper:function(e){var n=e.children;return r.a.createElement(r.a.Fragment,{},n)}},p=r.a.forwardRef((function(e,n){var a=e.components,t=e.mdxType,i=e.originalType,o=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),u=d(a),p=t,m=u["".concat(o,".").concat(p)]||u[p]||b[p]||i;return a?r.a.createElement(m,s(s({ref:n},l),{},{components:a})):r.a.createElement(m,s({ref:n},l))}));function m(e,n){var a=arguments,t=n&&n.mdxType;if("string"==typeof e||t){var i=a.length,o=new Array(i);o[0]=p;var s={};for(var c in n)hasOwnProperty.call(n,c)&&(s[c]=n[c]);s.originalType=e,s.mdxType="string"==typeof e?e:t,o[1]=s;for(var l=2;l<i;l++)o[l]=a[l];return r.a.createElement.apply(null,o)}return r.a.createElement.apply(null,a)}p.displayName="MDXCreateElement"},233:function(e,n,a){"use strict";function t(e){var n,a,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(n=0;n<e.length;n++)e[n]&&(a=t(e[n]))&&(r&&(r+=" "),r+=a);else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}n.a=function(){for(var e,n,a=0,r="";a<arguments.length;)(e=arguments[a++])&&(n=t(e))&&(r&&(r+=" "),r+=n);return r}},234:function(e,n,a){"use strict";var t=a(0);const r=Object(t.createContext)({tabGroupChoices:{},setTabGroupChoices:()=>{},isAnnouncementBarClosed:!1,closeAnnouncementBar:()=>{}});n.a=r},235:function(e,n,a){"use strict";var t=a(0),r=a(234);n.a=function(){return Object(t.useContext)(r.a)}},236:function(e,n,a){"use strict";var t=a(0),r=a.n(t),i=a(235),o=a(233),s=a(92),c=a.n(s);const l=37,d=39;n.a=function(e){const{block:n,children:a,defaultValue:s,values:u,groupId:b}=e,{tabGroupChoices:p,setTabGroupChoices:m}=Object(i.a)(),[j,g]=Object(t.useState)(s);if(null!=b){const e=p[b];null!=e&&e!==j&&u.some(n=>n.value===e)&&g(e)}const O=e=>{g(e),null!=b&&m(b,e)},v=[];return r.a.createElement("div",null,r.a.createElement("ul",{role:"tablist","aria-orientation":"horizontal",className:Object(o.a)("tabs",{"tabs--block":n})},u.map(({value:e,label:n})=>r.a.createElement("li",{role:"tab",tabIndex:"0","aria-selected":j===e,className:Object(o.a)("tabs__item",c.a.tabItem,{"tabs__item--active":j===e}),key:e,ref:e=>v.push(e),onKeyDown:e=>((e,n,a)=>{switch(a.keyCode){case d:((e,n)=>{const a=e.indexOf(n)+1;e[a]?e[a].focus():e[0].focus()})(e,n);break;case l:((e,n)=>{const a=e.indexOf(n)-1;e[a]?e[a].focus():e[e.length-1].focus()})(e,n)}})(v,e.target,e),onFocus:()=>O(e),onClick:()=>O(e)},n))),r.a.createElement("div",{role:"tabpanel",className:"margin-vert--md"},t.Children.toArray(a).filter(e=>e.props.value===j)[0]))}},237:function(e,n,a){"use strict";var t=a(0),r=a.n(t);n.a=function(e){return r.a.createElement("div",null,e.children)}}}]);